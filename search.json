[{"title":"给Butterfly加上顶部加载条","url":"/article/13d6481a.html","content":"<blockquote>\n<p>效果已在本站实装，切换页面顶部有加载进度条<br>参考文章<a href=\"https://cloud.tencent.com/developer/article/1960734\">为Hexo博客添加顶部加载条</a></p>\n</blockquote>\n<h1 id=\"旧版顶部长条\"><a href=\"#旧版顶部长条\" class=\"headerlink\" title=\"旧版顶部长条\"></a>旧版顶部长条</h1><h2 id=\"引入css\"><a href=\"#引入css\" class=\"headerlink\" title=\"引入css\"></a>引入css</h2><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.pace</span> &#123;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">pointer-events</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">pointer-events</span>: none;</span><br><span class=\"line\">  -webkit-user-select: none;</span><br><span class=\"line\">  -moz-user-select: none;</span><br><span class=\"line\">  user-select: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.pace-inactive</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#e90f92</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">2000</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress-inner</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">#e90f92</span>, <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"number\">#e90f92</span>;</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1.0</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">3deg</span>) <span class=\"built_in\">translate</span>(<span class=\"number\">0px</span>, -<span class=\"number\">4px</span>);</span><br><span class=\"line\">  -moz-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">3deg</span>) <span class=\"built_in\">translate</span>(<span class=\"number\">0px</span>, -<span class=\"number\">4px</span>);</span><br><span class=\"line\">  -ms-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">3deg</span>) <span class=\"built_in\">translate</span>(<span class=\"number\">0px</span>, -<span class=\"number\">4px</span>);</span><br><span class=\"line\">  -o-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">3deg</span>) <span class=\"built_in\">translate</span>(<span class=\"number\">0px</span>, -<span class=\"number\">4px</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">3deg</span>) <span class=\"built_in\">translate</span>(<span class=\"number\">0px</span>, -<span class=\"number\">4px</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-activity</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">2000</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: solid <span class=\"number\">2px</span> transparent;</span><br><span class=\"line\">  <span class=\"attribute\">border-top-color</span>: <span class=\"number\">#e90f92</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-left-color</span>: <span class=\"number\">#e90f92</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">animation</span>: pace-spinner <span class=\"number\">400ms</span> linear infinite;</span><br><span class=\"line\">  -moz-<span class=\"attribute\">animation</span>: pace-spinner <span class=\"number\">400ms</span> linear infinite;</span><br><span class=\"line\">  -ms-<span class=\"attribute\">animation</span>: pace-spinner <span class=\"number\">400ms</span> linear infinite;</span><br><span class=\"line\">  -o-<span class=\"attribute\">animation</span>: pace-spinner <span class=\"number\">400ms</span> linear infinite;</span><br><span class=\"line\">  <span class=\"attribute\">animation</span>: pace-spinner <span class=\"number\">400ms</span> linear infinite;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">@-webkit-keyframes</span> pace-spinner &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@-moz-keyframes</span> pace-spinner &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; -moz-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; -moz-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@-o-keyframes</span> pace-spinner &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; -o-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; -o-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@-ms-keyframes</span> pace-spinner &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; -ms-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; -ms-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> pace-spinner &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>); &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>); &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 在下面修改进度条外观 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#1ef4fbec</span>; <span class=\"comment\">/*进度条颜色*/</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">3px</span>;<span class=\"comment\">/* 进度条厚度 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress-inner</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">#1ef4fbce</span>, <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"number\">#1ecffbd0</span>; <span class=\"comment\">/*阴影颜色*/</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-activity</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top-color</span>: <span class=\"number\">#1edafbe5</span>;\t<span class=\"comment\">/*上边框颜色*/</span></span><br><span class=\"line\">  <span class=\"attribute\">border-left-color</span>: <span class=\"number\">#1ef4fbec</span>;\t<span class=\"comment\">/*左边框颜色*/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"引入js\"><a href=\"#引入js\" class=\"headerlink\" title=\"引入js\"></a>引入js</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">&quot;//cdn.bootcss.com/pace/1.0.2/pace.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p><strong>然后三连即可</strong></p>\n<hr>\n<h1 id=\"新版胶囊\"><a href=\"#新版胶囊\" class=\"headerlink\" title=\"新版胶囊\"></a>新版胶囊</h1><p><img src=https://cdn.chuckle.top/images/10-1.webp width=\"50%\" height=\"50%\"></p>\n<p>&emsp;&emsp;看这个文章即可，虽然实现过程不太一样，但效果差不多：<a href=\"https://xlenco.eu.org/posts/769f.html\">为你的Butterfly添加顶部加载进度条</a></p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"记一次超声波避障小车比赛","url":"/article/81935dcb.html","content":"<blockquote>\n<p>去年第一次红外循迹比赛的时候我还没整博客，第二次便记录一下吧</p>\n</blockquote>\n<h1 id=\"比赛简介\"><a href=\"#比赛简介\" class=\"headerlink\" title=\"比赛简介\"></a>比赛简介</h1><p>学校机械院举办的智能小车比赛，一学期一次，上次是红外循迹，这次是超声波避障<br>小车是学院统一采购的，第一次去比赛时拿到的是散件，51单片机、电阻、其它芯片等，都得自己焊  </p>\n<hr>\n<h1 id=\"关于队伍\"><a href=\"#关于队伍\" class=\"headerlink\" title=\"关于队伍\"></a>关于队伍</h1><p>一位机械院的同学在酷安私信我参不参加智能小车比赛，我那时还不认识他，但想着反正闲着也是闲着，参加点活动也好，便一拍即合，后面他又拉来了商学院的一位男同学和两位女同学<br>第一次比赛，我们也是唯一有商学院同学的队伍（其它队伍队均两机械两计科），不过我们队也是女同学最多的，Buff加满   </p>\n<p>队名我提议是秋名山车队，又是一拍即合  </p>\n<hr>\n<h1 id=\"关于比赛\"><a href=\"#关于比赛\" class=\"headerlink\" title=\"关于比赛\"></a>关于比赛</h1><p>小车在上次比赛时就已搞好，所以这次重点在写个超声波避障程序烧进去<br>作为队里唯一的计科同学，这个程序当然得我搞了<br>但我倒也摸鱼，程序不难，测试过一次没毛病，剩下就是数值的微调（这就是我比赛前一天晚上才去调的原因么（误））</p>\n<hr>\n<h1 id=\"比赛过程\"><a href=\"#比赛过程\" class=\"headerlink\" title=\"比赛过程\"></a>比赛过程</h1><p>过程简单，就是一遍一遍测试，然后改改数值，调调机制，然后队伍抽签轮流上，看谁跑的时间短<br>上午7个队（本来12个队，弃权了5个，新报名的队伍焊坏小车的不少），取前三进入下午复赛  </p>\n<hr>\n<h1 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h1><p>第一次的比赛我们第二，这次还是第二，属于万年老二了<br>上次有初赛复赛都有奖册，我拿了一本，这次只有复赛一本册子，给了队里一位女同学，争取以后人手一本  </p>\n<hr>\n<h1 id=\"一些图片\"><a href=\"#一些图片\" class=\"headerlink\" title=\"一些图片\"></a>一些图片</h1><div><img src=https://cdn.chuckle.top/images/12-1.webp width=\"100%\" height=\"100%\"></div>\n\n<div><img src=https://cdn.chuckle.top/images/12-2.webp width=\"100%\" height=\"100%\"></div>\n\n<div><img src=https://cdn.chuckle.top/images/12-3.webp width=\"100%\" height=\"100%\"></div>\n\n<div><img src=https://cdn.chuckle.top/images/12-4.webp width=\"100%\" height=\"100%\"></div>\n\n<hr>\n","categories":["Chuckle"],"tags":["Chuckle"]},{"title":"FakeLocation模拟校园跑教程","url":"/article/c5d354fd.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p><strong>本文未在任何平台出售，本站内容免费向互联网所有用户提供，分享本站文章时禁止商业性使用，如有发现倒卖行为欢迎向博主反馈</strong></p>\n<p>我们学校用的是运动世界校园，所以就用这个软件为例，其他软件差不多<br>博主测试设备：红米k40安卓11、红米6pro安卓9  </p>\n<blockquote>\n<p>吐槽：这软件，什么都往里塞，天天更新加广告（一指禅干掉）  </p>\n</blockquote>\n<p><strong>2023-03-17</strong>这学期校园跑软件换成小步点了，软件使用手册里明确指出root和xp框架:<br><img src=https://cdn.chuckle.top/images/11-5.webp width=\"45%\"></p>\n<p>问题不大，照样。<br><img src=https://cdn.chuckle.top/images/11-6.webp width=\"30%\"></p>\n<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1><p>1、首先是有面具<strong>Root</strong>，而非小米官方等残废root<br>2、下载万恶之源：运动世界校园<br>3、下载安装<a href=\"https://wwm.lanzoul.com/iMHUo057ibyb\">FakeLocation1.3.0.2版本</a><br>4、下载安装<a href=\"https://wwm.lanzoul.com/iQ6lq057irkd\">隐藏应用列表xp模块</a>我使用的版本1.6较老，但能稳定用我也没去升级<br>5、安装lsp/xp框架<br>6、下载安装<a href=\"https://wwm.lanzoul.com/i8RYM057ibzc\">Godvip</a>  </p>\n<hr>\n<h1 id=\"隐藏防检测\"><a href=\"#隐藏防检测\" class=\"headerlink\" title=\"隐藏防检测\"></a>隐藏防检测</h1><h2 id=\"运动世界校园权限设置\"><a href=\"#运动世界校园权限设置\" class=\"headerlink\" title=\"运动世界校园权限设置\"></a>运动世界校园权限设置</h2><p>确保权限设置与图一致，关闭miui的模糊定位  </p>\n<div><img src=https://cdn.chuckle.top/images/11-1.webp width=\"75%\"></div>\n\n<h2 id=\"隐藏root\"><a href=\"#隐藏root\" class=\"headerlink\" title=\"隐藏root\"></a>隐藏root</h2><p>面具本身随机包名安装<br>面具hide对运动世界校园全勾选（如果是24版本的面具，自行去酷安找shamiko模块隐藏root教程，我还没升到24，因为我用hide就能很好地隐藏root）  </p>\n<h2 id=\"隐藏应用列表设置\"><a href=\"#隐藏应用列表设置\" class=\"headerlink\" title=\"隐藏应用列表设置\"></a>隐藏应用列表设置</h2><p>推荐先看酷安详细图文：<a href=\"https://www.coolapk.com/feed/34458057?shareKey=YjBlYzcxNDgwMzYwNjI4OGIzZmM~\">隐藏应用列表使用教程 Pro</a>  </p>\n<p>简单速通：<br>1、lsp/edxp启用<strong>隐藏应用列表</strong><br>2、也许需要重启手机<br>3、点击模板管理，启用所有隐藏方式<br>4、选择要隐藏的应用，将FakeLocation、面具、lsp等搞机应用勾选<br>5、对运动校园应用模板  </p>\n<div><img src=https://cdn.chuckle.top/images/11-2.webp width=\"100%\" height=\"100%\"></div>\n\n<h2 id=\"破解FakeLocation\"><a href=\"#破解FakeLocation\" class=\"headerlink\" title=\"破解FakeLocation\"></a>破解FakeLocation</h2><p>lsp启用Godvip，模块对FakeLocation起作用  </p>\n<h2 id=\"FakeLocation设置\"><a href=\"#FakeLocation设置\" class=\"headerlink\" title=\"FakeLocation设置\"></a>FakeLocation设置</h2><p>给FakeLocation软件Root权限<br>FakeLocation设置页只打开<strong>模拟GPS信号</strong>  </p>\n<div><img src=https://cdn.chuckle.top/images/11-3.webp width=\"50%\" height=\"50%\"></div>\n\n<h2 id=\"如何模拟跑\"><a href=\"#如何模拟跑\" class=\"headerlink\" title=\"如何模拟跑\"></a>如何模拟跑</h2><p>首先到一个较空旷，能接收到gps信号的地方（宿舍阳台、宿舍走廊），拿个椅子坐下，手机关闭wifi（可以开启蓝牙和数据）<br>FakeLocation选择<strong>要模拟的位置</strong>到跑道，当然具体在哪无所谓<br>打开运动软件，<strong>待运动软件接收到gps信号</strong>提示可以开始跑，返回FakeLocation软件，点击<strong>启动模拟</strong>（第一次打开需要等待一会，建议在模拟跑前先开关一次预热），并<strong>打开摇杆</strong>  </p>\n<p>摇杆设置：<br>摇杆里的<strong>模拟gps信号</strong>和<strong>步频模拟</strong>都得关掉，不能打开！不能打开！不能打开！   </p>\n<div><img src=https://cdn.chuckle.top/images/11-4.webp width=\"100%\" height=\"100%\"></div>\n\n<p>接着返回运动软件，你会发现显示的位置瞬移到了之前选择的模拟位置处，然后开始运动，要去哪就<strong>用摇杆摇</strong>到哪，步频可以使用其它软件模拟，但<strong>建议抖手</strong><br>跑完后先结束运动，关闭运动软件，再停止位置模拟  </p>\n<hr>\n<h1 id=\"可能出现的问题\"><a href=\"#可能出现的问题\" class=\"headerlink\" title=\"可能出现的问题\"></a>可能出现的问题</h1><p>1、当摇杆回到中间时（速度为0），运动软件会提示gps信号弱，这是正常现象<br>2、启动模拟后，运动软件上显示的位置没变：杀掉运动软件和FakeLocation，重新操作一次<br>3、启动模拟后，运动软件上显示的位置变了，但一开始运动位置就变回原来位置：杀掉运动软件和FakeLocation，重新操作一次<br>4、被检测到环境异常4：FakeLocation没隐藏好、运动软件检测到gps信号长期未变。请自查有无和教程操作不同的地方  </p>\n<h1 id=\"温馨提示\"><a href=\"#温馨提示\" class=\"headerlink\" title=\"温馨提示\"></a>温馨提示</h1><blockquote>\n<p>如有问题可在评论区回复或在酷安找我<br>本教程虽然目前还可行，博主自用了两个学期也没被检测到一次，但安卓设备众多，系统繁杂，不确保教程的通用性<br>Root手机导致手机变砖、假跑被检测到影响体育成绩等后果，博主不承担任何责任</p>\n</blockquote>\n<hr>\n","categories":["教程"],"tags":["教程"]},{"title":"超星学习通数据泄露事件记录","url":"/article/af84a159.html","content":"<h1 id=\"事件时间轴\"><a href=\"#事件时间轴\" class=\"headerlink\" title=\"事件时间轴\"></a>事件时间轴</h1><div class=\"timeline blue\"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴 </p>\n</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-06-20</p>\n</div></div><div class='timeline-item-content'><ol>\n<li>学习通被爆有<code>1.7亿</code>师生账号信息<code>数据泄露</code><br>包括手机号码、邮箱、姓名、学校、班级、明文密码等信息<br>随后，热搜词条<code>#学习通数据库疑发生信息泄露#</code>被撤,词条内容被屏蔽<div><img src=https://cdn.chuckle.top/images/13-1.webp width=\"40%\" height=\"40%\"></div>\n\n</li>\n</ol>\n</div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-06-21 上午</p>\n</div></div><div class='timeline-item-content'><p><code>#学习通#</code>词条登顶微博热搜第一<br>很多人发现自己学习通的使用量多达上万、几十万次（图为博主的次数，2万次）</p>\n<div><img src=https://cdn.chuckle.top/images/13-2.webp width=\"40%\" height=\"40%\"></div>\n\n</div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-06-21 15:45</p>\n</div></div><div class='timeline-item-content'><p>学习通就泄露事件做出声明：<code>目前还未发现数据泄露，确认不存在明文密码泄露。</code></p>\n<div><img src=https://cdn.chuckle.top/images/13-3.webp width=\"40%\" height=\"40%\"></div>\n\n</div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-06-21 16:17</p>\n</div></div><div class='timeline-item-content'><p>学习通就异常使用量做出声明：<code>正常现象。</code></p>\n<div><img src=https://cdn.chuckle.top/images/13-4.webp width=\"40%\" height=\"40%\"></div>\n\n</div></div></div>\n<hr>\n<h1 id=\"事件相关\"><a href=\"#事件相关\" class=\"headerlink\" title=\"事件相关\"></a>事件相关</h1><ol>\n<li><p>2020年超星学习通就被<a href=\"https://www.cnvd.org.cn/\">国家信息安全漏洞共享平台(cnvd)</a>警告存在<code>信息泄露漏洞</code></p>\n<div class=\"tag link\"><a class=\"link-card\" title=\"超星学习通App存在信息泄露漏洞\" href=\"https://www.cnvd.org.cn/flaw/show/CNVD-2020-61119\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">超星学习通App存在信息泄露漏洞</p><p class=\"url\">https://www.cnvd.org.cn/flaw/show/CNVD-2020-61119</p></div></a></div>\n<div><img src=https://cdn.chuckle.top/images/13-5.webp width=\"40%\" height=\"40%\"></div>\n</li>\n<li><p>著名蓝色机器人发通知与投票：</p>\n<div><img src=https://cdn.chuckle.top/images/13-6.webp width=\"40%\" height=\"40%\"></div>\n</li>\n<li><p>博主已中招</p>\n<div><img src=https://cdn.chuckle.top/images/13-7.webp width=\"40%\" height=\"40%\"></div>\n</li>\n<li><p>学习通的一些<code>免责条款</code>：总之，无责</p>\n<div><img src=https://cdn.chuckle.top/images/13-8.webp width=\"40%\" height=\"40%\"></div>\n\n\n</li>\n</ol>\n<hr>\n","categories":["其它"],"tags":["其它"]},{"title":"JavaWeb笔记--寄途的初始","url":"/article/7c1f73d5.html","content":"<p>咕咕咕（</p>\n","categories":["学习笔记"],"tags":["JavaWeb","JAVA"]},{"title":"JavaSE查缺补漏笔记","url":"/article/3c6a38d9.html","content":"<blockquote>\n<p>跟着翁恺或者学校的进度学完的JavaSE，如泛型、I/O、线程、映射、反射等等大部分没有提到或只是简略介绍，想要从JavaSE衔接上JavaEE，这些知识不可跳过。</p>\n</blockquote>\n","categories":["学习笔记"],"tags":["JAVA","JavaSE"]},{"title":"小米妙享--MIUI的生态互联","url":"/article/eb38f645.html","content":"<h1 id=\"引言\"><a href=\"#引言\" class=\"headerlink\" title=\"引言\"></a>引言</h1><p>&emsp;&emsp;不少人去年就听说了这个功能，作为小米产品生态构建的重要一环（全局设备互联互通），这个功能我却迟迟没去更新使用，因为它与miui+的割裂导致使用起来比较繁琐，也因为它把平板排除于外，当然最主要是我实在没有这么多设备需要去<code>流转</code>。<br>&emsp;&emsp;但在最近的更新中，<code>小米妙享</code>不仅将miui+给整合进了<code>妙享中心</code>，还带上了小米平板5系列，为平板与电脑的互联互通增加了几个重要的功能。</p>\n<h1 id=\"如何安装\"><a href=\"#如何安装\" class=\"headerlink\" title=\"如何安装\"></a>如何安装</h1><p>&emsp;&emsp;我喜欢小米的一点，就是它将系统功能都作为一个个软件的形式打包，不同批次的软件之间兼容性也不错，除非跨安卓版本才能实现的功能（例如米版的全局手写，这个基于安卓12，自然安卓11用不了），都可以通过安装或更新软件来使用新功能，正好，小米妙享就是这样一个安装即用的系统功能。  </p>\n<h2 id=\"平板-手机端\"><a href=\"#平板-手机端\" class=\"headerlink\" title=\"平板/手机端\"></a>平板/手机端</h2><p>&emsp;&emsp;我的平板还在13.0.6这个稳定版养老，下载安装最新的<code>miui+</code>、<code>投屏</code>、<code>小米互联通信</code>,手机端就搞定了(没有资格就刷个<code>Miui解锁小米妙享模块</code>)。</p>\n<h2 id=\"电脑端\"><a href=\"#电脑端\" class=\"headerlink\" title=\"电脑端\"></a>电脑端</h2><p>&emsp;&emsp;目前电脑端软件有限制，只有小米电脑上才能使用，但这难不倒酷友们，跟着此帖即可在电脑端安装好妙享中心：<a href=\"https://www.coolapk.com/feed/38357299?shareKey=MzdiMWMzNjNmMTgwNjJmYTcyYmI~&amp;shareUid=4137393&amp;shareFrom=com.coolapk.market_12.0.2\">最新miui+（小米妙享）PC版安装及配置教程</a>。</p>\n<h1 id=\"使用体验\"><a href=\"#使用体验\" class=\"headerlink\" title=\"使用体验\"></a>使用体验</h1><h2 id=\"互联\"><a href=\"#互联\" class=\"headerlink\" title=\"互联\"></a>互联</h2><p>&emsp;&emsp;电脑打开蓝牙，平板打开蓝牙、wifi、小米互传，让设备处于同一网络下，电脑端点击连接，等待<code>1-2秒</code>，很快即可连接上。且蓝牙wifi我一般保持常开，平板使用时也是手机或电脑给平板开热点，基本能做到需要就点击连接。<br><img src=https://cdn.chuckle.top/images/19-1.webp width=\"60%\" height=\"60%\"><img src=https://cdn.chuckle.top/images/19-3.webp width=\"60%\" height=\"60%\"></p>\n<h2 id=\"平板作为电脑副屏\"><a href=\"#平板作为电脑副屏\" class=\"headerlink\" title=\"平板作为电脑副屏\"></a>平板作为电脑副屏</h2><p>&emsp;&emsp;这个功能是这次妙享更新后给米版上的新功能，在连接成功后可以看到两种副屏方式，作为镜像屏，或者扩展屏。选择任意一种副屏方式，同样等待2秒，就可完成副屏的启动。<br>&emsp;&emsp;作为一个<code>无线可触摸</code>的副屏，使用起来非常舒适。<br><img src=https://cdn.chuckle.top/images/19-2.webp width=\"60%\" height=\"60%\">&emsp;&emsp;侧边栏有一些快捷键：“返回桌面”“多任务”“保存”“返回/撤销上一步操作”“保存截图”“屏幕键盘”“退出”。</p>\n<h3 id=\"作为镜像屏\"><a href=\"#作为镜像屏\" class=\"headerlink\" title=\"作为镜像屏\"></a>作为镜像屏</h3><p>&emsp;&emsp;利用秒表测试有0.04s延迟（屏幕一半播视频，一半秒表计时，拍照算时差，确保符合正常使用的延迟），实际体验下延迟确实可忽略不计，分辨率1920*1080（等同电脑屏幕分辨率），但帧率在40到60之间波动，习惯了120帧确实有点不舒服，不过也远胜我之前用的spacedesk。<br><img src=https://cdn.chuckle.top/images/19-4.webp width=\"60%\" height=\"60%\">&emsp;&emsp;小米妙享实际上是一个软件，那当然可以上滑挂在后台，或者挂个小窗在前台。  </p>\n<p><img src=https://cdn.chuckle.top/images/19-5.webp width=\"60%\" height=\"60%\">&emsp;&emsp;在电脑端还可以设置侧边栏的位置、使用米板作为电脑的音频输出等。</p>\n<p><img src=https://cdn.chuckle.top/images/19-6.webp width=\"60%\" height=\"60%\"></p>\n<h3 id=\"作为扩展屏\"><a href=\"#作为扩展屏\" class=\"headerlink\" title=\"作为扩展屏\"></a>作为扩展屏</h3><p>&emsp;&emsp;作为扩展屏时与镜像屏时差不多，同样有低延迟、高分辨率（作为扩展屏时分辨率1920*1200），同样可以挂后台挂小窗，设置侧边栏的位置、使用米板作为电脑的音频输出等。<br>&emsp;&emsp;但此时帧率在30到50之间波动，可以感觉到鼠标拖动的略微不顺畅的卡顿，且窗口在平板与电脑直接拖动时，大小变化还有待优化，经常拖到平板还得再手动调小窗口大小。<br><img src=https://cdn.chuckle.top/images/19-7.webp width=\"60%\" height=\"60%\"><br>&emsp;&emsp;无论是作为镜像还是扩展屏，吃电脑资源都不多。<br><img src=https://cdn.chuckle.top/images/19-10.webp width=\"70%\" height=\"70%\"></p>\n<h2 id=\"平板投屏到电脑\"><a href=\"#平板投屏到电脑\" class=\"headerlink\" title=\"平板投屏到电脑\"></a>平板投屏到电脑</h2><p>&emsp;&emsp;应用流转仅限于小米的设备，自然投屏也需要小米笔记本才行，不过酷友<a href=\"https://www.coolapk.com/u/1189245\">@迷璐</a>的模块可以让其它品牌的电脑也出现在妙享界面，只需要将平板画面拖到电脑的气泡上，1-2秒后，电脑上就有平板的投屏窗口了，投屏后平板可关闭屏幕。<br><img src=https://cdn.chuckle.top/images/19-11.webp width=\"60%\" height=\"60%\">&emsp;&emsp;投屏窗口可最大化可最小化，利用秒表测试有0.07s延迟（主界面播视频，小窗秒表计时，拍照算时差，确保符合正常使用的延迟），分辨率至少有1080p以上，帧数稳稳50-60帧。</p>\n<p><img src=https://cdn.chuckle.top/images/19-12.webp width=\"60%\" height=\"60%\">&emsp;&emsp;值得注意的点是，这不是简单的投屏，投屏后，不仅平板的画面会在电脑上出现个窗口，平板上的所有音频也会用电脑的喇叭输出，而且可以直接使用电脑的键盘、鼠标去控制、操作平板。</p>\n<h2 id=\"互通\"><a href=\"#互通\" class=\"headerlink\" title=\"互通\"></a>互通</h2><p>&emsp;&emsp;平板端截图，电脑会弹出有图和保存按键的小悬浮窗。<br><img src=https://cdn.chuckle.top/images/19-8.webp width=\"40%\" height=\"40%\">&emsp;&emsp;平板端或电脑端复制文字内容，另一个设备会同步这个内容到剪切板，并弹窗提示，且电脑端的弹窗会显示复制的文字内容。当任意一设备复制的是网址时，悬浮窗还会有直接打开网站的按键。</p>\n<p><img src=https://cdn.chuckle.top/images/19-9.webp width=\"60%\" height=\"60%\"></p>\n<h3 id=\"电脑与平板互传文件\"><a href=\"#电脑与平板互传文件\" class=\"headerlink\" title=\"电脑与平板互传文件\"></a>电脑与平板互传文件</h3><p>&emsp;&emsp;平板长按文件点分享，选择电脑即可；电脑端使用用小米互传向平板传文件，两种操作都非常方便且快速。<br><img src=https://cdn.chuckle.top/images/19-13.webp width=\"70%\" height=\"70%\"></p>\n<h1 id=\"使用感受\"><a href=\"#使用感受\" class=\"headerlink\" title=\"使用感受\"></a>使用感受</h1><p>&emsp;&emsp;在简单上手平板与电脑之间的妙享后，可以确定，我以后将经常用到它的功能，实际上我还体验了平板-手机-电脑的三方互联互通，不过任意两个设备互联后，另一个设备就会断开连接（虽然重连很快，但还是很影响体验），所以三方互联的体验并不好，但平板-手机、手机-电脑之间的妙享体验也不错。<br>&emsp;&emsp;可以看得出来MIUI还是有认真去做互联互通生态的，未来可期。</p>\n<h1 id=\"不足之处\"><a href=\"#不足之处\" class=\"headerlink\" title=\"不足之处\"></a>不足之处</h1><ol>\n<li>多设备同时互联体验差。</li>\n<li>作为扩展屏与电脑之间拖动软件窗口，窗口大小自适应效果不好。</li>\n<li>虽然博主安装起来较轻松，但不少酷友倒在了电脑硬件或其它配置上。</li>\n<li>依赖核显（考虑考虑没核显或核显弱的笔记本？）。</li>\n<li>平板投屏到电脑不能像手机与电脑的互联那样，直接拖文件传输。</li>\n<li>手机应用流转到平板居然开倒车！直接全屏，而不是像之前那样在平板上弹出小窗。</li>\n</ol>\n","categories":["其它"],"tags":["小米妙享","MIUI"]},{"title":"Butterfly文章卡片加上最新文章标志","url":"/article/2ed7d622.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;昨天<a href=\"https://blog.leonus.cn/\">@Leonus</a>大佬用js给首页最新的文章卡片加上了<code>最新</code>标志:<a href=\"https://blog.leonus.cn/2022/newpost.html\">几行代码实现最新文章标志 | Leonus</a><br>&emsp;&emsp;不过每次切换到首页都要执行这个js，不然最新标志就不显示，开启了pjax之后,怎么让这js每次切换到首页都执行是个问题，而且每次都执行也会多吃一些性能</p>\n<p>&emsp;&emsp;因为butterfly是按创建时间顺序排序的，最上面的卡片就是最新文章，直接修改文章卡片源码，给第一个卡片加上<code>最新</code>标志就行了（当然还要排除手动置顶的文章）<br>&emsp;&emsp;这样pug渲染成html时，<code>最新</code>标志就写死在那了<br><img src=https://cdn.chuckle.top/images/20-1.webp width=\"30%\" height=\"30%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><blockquote>\n<p>我这实现看起来挺笨，有大佬有更好的实现方式不</p>\n</blockquote>\n<ol>\n<li><p>修改<code>\\blog\\themes\\butterfly\\layout\\includes\\mixins\\post-ui.pug</code>&emsp;加上三行：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.recent-post-info</span><br><span class=\"line\">+    if (numberone !== 1 &amp;&amp; is_current(&#x27;/&#x27;) &amp;&amp; (!article.top || (article.new &amp;&amp; article.top)))</span><br><span class=\"line\">+        span.newPost 最新</span><br><span class=\"line\">+        - var numberone = 1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在你的自定义css文件中，添加如下代码：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 最新文章图标 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.newPost</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.92</span>);</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">15px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#49b0f5b9</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">40px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>:<span class=\"number\">600px</span>)&#123;</span><br><span class=\"line\">  <span class=\"selector-class\">.newPost</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">0px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<hr>\n<h1 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h1><p>&emsp;&emsp;当首页没有置顶时，会给第一个卡片加上最新标志<br>&emsp;&emsp;当首页有置顶时，会给非置顶的第一个卡片加上最新标志</p>\n<p>&emsp;&emsp;显然，这里有bug，如果置顶里的文章就是最新的咋办？<br>&emsp;&emsp;只需要在文章头部加上<code>new: true</code>就行了</p>\n<p>&emsp;&emsp;稍微有点麻烦，所以，建议最新的文章就没必要置顶了，反正不置顶也在第一个<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: aaaaaaaaaa</span><br><span class=\"line\">top: 1</span><br><span class=\"line\">+ new: true</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure></p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"控制指定单页的背景样式","url":"/article/eb3a4679.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;看<a href=\"https://blog.zhheo.com/\">@heo</a>的博客单页，无论是哔哔，友链，还是关于页，page的背景都是透明的，一开始我以为是在单页的index.md里单独引入css，后来才知道，是直接<code>#page&#123;background:transparent;&#125;</code>,这只会让所有非文章、归档、分类、标签的单页背景透明。</p>\n<p>&emsp;&emsp;这好啊，果断抄走，然后不出意外，有些单页变得很难看，因为没关侧边栏（侧边栏没透明，page透明了），或因为背景透明后字看不清（友链页），反正，我需要能单独控制单页page的背景样式，说干就干，让不同单页加上不同class，css控制这些class即可。<br><img src=https://cdn.chuckle.top/images/22-1.webp width=\"40%\" height=\"40%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><h2 id=\"方案一\"><a href=\"#方案一\" class=\"headerlink\" title=\"方案一\"></a>方案一</h2><p>&emsp;<strong>让指定单页背景样式相同(如透明)</strong><br>&emsp;&emsp;修改<code>\\themes\\butterfly\\layout\\page.pug</code><br><figure class=\"highlight plaintext\"><figcaption><span>需要控制哪些单页的背景就加上is_current('<单页路径>')</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">block content</span><br><span class=\"line\">+  - let transparent = (is_current(&#x27;/bb/&#x27;) || is_current(&#x27;/charts/&#x27;)) ? true : false</span><br><span class=\"line\">-  #page</span><br><span class=\"line\">+  #page(class= (transparent === true) ? &#x27;transparentpage&#x27; : &#x27;&#x27;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;然后写css：（别漏了!important）<br><figure class=\"highlight plaintext\"><figcaption><span>这里是让指定单页的背景都透明</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">.transparentpage&#123;</span><br><span class=\"line\">    background:transparent!important;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"方案二\"><a href=\"#方案二\" class=\"headerlink\" title=\"方案二\"></a>方案二</h2><p>&emsp;<strong>控制不同单页有不同背景样式</strong><br>&emsp;&emsp;修改<code>\\themes\\butterfly\\layout\\page.pug</code><br><figure class=\"highlight plaintext\"><figcaption><span>需要控制更多单页就仿照格式写</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">block content</span><br><span class=\"line\">+  - let bb = is_current(&#x27;/bb/&#x27;) ? true : false</span><br><span class=\"line\">+  - let charts = is_current(&#x27;/charts/&#x27;) ? true : false</span><br><span class=\"line\">-  #page</span><br><span class=\"line\">+  #page(class= (bb === true) ? &#x27;bb-transparent&#x27; : &#x27;&#x27;)(class= (charts === true) ? &#x27;charts-transparent&#x27; : &#x27;&#x27;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;然后写css：（别漏了!important）<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.bb-transparent&#123;</span><br><span class=\"line\">    background:transparent!important;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.charts-transparent&#123;</span><br><span class=\"line\">    background:blue!important;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;此方法存在一个问题：<br>&emsp;&emsp;hexo g和hexo s时，会提示:You should not have pug tags with multiple attributes.（您不应该使用具有多个属性的pug标记）<br>&emsp;&emsp;这是因为我尝试多次class=()，但实际上，因为路径是唯一的，这不会导致出问题，对hexo渲染没有影响。</p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"Butterfly给首页首个文章卡片加个class","url":"/article/dbde845d.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;看<a href=\"https://blog.zhheo.com/\">@heo</a>的博客首页，他的第一个文章卡片是其余卡片宽度的两倍，F12可知是首页的首个文章卡片多了一个class，虽然我的文章卡片暂时没这需求，但刚好有人问怎么才能控制首页第一个文章卡片的样式，也刚好我有思路，就实现一下吧<br>&emsp;&emsp;关键就是怎么给首个文章卡片加一个class，我想到了和之前<a href=\"/article/2ed7d622.html\">给文章卡片加上最新文章标志</a>差不多的操作<br><img src=https://cdn.chuckle.top/images/21-2.webp width=\"100%\" height=\"100%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;先看原来post-ui的结构:<code>\\blog\\themes\\butterfly\\layout\\includes\\mixins\\post-ui.pug</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">mixin postUI(posts)</span><br><span class=\"line\">  each article , index in page.posts.data</span><br><span class=\"line\">    .recent-post-item//要在这里加个calss</span><br><span class=\"line\">    //后面就是文章卡片的具体的内容</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;可以改成这样，就能将首页第一个文章卡片和其余卡片分开渲染成html，自然，加个class就轻而易举了<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">mixin postUI(posts)</span><br><span class=\"line\">  each article , index in page.posts.data</span><br><span class=\"line\">    if (firstpost !== 1 &amp;&amp; is_current(&#x27;/&#x27;))</span><br><span class=\"line\">      - var firstpost = 1</span><br><span class=\"line\">      .recent-post-item.firstpost-item</span><br><span class=\"line\">      //首页首个文章卡片的具体的内容（cv原来的就行）</span><br><span class=\"line\">    else</span><br><span class=\"line\">      .recent-post-item</span><br><span class=\"line\">      //其余文章卡片的具体的内容（cv原来的就行）</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;这样，首页第一个文章卡片就会多一个<code>firstpost-item</code>class，控制这个class就能控制样式了<br><img src=https://cdn.chuckle.top/images/21-1.webp width=\"40%\" height=\"40%\"></p>\n<p>&emsp;&emsp;而且这样改完pug，首页第一个文章卡片有更多的操作空间，可以完全和其余卡片长得不一样，修改具体内容里的源码即可</p>\n<hr>\n<h1 id=\"优化\"><a href=\"#优化\" class=\"headerlink\" title=\"优化\"></a>优化</h1><p>&emsp;&emsp;<a href=\"https://blog.zhheo.com/\">@heo</a>的代码结构优化版本（适合无需对首页第一个卡片进行定制化）<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">mixin postUI(posts)</span><br><span class=\"line\">  each article , index in page.posts.data</span><br><span class=\"line\">    - let lastPost = firstpost !== 1 &amp;&amp; is_current(&#x27;/&#x27;) ? true : false</span><br><span class=\"line\">    - var firstpost = 1</span><br><span class=\"line\">    .recent-post-item(class= (lastPost === true) ? &#x27;firstpost-item&#x27; : &#x27;&#x27;)</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure></p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"CSS/JS备忘录","url":"/article/2ec41fd7.html","content":"<h1 id=\"CSS备忘录\"><a href=\"#CSS备忘录\" class=\"headerlink\" title=\"CSS备忘录\"></a>CSS备忘录</h1><h2 id=\"元素水平和垂直居中\"><a href=\"#元素水平和垂直居中\" class=\"headerlink\" title=\"元素水平和垂直居中\"></a>元素水平和垂直居中</h2><figure class=\"highlight css\"><figcaption><span>水平居中</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.example</span>&#123;<span class=\"comment\">/* 父元素的宽度是确定的 */</span></span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.example</span>&#123;<span class=\"comment\">/* 文本水平居中 */</span></span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><figcaption><span>垂直居中(元素父级添加flex)</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.example</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    -webkit-box-align: center;</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"文本自动换行\"><a href=\"#文本自动换行\" class=\"headerlink\" title=\"文本自动换行\"></a>文本自动换行</h2><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.example</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">white-space</span>: normal;</span><br><span class=\"line\">    <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">    <span class=\"attribute\">word-wrap</span>: break-word;</span><br><span class=\"line\">    <span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"隐藏浏览器滚动条\"><a href=\"#隐藏浏览器滚动条\" class=\"headerlink\" title=\"隐藏浏览器滚动条\"></a>隐藏浏览器滚动条</h2><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.example</span>::-webkit-scrollbar&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>:none</span><br><span class=\"line\">    <span class=\"comment\">/* or */</span></span><br><span class=\"line\">    width:<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"水平镜像旋转元素\"><a href=\"#水平镜像旋转元素\" class=\"headerlink\" title=\"水平镜像旋转元素\"></a>水平镜像旋转元素</h2><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.example</span>&#123;</span><br><span class=\"line\">    -moz-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scaleX</span>(-<span class=\"number\">1</span>);</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scaleX</span>(-<span class=\"number\">1</span>);</span><br><span class=\"line\">    -o-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scaleX</span>(-<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>:<span class=\"built_in\">scaleX</span>(-<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"媒体自适应css\"><a href=\"#媒体自适应css\" class=\"headerlink\" title=\"媒体自适应css\"></a>媒体自适应css</h2><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">min-width</span>: <span class=\"number\">1000px</span>) <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1300px</span>)&#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.example</span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"JS备忘录\"><a href=\"#JS备忘录\" class=\"headerlink\" title=\"JS备忘录\"></a>JS备忘录</h1><h2 id=\"Cookie操作\"><a href=\"#Cookie操作\" class=\"headerlink\" title=\"Cookie操作\"></a>Cookie操作</h2><figure class=\"highlight js\"><figcaption><span>设置Cookie</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">setCookies</span>(<span class=\"params\">obj, limitTime</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> data = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>() + limitTime * <span class=\"number\">24</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">1000</span>).<span class=\"title function_\">toGMTString</span>()</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> obj) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">document</span>.<span class=\"property\">cookie</span> = i + <span class=\"string\">&#x27;=&#x27;</span> + obj[i] + <span class=\"string\">&#x27;;expires=&#x27;</span> + data</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">setCookies</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">browsertc</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">&#125;, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>读取Cookie</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getCookie</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> arr, reg = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;(^| )&quot;</span> + name + <span class=\"string\">&quot;=([^;]*)(;|$)&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (arr = <span class=\"variable language_\">document</span>.<span class=\"property\">cookie</span>.<span class=\"title function_\">match</span>(reg))</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">unescape</span>(arr[<span class=\"number\">2</span>]);</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">getCookie</span>(<span class=\"string\">&#x27;browsertc&#x27;</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n","categories":["学习笔记"],"tags":["JS","CSS","前端"]},{"title":"给网站增加悬浮伸缩侧边栏","url":"/article/fab5c3df.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;看到了不！看到了不！<a href=\"https://blog.zhheo.com/\">@Heo</a>的网站又双叒变好看了，还增加了个音乐灵动球！<br><img src=https://cdn.chuckle.top/images/25-2.webp width=\"80%\" height=\"80%\"></p>\n<p>&emsp;&emsp;开抄开抄~我也有了思路，魔改原来的悬浮aplayer，但一问，噢《新写了一个》，尝试抄了下却不能播放。但问题不大，按之前思路结合一下刚弄好的侧边栏，非常好。<br><img src=https://cdn.chuckle.top/images/25-3.webp width=\"60%\" height=\"60%\"></p>\n<p>&emsp;&emsp;很快成品完工~（但是还是好馋那个灵动乐球~）<br><img src=https://cdn.chuckle.top/images/25-1.webp width=\"60%\" height=\"60%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;aplayer怎么开启看butterfly的文档。<br>&emsp;&emsp;在<code>layout.pug</code>里加上：<br><figure class=\"highlight plaintext\"><figcaption><span>记得修改网易云歌单id</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">include ./rightside.pug</span><br><span class=\"line\">!=partial(&#x27;includes/third-party/search/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class=\"line\">!=partial(&#x27;includes/dorakika/rightmenu&#x27;,&#123;&#125;, &#123;cache:true&#125;)</span><br><span class=\"line\">include ./additional-js.pug</span><br><span class=\"line\">//- 上面的是本来就有的，对齐上面的缩进，加上下面的内容</span><br><span class=\"line\">.contact-info</span><br><span class=\"line\">  .option</span><br><span class=\"line\">    i.fas.fa-rocket</span><br><span class=\"line\">    .bloktop</span><br><span class=\"line\">    .text 还不造有啥用滴悬浮模块</span><br><span class=\"line\">      .strip</span><br><span class=\"line\">  .option</span><br><span class=\"line\">    i.fas.fa-cube</span><br><span class=\"line\">    .blok</span><br><span class=\"line\">    .text</span><br><span class=\"line\">      .strip</span><br><span class=\"line\">      &lt;div class=&quot;post-reward&quot;&gt;&lt;button class=&quot;tip-button reward-button&quot;&gt;&lt;span class=&quot;tip-button__text&quot;&gt;投喂&lt;/span&gt;&lt;div class=&quot;reward-main&quot;&gt;&lt;ul class=&quot;reward-all&quot;&gt;&lt;li class=&quot;reward-item&quot;&gt;&lt;a class=&quot;about-reward&quot; href=&quot;/img/weixin.webp&quot; target=&quot;_blank&quot;&gt;&lt;img class=&quot;post-qr-code-img&quot; src=&quot;/img/weixin.webp&quot; alt=&quot;微信&quot;&gt;&lt;/a&gt;&lt;div class=&quot;post-qr-code-desc&quot;&gt;微信&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;reward-item&quot;&gt;&lt;a class=&quot;about-reward&quot; href=&quot;/img/alipay.webp&quot; target=&quot;_blank&quot;&gt;&lt;img class=&quot;post-qr-code-img&quot; src=&quot;/img/alipay.webp&quot; alt=&quot;支付宝&quot;&gt;&lt;/a&gt;&lt;div class=&quot;post-qr-code-desc&quot;&gt;支付宝&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;</span><br><span class=\"line\">  .option</span><br><span class=\"line\">    i.fas.fa-music</span><br><span class=\"line\">    .blokbottom</span><br><span class=\"line\">    .text.aplayertext</span><br><span class=\"line\">      .strip</span><br><span class=\"line\">      .aplayer.no-destroy(mutex=&#x27;true&#x27;, listfolded=&#x27;true&#x27;, data-id=&#x27;你的网易云歌单id&#x27;, data-preload=&quot;none&quot; , data-server=&#x27;netease&#x27;, data-volume=&#x27;0.25&#x27;, data-order=&#x27;random&#x27;, data-type=&#x27;playlist&#x27;, data-fixed=&#x27;true&#x27;, data-autoplay=&#x27;false&#x27;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;引入css：<br><figure class=\"highlight css\"><figcaption><span>不生效就在对应属性加上!important</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.contact-info</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">22%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">200</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">51px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span><span class=\"selector-pseudo\">:hover</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">50px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#b9b9b9</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">10px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#3498db</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.text</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,.<span class=\"number\">85</span>);</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">136px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.aplayertext</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute<span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">60px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute<span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">370px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">300px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-body</span>,<span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.text</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.blok</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.bloktop</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">75px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.blokbottom</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">75px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.blok</span>,<span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.bloktop</span>,<span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.blokbottom</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.aplayertext</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">60px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">370px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: transparent<span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-miniswitcher</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">10px</span> <span class=\"number\">0</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span><span class=\"selector-class\">.aplayer-narrow</span> <span class=\"selector-class\">.aplayer-body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: <span class=\"number\">0.28s</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-pic</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-narrow</span> <span class=\"selector-class\">.aplayer-body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span><span class=\"selector-class\">.aplayer-list-hide</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">59px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-list</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">62px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">240px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-info</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-narrow</span> <span class=\"selector-class\">.aplayer-body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">60px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-narrow</span> <span class=\"selector-class\">.aplayer-body</span>, <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-narrow</span> <span class=\"selector-class\">.aplayer-pic</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>:  <span class=\"number\">10px</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-pic</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>:  <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-list</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span> <span class=\"number\">10px</span> <span class=\"number\">0</span> <span class=\"number\">0</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">22</span>, <span class=\"number\">22</span>, <span class=\"number\">22</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#b9b9b9</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.text</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">23</span>, <span class=\"number\">23</span>, <span class=\"number\">23</span>, <span class=\"number\">0.85</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.92</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>:<span class=\"number\">1300px</span>)&#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.contact-info</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: .<span class=\"number\">93</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">22</span>, <span class=\"number\">22</span>, <span class=\"number\">22</span>)<span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-fixed</span> <span class=\"selector-class\">.aplayer-body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">22</span>, <span class=\"number\">22</span>, <span class=\"number\">22</span>)<span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:hover</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#3b3b3b</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#686868</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-controller</span> <span class=\"selector-class\">.aplayer-time</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#d4d4d4</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span> <span class=\"selector-class\">.aplayer-list-index</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#d4d4d4</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span> <span class=\"selector-class\">.aplayer-list-author</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#d4d4d4</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-controller</span> <span class=\"selector-class\">.aplayer-time</span> <span class=\"selector-class\">.aplayer-icon</span> path&#123;</span><br><span class=\"line\">    fill: <span class=\"number\">#d4d4d4</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.text</span> <span class=\"selector-class\">.strip</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">36px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">20</span>, <span class=\"number\">163</span>, <span class=\"number\">230</span>, <span class=\"number\">0.8</span>);</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayertext</span> <span class=\"selector-class\">.strip</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.aplayertext</span> <span class=\"selector-class\">.strip</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: transparent;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-miniswitcher</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">23</span>, <span class=\"number\">23</span>, <span class=\"number\">23</span>, <span class=\"number\">0.85</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-miniswitcher</span> <span class=\"selector-class\">.aplayer-icon</span><span class=\"selector-pseudo\">:hover</span> path&#123;</span><br><span class=\"line\">    fill: <span class=\"number\">#3498db</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\">  <span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#3498db</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span> <span class=\"selector-class\">.text</span> <span class=\"selector-class\">.post-reward</span> <span class=\"selector-class\">.tip-button__text</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">25px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.post-reward</span> <span class=\"selector-class\">.reward-button</span> <span class=\"selector-class\">.reward-main</span> <span class=\"selector-class\">.reward-all</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span> <span class=\"selector-class\">.text</span> <span class=\"selector-class\">.post-reward</span> <span class=\"selector-class\">.reward-button</span> <span class=\"selector-class\">.reward-main</span> <span class=\"selector-class\">.reward-all</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">999</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span></span><br><span class=\"line\"><span class=\"selector-class\">.contact-info</span> <span class=\"selector-class\">.option</span> <span class=\"selector-class\">.text</span> <span class=\"selector-class\">.post-reward</span> <span class=\"selector-class\">.tip-button</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: solid <span class=\"number\">2px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">236</span>, <span class=\"number\">233</span>, <span class=\"number\">233</span>, <span class=\"number\">0.8</span>);</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#043749d0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>还缺着两个空位不知道该放些啥</p>\n</blockquote>\n<hr>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;2022年9月26日，Meting挂了，原因是ssl证书到期。<br>&emsp;&emsp;为了aplayer的稳定，还是播放本地音乐吧。<br><figure class=\"highlight plaintext\"><figcaption><span>#aplayer后加上js,并在配置文件关闭meting</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">#aplayer.aplayer.no-destroy(mutex=&#x27;true&#x27;, listfolded=&#x27;true&#x27;, data-id=&#x27;6609736315&#x27;, data-preload=&quot;none&quot; , data-server=&#x27;netease&#x27;, data-volume=&#x27;0.25&#x27;, data-order=&#x27;random&#x27;, data-type=&#x27;playlist&#x27;, data-fixed=&#x27;true&#x27;, data-autoplay=&#x27;false&#x27;)</span><br><span class=\"line\">  script.</span><br><span class=\"line\">    const ap = new APlayer(&#123;</span><br><span class=\"line\">      container: document.getElementById(&#x27;aplayer&#x27;),</span><br><span class=\"line\">      fixed: true,</span><br><span class=\"line\">      order: &#x27;random&#x27;,</span><br><span class=\"line\">      preload: &#x27;none&#x27;,</span><br><span class=\"line\">      volume: 0.25,</span><br><span class=\"line\">      audio: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">        name: &#x27;越权访问-崩坏：星穹铁道&#x27;,</span><br><span class=\"line\">        artist: &#x27;Hanser&#x27;,</span><br><span class=\"line\">        url: &#x27;/music/songs/1.mp3&#x27;,</span><br><span class=\"line\">        lrc: &#x27;/music/lrc/1.lrc&#x27;,</span><br><span class=\"line\">        cover: &#x27;/music/images/songs/1.webp&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;10月18日，侧边栏增加打赏，好耶，又利用了一个模块，已更新上方的代码。</p>\n<p>&emsp;&emsp;2023年1月24日，Meting又挂了，原因是api过期，可以用vercel自建api，或者播放本地音乐。<br>&emsp;&emsp;自建api地址：<a href=\"https://github.com/ladjeek-actions/vercel-meting\">vercel-meting</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.option</span><br><span class=\"line\">  i.fas.fa-music</span><br><span class=\"line\">  .blokbottom</span><br><span class=\"line\">  .text.aplayertext</span><br><span class=\"line\">+    script.</span><br><span class=\"line\">+      var meting_api=&#x27;&lt;你的api&gt;&#x27;;</span><br><span class=\"line\">    .strip</span><br><span class=\"line\">    .aplayer.no-destroy(mutex=&#x27;true&#x27;, listfolded=&#x27;true&#x27;, data-id=&#x27;11111111&#x27;, data-preload=&quot;none&quot; , data-server=&#x27;netease&#x27;, data-volume=&#x27;0.25&#x27;, data-order=&#x27;random&#x27;, data-type=&#x27;playlist&#x27;, data-fixed=&#x27;true&#x27;, data-autoplay=&#x27;false&#x27;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"添加音乐页面","url":"/article/3322c8a8.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;没有音乐页面怎么行，花里胡哨的都安排上，本来想摆烂直接上aplayer，但考虑到网站速度以及aplayer的稳定性（和卜算子日常歇菜），还是弄个音乐播放器放自己本地的音乐好，又快又稳定。<br>&emsp;&emsp;在网上找了个能用的h5播放器源码(找不到原作者)，适配下pjax和hexo，再改改样式就完成啦：<a href=\"/music/\">查看音乐页面</a><br><img src=https://cdn.chuckle.top/images/24-1.webp width=\"50%\" height=\"50%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;让指定单页的背景透明可以看此教程：<a href=\"/article/eb3a4679.html\">控制指定单页的背景样式</a><br>&emsp;&emsp;新建music单页，cv以下内容覆盖原内容：<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">comments: false</span><br><span class=\"line\">aside: false</span><br><span class=\"line\">---</span><br><span class=\"line\">&#123;% raw %&#125;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 播放器 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- audio标签 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__audio&quot;</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 播放器主体 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__main&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- 模糊背景 --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__blur&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- 唱片 --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__disc&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">&lt;!-- 唱片图片 --&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__image&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;100%&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">&lt;!-- 指针 --&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__pointer&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;100%&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/img/cd_tou.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- 控件主体 --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__controls&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">&lt;!-- 歌曲信息 --&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music__info&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h3</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music__info--title&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">&lt;!-- 控件... --&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__content&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__btns&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__btn player-control__btn--prev&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;iconfont icon-prev&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__btn player-control__btn--play&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;iconfont icon-play&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__btn player-control__btn--next&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;iconfont icon-next&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__btn player-control__btn--mode&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;iconfont icon-random&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__volume&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control__volume--icon player-control__btn&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;iconfont icon-volume&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control__volume--progress progress&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player-control__content&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player__song--progress progress&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player__song--timeProgess nowTime&quot;</span>&gt;</span>00:00<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;player__song--timeProgess totalTime&quot;</span>&gt;</span>00:00<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 歌曲列表 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music-player__list&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;music__list_content&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/js/utill.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.slim.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/js/player.js?10&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;text-align:center;margin:-100px 0; font:normal 14px/24px &#x27;MicroSoft YaHei&#x27;;color:#ffffff&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% endraw %&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;在<code>blog\\source\\music</code>下新建<code>songs</code>和<code>images</code>文件夹，<code>songs</code>内直接放入歌曲。再在<code>images</code>文件夹内新建<code>songs</code>文件夹，里面放歌曲封面。<br>&emsp;&emsp;在<code>blog\\source\\img</code>内放入这两张图片<a href=\"https://blog.chuckle.top/img/cd.png\">cd.png</a>，<a href=\"https://blog.chuckle.top/img/cd_tou.png\">cd_tou.png</a>。</p>\n<p>&emsp;&emsp;在<code>\\blog\\themes\\butterfly\\source\\js</code>新建<code>player.js</code>。<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//创建一个音乐播放器的类 单例模式</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Player</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">//类的构造函数</span></span><br><span class=\"line\">        <span class=\"comment\">//如果没有实例化，就去构造一个实例</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">getInstance</span>(...<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//构建实例</span></span><br><span class=\"line\">    <span class=\"title function_\">getInstance</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> instance = <span class=\"keyword\">new</span> <span class=\"title class_\">PlayerCreator</span>(...<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">        <span class=\"comment\">//让实例可以使用到Player的原型的属性方法</span></span><br><span class=\"line\">        <span class=\"comment\">// instance.__proto__=Player.prototype;</span></span><br><span class=\"line\">        <span class=\"comment\">// instance.constructor=Player;</span></span><br><span class=\"line\">        <span class=\"comment\">//把构建好的实例挂在Player类上</span></span><br><span class=\"line\">        <span class=\"title class_\">Player</span>.<span class=\"property\">instance</span> = instance;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//歌曲信息</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Musics</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//歌曲</span></span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">songs</span> = [&#123;</span><br><span class=\"line\">                <span class=\"attr\">id</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;越权访问-崩坏：星穹铁道 - Hanser&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">singer</span>: <span class=\"string\">&#x27;越权访问-崩坏：星穹铁道 - Hanser&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">songUrl</span>: <span class=\"string\">&#x27;./songs/1.mp3&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">imageUrl</span>: <span class=\"string\">&#x27;./images/songs/1.webp&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">id</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;妄想Reality（翻自 洛天依） - 炎祾&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">singer</span>: <span class=\"string\">&#x27;妄想Reality（翻自 洛天依） - 炎祾&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">songUrl</span>: <span class=\"string\">&#x27;./songs/2.mp3&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">imageUrl</span>: <span class=\"string\">&#x27;./images/songs/2.webp&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">                <span class=\"attr\">id</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;人间失宠 - 昔诺&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">singer</span>: <span class=\"string\">&#x27;人间失宠 - 昔诺&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">songUrl</span>: <span class=\"string\">&#x27;./songs/3.mp3&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">imageUrl</span>: <span class=\"string\">&#x27;./images/songs/3.webp&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">id</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;崩坏世界的歌姬 (Movie Ver.) - 小林未郁&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">singer</span>: <span class=\"string\">&#x27;崩坏世界的歌姬 (Movie Ver.) - 小林未郁&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">songUrl</span>: <span class=\"string\">&#x27;./songs/4.mp3&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">imageUrl</span>: <span class=\"string\">&#x27;./images/songs/4.webp&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">                <span class=\"attr\">id</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;玛德琳娜电塔 - 花玲&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">singer</span>: <span class=\"string\">&#x27;玛德琳娜电塔 - 花玲&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">songUrl</span>: <span class=\"string\">&#x27;./songs/5.mp3&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">imageUrl</span>: <span class=\"string\">&#x27;./images/songs/5.webp&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//根据索引获取歌曲的方法</span></span><br><span class=\"line\">    <span class=\"title function_\">getSongByNum</span>(<span class=\"params\">index</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">songs</span>[index];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//真正的构建播放器的类</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">PlayerCreator</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span> = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.music-player__audio&#x27;</span>) <span class=\"comment\">// Audio dom元素, 因为很多api都是需要原生audio调用的，所以不用jq获取</span></span><br><span class=\"line\">        <span class=\"comment\">// this.audio.muted = true; // 控制静音</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">volume</span> = <span class=\"number\">0.2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//工具</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">util</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Util</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">musics</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Musics</span>(); <span class=\"comment\">//歌曲信息</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> = <span class=\"number\">0</span>; <span class=\"comment\">// 当前播放的歌曲索引</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span> = <span class=\"number\">1</span>; <span class=\"comment\">// 1 2</span></span><br><span class=\"line\">        <span class=\"comment\">// 下方歌曲列表容器</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">song_list</span> = $(<span class=\"string\">&#x27;.music__list_content&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">render_doms</span> = &#123; <span class=\"comment\">//切换歌曲时需要渲染的dom组</span></span><br><span class=\"line\">            <span class=\"attr\">title</span>: $(<span class=\"string\">&#x27;.music__info--title&#x27;</span>),</span><br><span class=\"line\">            <span class=\"attr\">singer</span>: $(<span class=\"string\">&#x27;.music__info--singer&#x27;</span>),</span><br><span class=\"line\">            <span class=\"attr\">image</span>: $(<span class=\"string\">&#x27;.music-player__image img&#x27;</span>),</span><br><span class=\"line\">            <span class=\"attr\">blur</span>: $(<span class=\"string\">&#x27;.music-player__blur&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">ban_dom</span> = &#123; <span class=\"comment\">//禁音时需要渲染的dom组</span></span><br><span class=\"line\">            <span class=\"attr\">control__btn</span>: $(<span class=\"string\">&#x27;.control__volume--icon&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 时间显示容器</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">render_time</span> = &#123;</span><br><span class=\"line\">            <span class=\"attr\">now</span>: $(<span class=\"string\">&#x27;.nowTime&#x27;</span>),</span><br><span class=\"line\">            <span class=\"attr\">total</span>: $(<span class=\"string\">&#x27;.totalTime&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 唱片</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">disc</span> = &#123;</span><br><span class=\"line\">            <span class=\"attr\">image</span>: $(<span class=\"string\">&#x27;.music-player__image&#x27;</span>),</span><br><span class=\"line\">            <span class=\"attr\">pointer</span>: $(<span class=\"string\">&#x27;.music-player__pointer&#x27;</span>)</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//播放器初始化</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//初始化函数</span></span><br><span class=\"line\">    <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">renderSongList</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">renderSongStyle</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">bindEventListener</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//生成播放列表</span></span><br><span class=\"line\">    <span class=\"title function_\">renderSongList</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> _str = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">musics</span>.<span class=\"property\">songs</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">song, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            _str += <span class=\"string\">`&lt;li class=&quot;music__list__item&quot;&gt;<span class=\"subst\">$&#123;song.title&#125;</span>&lt;/li&gt;`</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">song_list</span>.<span class=\"title function_\">html</span>(_str);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//根据歌曲去渲染视图</span></span><br><span class=\"line\">    <span class=\"title function_\">renderSongStyle</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> &#123;</span><br><span class=\"line\">            title,</span><br><span class=\"line\">            singer,</span><br><span class=\"line\">            songUrl,</span><br><span class=\"line\">            imageUrl</span><br><span class=\"line\">        &#125; = <span class=\"variable language_\">this</span>.<span class=\"property\">musics</span>.<span class=\"title function_\">getSongByNum</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">src</span> = songUrl;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">render_doms</span>.<span class=\"property\">title</span>.<span class=\"title function_\">html</span>(title);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">render_doms</span>.<span class=\"property\">singer</span>.<span class=\"title function_\">html</span>(singer);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">render_doms</span>.<span class=\"property\">image</span>.<span class=\"title function_\">prop</span>(<span class=\"string\">&#x27;src&#x27;</span>, imageUrl);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">render_doms</span>.<span class=\"property\">blur</span>.<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;background-image&#x27;</span>, <span class=\"string\">&#x27;url(&quot;&#x27;</span> + imageUrl + <span class=\"string\">&#x27;&quot;)&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//切换列表中的item的类名 play</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">song_list</span>.<span class=\"title function_\">find</span>(<span class=\"string\">&#x27;.music__list__item&#x27;</span>).<span class=\"title function_\">eq</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span>).<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;play&#x27;</span>).<span class=\"title function_\">siblings</span>().<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;play&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//绑定各种事件</span></span><br><span class=\"line\">    <span class=\"title function_\">bindEventListener</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//播放按钮</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$play</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Btns</span>(<span class=\"string\">&#x27;.player-control__btn--play&#x27;</span>, &#123;</span><br><span class=\"line\">            <span class=\"attr\">click</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">handlePlayAndPause</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"comment\">//上一首</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$prev</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Btns</span>(<span class=\"string\">&#x27;.player-control__btn--prev&#x27;</span>, &#123;</span><br><span class=\"line\">            <span class=\"attr\">click</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">changeSong</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>, <span class=\"string\">&#x27;prev&#x27;</span>)</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"comment\">//下一首</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$next</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Btns</span>(<span class=\"string\">&#x27;.player-control__btn--next&#x27;</span>, &#123;</span><br><span class=\"line\">            <span class=\"attr\">click</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">changeSong</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>, <span class=\"string\">&#x27;next&#x27;</span>)</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"comment\">//循环模式</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$mode</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Btns</span>(<span class=\"string\">&#x27;.player-control__btn--mode&#x27;</span>, &#123;</span><br><span class=\"line\">            <span class=\"attr\">click</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">changePlayMode</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"comment\">//禁音</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$ban</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Btns</span>(<span class=\"string\">&#x27;.control__volume--icon&#x27;</span>, &#123;</span><br><span class=\"line\">            <span class=\"attr\">click</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">banNotes</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"comment\">//列表点击</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">song_list</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"string\">&#x27;li&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> index = $(e.<span class=\"property\">target</span>).<span class=\"title function_\">index</span>();</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeSong</span>(index);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//音量控制 audio标签音量 vlouem 属性控制0-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">new</span> <span class=\"title class_\">Progress</span>(<span class=\"string\">&#x27;.control__volume--progress&#x27;</span>, &#123;</span><br><span class=\"line\">            <span class=\"attr\">min</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">max</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">            <span class=\"attr\">value</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">volume</span>,</span><br><span class=\"line\">            <span class=\"attr\">handler</span>: <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123; <span class=\"comment\">//更改进度时</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">volume</span> = value;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"comment\">//歌曲进度 this.audio.duration</span></span><br><span class=\"line\">        <span class=\"comment\">//可以播放的时候触发（歌曲的基本信息都已经获取到了）</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">oncanplay</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//避免重复实例化</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">progress</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">progress</span>.<span class=\"property\">max</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span>; <span class=\"comment\">//切换歌曲后更新时长</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">render_time</span>.<span class=\"property\">total</span>.<span class=\"title function_\">html</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">util</span>.<span class=\"title function_\">formatTime</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span>));</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">progress</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Progress</span>(<span class=\"string\">&#x27;.player__song--progress&#x27;</span>, &#123;</span><br><span class=\"line\">                <span class=\"attr\">min</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">                <span class=\"attr\">max</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span>,</span><br><span class=\"line\">                <span class=\"attr\">value</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">                <span class=\"attr\">handler</span>: <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">currentTime</span> = value;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            <span class=\"comment\">//调整总时长</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">render_time</span>.<span class=\"property\">total</span>.<span class=\"title function_\">html</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">util</span>.<span class=\"title function_\">formatTime</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span>));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//会在播放的时候持续触发</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">ontimeupdate</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">progress</span>.<span class=\"title function_\">setValue</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">currentTime</span>);</span><br><span class=\"line\">            <span class=\"comment\">//调整当前时长</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">render_time</span>.<span class=\"property\">now</span>.<span class=\"title function_\">html</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">util</span>.<span class=\"title function_\">formatTime</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">currentTime</span>));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//当歌曲播放完成的时候</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">onended</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeSong</span>(<span class=\"string\">&#x27;next&#x27;</span>);</span><br><span class=\"line\">            <span class=\"comment\">//播放完，换歌后，重新播放</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"title function_\">play</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//播放暂停控制</span></span><br><span class=\"line\">    <span class=\"title function_\">handlePlayAndPause</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> _o_i = <span class=\"variable language_\">this</span>.<span class=\"property\">$play</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">find</span>(<span class=\"string\">&#x27;i&#x27;</span>);</span><br><span class=\"line\">        <span class=\"comment\">//this.audio.pauseed值为true 说明目前是不播放</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">paused</span>) &#123; <span class=\"comment\">//现在是暂停的 要播放</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"title function_\">play</span>();</span><br><span class=\"line\">            _o_i.<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;icon-play&#x27;</span>).<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;icon-pause&#x27;</span>);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">disc</span>.<span class=\"property\">image</span>.<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;play&#x27;</span>);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">disc</span>.<span class=\"property\">pointer</span>.<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;play&#x27;</span>)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"title function_\">pause</span>();</span><br><span class=\"line\">            _o_i.<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;icon-play&#x27;</span>).<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;icon-pause&#x27;</span>);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">disc</span>.<span class=\"property\">image</span>.<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;play&#x27;</span>);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">disc</span>.<span class=\"property\">pointer</span>.<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;play&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//更改循环模式</span></span><br><span class=\"line\">    <span class=\"title function_\">changePlayMode</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span>++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span> &gt; <span class=\"number\">2</span>) <span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">renderPlayMode</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//更改按钮样式</span></span><br><span class=\"line\">    <span class=\"title function_\">renderPlayMode</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> _classess = [<span class=\"string\">&#x27;loop&#x27;</span>, <span class=\"string\">&#x27;random&#x27;</span>, <span class=\"string\">&#x27;single&#x27;</span>];</span><br><span class=\"line\">        <span class=\"keyword\">let</span> _o_i = <span class=\"variable language_\">this</span>.<span class=\"property\">$mode</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">find</span>(<span class=\"string\">&#x27;i&#x27;</span>);</span><br><span class=\"line\">        <span class=\"comment\">//prop 改一些标签的自有属性 attr改一些标签的自定义属性</span></span><br><span class=\"line\">        _o_i.<span class=\"title function_\">prop</span>(<span class=\"string\">&#x27;class&#x27;</span>, <span class=\"string\">&#x27;iconfont icon-&#x27;</span> + _classess[<span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span>])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//更改歌曲索引</span></span><br><span class=\"line\">    <span class=\"title function_\">changeSongIndex</span>(<span class=\"params\">type</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> type === <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> = type;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//列表循环</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> += type === <span class=\"string\">&#x27;next&#x27;</span> ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> &gt; <span class=\"variable language_\">this</span>.<span class=\"property\">musics</span>.<span class=\"property\">songs</span>.<span class=\"property\">length</span> - <span class=\"number\">1</span>) <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> &lt; <span class=\"number\">0</span>) <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">musics</span>.<span class=\"property\">songs</span>.<span class=\"property\">length</span> - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span> === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//随机播放</span></span><br><span class=\"line\">                <span class=\"keyword\">let</span> _length = <span class=\"variable language_\">this</span>.<span class=\"property\">musics</span>.<span class=\"property\">songs</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">                <span class=\"keyword\">let</span> _random = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * _length);</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10000</span>; i++) &#123; <span class=\"comment\">//随机的数为本身则继续随机</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> == _random) &#123;</span><br><span class=\"line\">                        _random = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * _length);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> = _random;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">loop_mode</span> === <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">song_index</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//歌曲时长</span></span><br><span class=\"line\">    <span class=\"title function_\">songTime</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> totalMinute = <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span> / <span class=\"number\">60</span>) &lt; <span class=\"number\">10</span> ? <span class=\"string\">&quot;0&quot;</span> + <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span> / <span class=\"number\">60</span>) : <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span> / <span class=\"number\">60</span>);</span><br><span class=\"line\">        <span class=\"keyword\">let</span> totalSecond = <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span> % <span class=\"number\">60</span>) &lt; <span class=\"number\">10</span> ? <span class=\"string\">&quot;0&quot;</span> + <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span> % <span class=\"number\">60</span>) : <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">duration</span> % <span class=\"number\">60</span>);</span><br><span class=\"line\">        $(<span class=\"string\">&#x27;.totalTime&#x27;</span>).<span class=\"title function_\">text</span>(totalMinute + <span class=\"string\">&#x27;:&#x27;</span> + totalSecond);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//切换歌曲</span></span><br><span class=\"line\">    <span class=\"title function_\">changeSong</span>(<span class=\"params\">type</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//更改索引</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeSongIndex</span>(type);</span><br><span class=\"line\">        <span class=\"comment\">//记录切歌前的状态</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> _is_pause = <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">paused</span>;</span><br><span class=\"line\">        <span class=\"comment\">//切歌后更改视图显示</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">renderSongStyle</span>();</span><br><span class=\"line\">        <span class=\"comment\">//如果切歌前是在播放，就继续播放</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!_is_pause) <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"title function_\">play</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//禁音</span></span><br><span class=\"line\">    <span class=\"title function_\">banNotes</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> _o_i = <span class=\"variable language_\">this</span>.<span class=\"property\">$ban</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">find</span>(<span class=\"string\">&quot;i&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">muted</span> == <span class=\"literal\">true</span>) &#123; <span class=\"comment\">//如果禁音则开启</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">muted</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            _o_i.<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;icon-muted&#x27;</span>).<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;icon-volume&#x27;</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">audio</span>.<span class=\"property\">muted</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            _o_i.<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;icon-volume&#x27;</span>).<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;icon-muted&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//进度条</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Progress</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">selector, options</span>) &#123;</span><br><span class=\"line\">        $.<span class=\"title function_\">extend</span>(<span class=\"variable language_\">this</span>, options);</span><br><span class=\"line\">        <span class=\"comment\">///给this挂载传入的参数</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span> = $(selector);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">width</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">width</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//进度条初始化</span></span><br><span class=\"line\">    <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">renderBackAndPointer</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">bindEvents</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">drag</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">value</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeDOMStyle</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">width</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//为进度条渲染back和pointer</span></span><br><span class=\"line\">    <span class=\"title function_\">renderBackAndPointer</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$back</span> = $(<span class=\"string\">&#x27;&lt;div class=&quot;back&quot;&gt;&#x27;</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$pointer</span> = $(<span class=\"string\">&#x27;&lt;div class=&quot;pointer&quot;&gt;&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">append</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$back</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">append</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$pointer</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">setValue</span>(<span class=\"params\">value</span>) &#123; <span class=\"comment\">//主动调用，传入value值，设置进度条样式</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> _distance = <span class=\"variable language_\">this</span>.<span class=\"property\">width</span> * value / (<span class=\"variable language_\">this</span>.<span class=\"property\">max</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">min</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeDOMStyle</span>(_distance);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">drag</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> ele = <span class=\"variable language_\">this</span>.<span class=\"property\">$pointer</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> father = <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> flag = <span class=\"literal\">false</span>; <span class=\"comment\">//鼠标是否点击</span></span><br><span class=\"line\">        ele.<span class=\"title function_\">mousedown</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            flag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> mousePos = &#123;</span><br><span class=\"line\">                <span class=\"attr\">x</span>: e.<span class=\"property\">offsetX</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            $(<span class=\"variable language_\">document</span>).<span class=\"title function_\">mousemove</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (flag === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> _left = e.<span class=\"property\">clientX</span> - father.<span class=\"title function_\">offset</span>().<span class=\"property\">left</span> - mousePos.<span class=\"property\">x</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> _distance = <span class=\"title class_\">Math</span>.<span class=\"title function_\">max</span>(<span class=\"number\">0</span>, <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(_left, father.<span class=\"title function_\">outerWidth</span>(<span class=\"literal\">false</span>) - ele.<span class=\"title function_\">outerWidth</span>(<span class=\"literal\">false</span>)))</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> _ratio = _distance / father.<span class=\"title function_\">outerWidth</span>(<span class=\"literal\">false</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> _value = _ratio * (<span class=\"variable language_\">this</span>.<span class=\"property\">max</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">min</span>); <span class=\"comment\">//当前的音量值</span></span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeDOMStyle</span>(_distance);</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"title function_\">handler</span>(_value); <span class=\"comment\">//更改进度之后，执行回调</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        $(<span class=\"variable language_\">document</span>).<span class=\"title function_\">mouseup</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">bindEvents</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">//鼠标点击时更改</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">click</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> _x = e.<span class=\"property\">offsetX</span>; <span class=\"comment\">//鼠标距离元素左边的距离</span></span><br><span class=\"line\">            <span class=\"keyword\">let</span> _ratio = _x / <span class=\"variable language_\">this</span>.<span class=\"property\">width</span>;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> _value = _ratio * (<span class=\"variable language_\">this</span>.<span class=\"property\">max</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">min</span>); <span class=\"comment\">//当前的音量值</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">changeDOMStyle</span>(_x);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">handler</span>(_value); <span class=\"comment\">//更改进度之后，执行回调</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//更改pointer和back</span></span><br><span class=\"line\">    <span class=\"title function_\">changeDOMStyle</span>(<span class=\"params\">distance</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$back</span>.<span class=\"title function_\">width</span>(distance + <span class=\"number\">7</span> == <span class=\"number\">7</span> ? <span class=\"number\">0</span> : distance + <span class=\"number\">7</span>);<span class=\"comment\">//进度为0时将进度条背景改为0否则加上进度按钮的长度</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$pointer</span>.<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;left&#x27;</span>, distance + <span class=\"string\">&#x27;px&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//按钮类 </span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Btns</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">selector, handlers</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span> = $(selector); <span class=\"comment\">//元素</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">bindEvents</span>(handlers);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">bindEvents</span>(<span class=\"params\">handlers</span>) &#123; <span class=\"comment\">//绑定事件</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> event <span class=\"keyword\">in</span> handlers) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//使用值的时候保证键值对在对象中是存在的</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (handlers.<span class=\"title function_\">hasOwnProperty</span>(event)) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">$el</span>.<span class=\"title function_\">on</span>(event, handlers[event]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Player</span>();</span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;pjax:complete&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Player</span>();</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;在<code>\\blog\\themes\\butterfly\\source\\js</code>新建<code>utill.js</code>。<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Util</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title class_\">Util</span>.<span class=\"property\">instance</span>) <span class=\"keyword\">return</span> <span class=\"title class_\">Util</span>.<span class=\"property\">instance</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">getInstance</span>(...<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">getInstance</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> instance = &#123;</span><br><span class=\"line\">            <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">             *   formatTime 格式化时间（s）为 hour:minutes:seconds</span></span><br><span class=\"line\"><span class=\"comment\">             *   @params  time  required number (s)</span></span><br><span class=\"line\"><span class=\"comment\">             *   </span></span><br><span class=\"line\"><span class=\"comment\">             *   return hour:minutes:seconds string</span></span><br><span class=\"line\"><span class=\"comment\">             */</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">formatTime</span>(<span class=\"params\">time</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//没有传time的时候</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (time === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"title function_\">handlerError</span>(<span class=\"number\">123</span>, &#123;</span><br><span class=\"line\">                        <span class=\"attr\">method</span>: <span class=\"string\">&#x27;formate&#x27;</span>,</span><br><span class=\"line\">                        <span class=\"attr\">param</span>: <span class=\"string\">&#x27;time&#x27;</span></span><br><span class=\"line\">                    &#125;);</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">let</span> _time = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(time);</span><br><span class=\"line\">                <span class=\"keyword\">let</span> _minutes = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(_time / <span class=\"number\">60</span>);</span><br><span class=\"line\">                <span class=\"keyword\">let</span> _hours = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(_minutes / <span class=\"number\">60</span>);</span><br><span class=\"line\">                <span class=\"keyword\">let</span> _seconds = _time - (_minutes * <span class=\"number\">60</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">return</span> (_hours ? <span class=\"variable language_\">this</span>.<span class=\"title function_\">fillZero</span>(_hours) + <span class=\"string\">&#x27;:&#x27;</span> : <span class=\"string\">&#x27;&#x27;</span>) + <span class=\"variable language_\">this</span>.<span class=\"title function_\">fillZero</span>(_minutes - (_hours * <span class=\"number\">60</span>)) + <span class=\"string\">&#x27;:&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"title function_\">fillZero</span>(_seconds);</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">             *   fillZero 为小于10的数字补0</span></span><br><span class=\"line\"><span class=\"comment\">             *   @params  num  required number</span></span><br><span class=\"line\"><span class=\"comment\">             *   return &#x27;01&#x27;.. string</span></span><br><span class=\"line\"><span class=\"comment\">             */</span></span><br><span class=\"line\">            <span class=\"title function_\">fillZero</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//当没有传time的时候</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (num === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"title function_\">handlerError</span>(<span class=\"number\">123</span>, &#123;</span><br><span class=\"line\">                        <span class=\"attr\">method</span>: <span class=\"string\">&#x27;fillZero&#x27;</span>,</span><br><span class=\"line\">                        <span class=\"attr\">param</span>: <span class=\"string\">&#x27;num&#x27;</span></span><br><span class=\"line\">                    &#125;);</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">//这个函数只是让我们在渲染/显示的时候有一个不同的效果，不要操作原数据</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> num &gt; <span class=\"number\">9</span> ? num : <span class=\"string\">&#x27;0&#x27;</span> + num;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"attr\">errors</span>: &#123;</span><br><span class=\"line\">                <span class=\"number\">123</span>: <span class=\"function\">(<span class=\"params\">&#123;</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                    method,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                    param</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                &#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> method + <span class=\"string\">&#x27;function need a param &#x27;</span> + param;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">handlerError</span>(<span class=\"params\">code, options</span>) &#123; <span class=\"comment\">//处理报错</span></span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;[until error] message&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">errors</span>[code](options));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"title class_\">Util</span>.<span class=\"property\">instance</span> = instance;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//为了这个工具以后在模块化环境中依然可以使用，需要判断一下，如果是在模块化环境，就将其暴露出去</span></span><br><span class=\"line\"><span class=\"comment\">//commonJs</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"variable language_\">module</span> === <span class=\"string\">&#x27;object&#x27;</span> &amp;&amp; <span class=\"keyword\">typeof</span> <span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> === <span class=\"string\">&#x27;object&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">Util</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//AMD</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> define === <span class=\"string\">&#x27;function&#x27;</span> &amp;&amp; define.<span class=\"property\">amd</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">define</span>(<span class=\"string\">&#x27;util&#x27;</span>, [], <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title class_\">Util</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;引入css（一些高度和细节按需自行调整）：<br><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 播放器大小 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">570px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">500px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h3</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span> <span class=\"number\">0</span> <span class=\"number\">1px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@font-face</span> &#123;<span class=\"attribute\">font-family</span>: <span class=\"string\">&quot;iconfont&quot;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">src</span>: <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;iconfont.eot?t=1537976418058&#x27;</span>); <span class=\"comment\">/* IE9*/</span></span><br><span class=\"line\">  <span class=\"attribute\">src</span>: <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;iconfont.eot?t=1537976418058#iefix&#x27;</span>) <span class=\"built_in\">format</span>(<span class=\"string\">&#x27;embedded-opentype&#x27;</span>), <span class=\"comment\">/* IE6-IE8 */</span></span><br><span class=\"line\">  <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAmcAAsAAAAADgwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFY8lGHxY21hcAAAAYAAAACUAAACBGvSDaxnbHlmAAACFAAABUMAAAbwatoOAWhlYWQAAAdYAAAALwAAADYSwtboaGhlYQAAB4gAAAAcAAAAJAfeA4tobXR4AAAHpAAAAA8AAAAoKAAAAGxvY2EAAAe0AAAAFgAAABYIpgZ4bWF4cAAAB8wAAAAdAAAAIAEYAGNuYW1lAAAH7AAAAUUAAAJtPlT+fXBvc3QAAAk0AAAAZQAAAJSspZ5ZeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkYWCcwMDKwMHUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGByeyf3/z9zwv4EhhrmBoQEozAiSAwD0fA0ZeJztkcENwjAQBMdxCAQhQgU88qYeesBKGoh48aLSS7oIa1+QKIKzxtKedWdpF9gBUdxEDeFNINdL3VD6kWPp19ylzxyoaOxqvSUb57RM6wqbHr76p4Jm/Fx0oNGfUVtabdzrueFfp3I/N9VmPx25hfVOzsqSkzOzwZGX2Ojk2Tk5Oc9lcuR0x6OQE+lIBag+4Pgp1HicbVVrjBNVFJ5z796Zvu482plOH0tLZ9rp7hba0m5bZLuUhwZNQEB2F7airBDlERd5/IX4b+MPE3/wUhMTEkLEQAwkhpAIgcCaGI3xpyQqwb/orgsmGs129Ex3UWJoJufec+43PfN955wZgQjC37/SL6giGEKvIESgHjWNHBpNhnzOQAPOILCaH2psI9xP9BNQ4gNACqb7kBRi7lKVbnEvuU2YhhG4ADuUUOn0bUUpdl4e0JU7J9HAuFYEZ3bWveNOz8wI+PtfTj+ITr7G0GirwWQ1NBDVIWf4wcjRz9ylsQJxH5oFAgNxUEh/Au6r85cx3bTbdC/BdvdjRR84eQcNOV9UlNunSyHFvRAuut/PzEAThmdnMWcP5nxA99F9giZkhKIwJAhmEbyMjYoJKdBFCUQqg6mJUbPegLqDxCOWU29BPQWiAqL0pHO3UAGoFJZaRE2l0+nOo2w6IQPICS1K5CxYnTmj45Noj48FRMKknq8854Ou835PFJoVcrbSBN29rJXqpbB7RacbSJ/cmVD6CIRgs1HWYWuw82UwSBmlgQBl5DjuJyj1oyWLGn5Na7QhKEJaEMCWwdD0qFlFQqh3Dn1JS8Fjn/zeStp2spWwAWy3vDrprcmFhTZw2wl3jxJkduHoSd+rGcV8f9Cb1C/khPXCGGbEBHjZljNYb3hZ8Krm0amksXooER60wHQsUU+DjVI7MkTNFAyBJOrRCio5mIcqPmHUrKDYCMBH1qPkkfPuuolPnx+KxGKRofJHG9sfDq9s8oQtT4VCU7KV5E0i2wneXNn70nLZjgNf/3oJAUnLA8x/PmTvHOBqJA5y662a9yekxI6v3fUejediwN7ZOP42XcUzidAUz/KpUCLLV//EE1l5GNYUOCSzvPXsKm4lOB6HYC9dlw9Bb5YPbQCI5eKLOqDZT34RkqjEWk95SxIlz3j6D0Eam6mKa72hOdQpga1VReynRn3QsRRUoavHogRmtIIqEE44v+HfG+FKIrK/NhGLAeckLkmWOvrasWNkxyFg45KsSuNtSeViuy1yVWqPS6oskZ/95wIhVXUfRBKlrRHD39NLTvd2dskvjEAv2bzbnW6LGpfGxyWueTf+u+/Ow4/0IrVxHvqFljCKTLCeBSzrEvB4VKJpwKoUACuDI4mBegPfC0hSzDfEIvLDghc9CM5rCgxdNBejtf+iJs5E5x5HDcLxeLiq2fzenz7DX82VcXrsqt/wAZUjEfmKTwtSKdsH0JeTIKhJy1as0LuxTaMwuqkbGnkV4BVy91owBHHtejjGg9feZz4oZ6/bFZ/4XdAfnp8L+4M/MKJobMnW4rIXU6ImEzG7q/7M7m9wtjWxeXH3zvMtjAJ77uobb95YnKNb9BZdIzjCJkHIZbAfZawpVq4ILWRR7XJTIIN0a9jd0SUoEWTyDopS9URKgYIR7HA8bUEGZwLxljOM95KrLi8rQAzFp7LJAAlNMtWn6D7WD3NjB4mW0ugp14K5sroI8ZPggccQV912eAEysDwQUTQfmwj0BvYwBroicZanh0bGFE1TxiZPkE+eimBHxtpyOCxvP3qmO783uzzzwubu/Fqix0TKeBUbdPKW91rr0qlipZH+AmGHVeoelUYGu8PQvWHF0e2qY1uihL28wDjKNFsyGxo9q2jk4Jir9jOf3uUUhECXtoFfjjL8duQU1eavIOjwNph7DDoQJP5FkFp2VQ8D35a3qMNwDgmOHKJ5xiVFB8b2IMMJ5tOUSGA5PTGJCmwJy+2xI+ypCHLm6HY5fBTWrOrvd//Ccv8D5gQugwB4nGNgZGBgAOJ0oeli8fw2Xxm4WRhA4PrFk0kI+v9+FgbmDCCXg4EJJAoAItUKtAB4nGNgZGBgbvjfwBDDwgACQJKRARVwAQBHEAJzeJxjYWBgYCECAwADmAApAAAAAAAAOgB0ANwBFAGYAfwCgAL0A3gAAHicY2BkYGDgYghnYGEAASYwjwtI/gfzGQASMwF8AAAAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbcrBCoNADATQjLau3dWPjBTdaInINqD9+gb06MBc3gxVdCbSfSIq1HjgiQYBLV6ISJRKZp0OKXm1sBjLLNoM6+gYfqxf0SkVc73MZ39r6/2IQ7+bZmM95+7NutlFRH+UdSMxAAAA&#x27;</span>) <span class=\"built_in\">format</span>(<span class=\"string\">&#x27;woff&#x27;</span>),</span><br><span class=\"line\">  <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;iconfont.ttf?t=1537976418058&#x27;</span>) <span class=\"built_in\">format</span>(<span class=\"string\">&#x27;truetype&#x27;</span>), <span class=\"comment\">/* chrome, firefox, opera, Safari, Android, iOS 4.2+*/</span></span><br><span class=\"line\">  <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;iconfont.svg?t=1537976418058#iconfont&#x27;</span>) <span class=\"built_in\">format</span>(<span class=\"string\">&#x27;svg&#x27;</span>); <span class=\"comment\">/* iOS 4.1- */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-prev</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\f0069&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-next</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\f006a&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-play</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e66a&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-pause</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e76a&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-random</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e622&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-muted</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e61e&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-volume</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e87a&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-loop</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e66c&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.icon-single</span><span class=\"selector-pseudo\">:before</span> &#123; <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e66d&quot;</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 播放器位置 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 歌曲列表 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__list</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">30px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.5</span>);</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">6px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.5</span>);</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">6px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.5</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music__list__item</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding-left</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ccc</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music__list__item</span><span class=\"selector-pseudo\">:last-of-type</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music__list__item</span><span class=\"selector-class\">.play</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music__list__item</span><span class=\"selector-class\">.play</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-family</span>: <span class=\"string\">&#x27;iconfont&#x27;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&quot;\\e87a&quot;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 播放器主体 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__main</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">180px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"built_in\">rgb</span>(<span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> / <span class=\"number\">20%</span>);</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 播放器主体模糊背景 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__blur</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">background-size</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">filter</span>: <span class=\"built_in\">blur</span>(<span class=\"number\">20px</span>);</span><br><span class=\"line\">  <span class=\"attribute\">filter</span>: <span class=\"built_in\">blur</span>(<span class=\"number\">20px</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 播放器唱片效果 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__disc</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">130px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">130px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">url</span>(<span class=\"string\">/img/cd.png</span>) no-repeat center;</span><br><span class=\"line\">  <span class=\"attribute\">background-size</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 唱片指针 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__pointer</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: -<span class=\"number\">10px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform-origin</span>: right top;</span><br><span class=\"line\">  -ms-<span class=\"attribute\">transform-origin</span>: right top;</span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: right top;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(-<span class=\"number\">15deg</span>);</span><br><span class=\"line\">  -ms-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(-<span class=\"number\">15deg</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(-<span class=\"number\">15deg</span>);</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">  -o-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 唱片指针播放状态 加play类名 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__pointer</span><span class=\"selector-class\">.play</span> &#123;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">  -ms-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 唱片歌曲图片 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__image</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 播放器控件 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music-player__controls</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">330px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">130px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 歌曲信息 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.music__info</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music__info</span> <span class=\"selector-class\">.music__info--title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music__info</span> <span class=\"selector-class\">.music__info--title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 控件 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.player-control</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.player-control__content</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 播放暂停按钮 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.player-control__btns</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.player-control__btn</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bolder;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.player-control__volume</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.control__volume--progress</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.player__song--timeProgess</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0px</span> <span class=\"number\">3px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.player-control__content</span> <span class=\"selector-class\">.nowTime</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.player-control__content</span> <span class=\"selector-class\">.totalTime</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-class\">.progress</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.5</span>) inset;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.5</span>) inset;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0.5rem</span> <span class=\"number\">0</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-class\">.progress</span> <span class=\"selector-class\">.back</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">12</span>, <span class=\"number\">182</span>, <span class=\"number\">212</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-class\">.progress</span> <span class=\"selector-class\">.pointer</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transition</span>: opacity <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">  -o-<span class=\"attribute\">transition</span>: opacity <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: opacity <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: -<span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-class\">.progress</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.pointer</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 播放 画片 动画 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">@-webkit-keyframes</span> disc &#123;</span><br><span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span><br><span class=\"line\">      -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span><br><span class=\"line\">      -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>);</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> disc &#123;</span><br><span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span><br><span class=\"line\">      -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span><br><span class=\"line\">      -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>);</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.music-player__image</span><span class=\"selector-class\">.play</span> &#123;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">animation</span>: disc <span class=\"number\">5s</span> linear <span class=\"number\">0s</span> infinite;</span><br><span class=\"line\">  <span class=\"attribute\">animation</span>: disc <span class=\"number\">5s</span> linear <span class=\"number\">0s</span> infinite;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*  播放进度  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.player__song--progress</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h1</span>, <span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h2</span>, <span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h3</span>,<span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h4</span>, <span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h5</span>, <span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">h6</span>, <span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>; <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.music-player</span> <span class=\"selector-tag\">li</span> &#123; <span class=\"attribute\">list-style</span>: none; &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;修改<code>player.js</code>里<code>this.songs</code>的歌曲信息，把音乐换成自己的，接着三连即可。</p>\n<blockquote>\n<p>本地浏览可能音乐的进度条无法拖动或者一拖动音乐就回到最开头，问题不大，推送上去就正常了。</p>\n</blockquote>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"归档、分类、标签页文章卡片加上所属分类和标签","url":"/article/a19bb7fb.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;如图，上面修改前，下面修改后。<br><img src=https://cdn.chuckle.top/images/23-2.webp width=\"90%\" height=\"90%\"></p>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;修改<code>\\themes\\butterfly\\layout\\includes\\mixins\\article-sort.pug</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.article-sort-item-info</span><br><span class=\"line\">    .article-sort-item-time</span><br><span class=\"line\">        time.post-meta-date-created(datetime=date_xml(article.date) title=_p(&#x27;post.created&#x27;) + &#x27; &#x27; + full_date(article.date))= date(article.date, config.date_format)</span><br><span class=\"line\">        a.article-sort-item-title(href=url_for(article.path) title=title)= title</span><br><span class=\"line\">+    .article-meta-wrap</span><br><span class=\"line\">+        if (theme.post_meta.page.categories &amp;&amp; article.categories.data.length &gt; 0)</span><br><span class=\"line\">+            span.article-sort-item-categories</span><br><span class=\"line\">+                i.iconfont.icon-fenlei//- 记得改成自己的图标</span><br><span class=\"line\">+                each item, index in article.categories.data</span><br><span class=\"line\">+                    a(href=url_for(item.path)).article-meta__categories #[=item.name]</span><br><span class=\"line\">+                    if (index &lt; article.categories.data.length - 1)</span><br><span class=\"line\">+                       i.fas.fa-angle-right</span><br><span class=\"line\">+        if (theme.post_meta.page.tags &amp;&amp; article.tags.data.length &gt; 0)</span><br><span class=\"line\">+            span.article-sort-item-tags</span><br><span class=\"line\">+                i.iconfont.icon-biaoqian//- 记得改成自己的图标</span><br><span class=\"line\">+                each item, index in article.tags.data</span><br><span class=\"line\">+                    a(href=url_for(item.path)).article-meta__tags #[=item.name]</span><br><span class=\"line\">+                    if (index &lt; article.tags.data.length - 1)</span><br><span class=\"line\">+                        span.article-meta__link #[=&#x27;•&#x27;]</span><br><span class=\"line\">+        .article-sort-item-time</span><br><span class=\"line\">+            time.post-meta-date-created(datetime=date_xml(article.date) title=_p(&#x27;post.created&#x27;) + &#x27; &#x27; + full_date(article.date))= date(article.date, config.date_format)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;增加css：根据自己的实际样式情况进行微调，没有通用css。</p>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"CodeFA×Hexo体验","url":"/article/cf571182.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;Hexo是一个无后端的静态博客框架，但不妨碍各路大佬基于Github Action自动化部署实现假后端，为的就是随时随地可以通过假后端来写or修改文章，当然也可以改源码和配置。</p>\n<p>&emsp;&emsp;流行的假后端有Qexo、Wexa等，博主尝试过Wexa，但还是习惯于Vscode上的体验，假后端就凉一旁吃灰了，也关掉了Github Action自动化部署，本地Bat双击实现推送也很快。<br><figure class=\"highlight bat\"><table><tr><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> off</span><br><span class=\"line\"><span class=\"built_in\">cd</span> C:\\chuckle\\blog</span><br><span class=\"line\">hexo clean&amp;&amp;hexo g&amp;&amp;gulp&amp;&amp;hexo d</span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;不过，随时修改文章，或者在外闲着无事给博客写个单页的需求也还是客观存在的，于是我又尝试了github.dev，这个github提供的在线vscode，启动很方便，仓库地址在把com改成dev后跳转即可，但它不能装插件、没有终端，浏览器打开需要等上一会，并且这是一个在线服务离不开网络。</p>\n<p>&emsp;&emsp;我将目光转向了早些年捣鼓过的Termux，可以配合CodeServer实现一个本地Vscode，但还是得配合VNC或者浏览器，依旧麻烦笨重。</p>\n<p>&emsp;&emsp;最终，我找到了它<a href=\"https://www.coolapk.com/apk/com.nightmare.code\">CodeFA</a>，<a href=\"https://github.com/nightmare-space/vscode_for_android\">github地址：vscode_for_android</a>，使用LinuxArm64启动一个code-server，ubuntu版本22.04，然后使用WebView进行加载，WebView加载的内容完全来自本地，并非套壳在线的网站。安装在平板上再合适不过（生产力MAX？）</p>\n<h1 id=\"上手体验\"><a href=\"#上手体验\" class=\"headerlink\" title=\"上手体验\"></a>上手体验</h1><p>&emsp;&emsp;因为其本质就是一个ubuntu，且贴心地集成好了不少东西，上手非常轻松。第一件事当然是安装好环境跑几个代码玩玩（啊，不对，是先美化），<code>apt install gcc</code>、<code>apt install g++</code>、<code>apt install openjdk-17-jdk</code>等，没空去配置调试环境，也用不上，装上Coderunner插件，C、JAVA都可以运行了。和win端一样，支持智能提示和补全，java也支持psvm、sout等快捷方式。<br><img src=https://cdn.chuckle.top/images/27-1.webp width=\"60%\" height=\"60%\"></p>\n<p>&emsp;&emsp;当然，我们的重点不是跑代码，而是部署Hexo。</p>\n<h2 id=\"部署Hexo\"><a href=\"#部署Hexo\" class=\"headerlink\" title=\"部署Hexo\"></a>部署Hexo</h2><blockquote>\n<p>并不是完整教程，只是记录，实际上和ubuntu下部署hexo没啥大区别。</p>\n</blockquote>\n<p>&emsp;&emsp;首先，安装NodeJs、git、npm、vim，<code>pkg install nodejs</code>，<code>pkg install git</code>，<code>pkg install vim</code>，<code>apt install npm</code>。<br>&emsp;&emsp;然后安装Hexo和gulp，<code>npm install hexo-cli -g</code>，<code>npm install --global gulp-cli</code>，<code>npm install gulp --save</code>。<br>&emsp;&emsp;配置一下git，然后<code>git clone</code>博客源码，cd进去运行<code>npm install</code>，让它慢慢安装完依赖和我用到的插件。</p>\n<p>&emsp;&emsp;现在hexo三连，nodejs会报错：<strong>System limit for number of file watchers reached</strong>，问题不大，在<code>/etc/sysctl.conf/</code>中加上<code>fs.inotify.max_user_watches=524288</code>，然后运行<code>sysctl -p</code>。</p>\n<p>&emsp;&emsp;再次三连，不出意外的话，浏览器访问<code>http://localhost:4000/</code>就可以看到自己的hexo网站啦~。四连也可以推送网站到github和服务器端（当然前提是配置好了git，这就不赘述了，openssh自带无需安装）。<br><img src=https://cdn.chuckle.top/images/27-4.webp width=\"60%\" height=\"60%\"></p>\n<h2 id=\"多端协作\"><a href=\"#多端协作\" class=\"headerlink\" title=\"多端协作\"></a>多端协作</h2><p>&emsp;&emsp;得益于vscode便利的git管理，一个文件或者文章，电脑端写完，推送push上github，平板端pull下来，就能继续写。得益于hexo的高性能，即使在虚拟环境下跑，hexo g也能在几秒内完成。<br><img src=https://cdn.chuckle.top/images/27-2.webp width=\"60%\" height=\"60%\"><img src=https://cdn.chuckle.top/images/27-3.webp width=\"60%\" height=\"60%\"></p>\n<p>&emsp;&emsp;配合小米平板的pc模式，还不错。<br><img src=https://cdn.chuckle.top/images/27-5.webp width=\"60%\" height=\"60%\"></p>\n<p>&emsp;&emsp;完全体。<br><img src=https://cdn.chuckle.top/images/27-6.webp width=\"60%\" height=\"60%\"></p>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>暂无</p>\n","categories":["Hexo"],"tags":["Hexo","VScode"]},{"title":"写个网页版电子木鱼","url":"/article/904a2780.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;Heo写了个ios版电子木鱼，最近电子木鱼确实挺火。<br>&emsp;&emsp;必须也给博客安排上，一个养生的互联网小站不能没有电子木鱼！<br><div class=\"tag link\"><a class=\"link-card\" title=\"电子木鱼\" href=\"/muyu/\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">电子木鱼</p><p class=\"url\">/muyu/</p></div></a></div><br>&emsp;&emsp;1.0写得比较粗糙，简单的积功德，敲敲敲，还有功德+100。等以后再完善什么见初音未来、随机弹涩图减功德的功能吧，咕咕咕咕。</p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;muyu-layout&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;jishu-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;jishu&quot;</span>&gt;</span>功德：0<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;muyu-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;gongde&quot;</span>&gt;</span>功德+100<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;muyu&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;no-lightbox entered loaded&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">src</span>=<span class=\"string\">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAADCCAMAAACVDjxiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABaUExURUxpcfn5+fHw8fHx8fv6++3q7vv6+/n4+vr6+vf29/Ly8vn4+eDd4fj4+MjEyff39+bk55CLkNXU1s7NzkZARv7//v///woCC/38/R4YHlFMUjQuNayorXNudNqgV+MAAAAVdFJOUwAYV0TZ/bb4CoNtm/gl/THQ/MCY48f2/+sAAA/JSURBVHja7F2JYuK6Dp0sjrNBgF6rKsv//+azLTkJECCBLAaeaem0nbboWNYu+d+//y+fVrCqqiriFYah/VhVq+ALaF9FYZ5lRRLrJUUp9JtERGmW/lJSZHkerT6U+DSIsqKIpaHYLAD9ZpbSD7Cfo/4HaDji5CePgvTD6F+FRWKIt9S2lkJpnlAp+4l5GGyk0ByRhVXwQfRvhKUUmVjDBfZNPykNiyVeswN9Sf8XZb6t2SGLVm/PDUGUF5tS2s03lPIbPymi2HwkVuDvOLgAyt1PGL0zM1R5EhPtZrebhTUGVwubb1gmkUJoKZm/JzOkVbaRlrUtZ19SStReP2peILnA4kPDEL4bDGmUbQQ4Rgfo2O5bbHD2CVhusDIy1ii8EQJRoQWAIqlnVV+/hWcIWHFgYACSDSC1fHwTVqiKmCUaOkl3vuDWQvvOkgOtrlD08/Z3AcgifAPpuMpie4jRKrlOjrdk3nhgjQGgYpXJOsPylExyz0FI85h2/y7Dd9DunszHmz9ovyl2XoMQFRKY8VENWfwz8FhaGE258RYEfQaIY4cC0HcBmU3alUhCLwVjmNBZ7pDuIy3LJWi1hCwq/4zhLK7dn9oQHh0DdJIRMM49Y4RqJ2qxraZa7GczDDLzSiJEiZaDaogd9BQEbGmzxymLwCNVuJGKvT1UsyyKPCS+2MzpT+ncXVBzLaN8JXiCwaogBOBMCsLU7EAhKC/OQqSdYquvsK29phUJzAXgBQZGDHBEjK23xpSdFAWywzUIxcK6McgEkjtjtVXjA8CUPICNtahXli6sC812NzvuNMKkmuHM8NK6cUkMwh35A/PpgU7lKBbDIM1LUcd2loNAvwSxkK2cZqIOcC7HBvT3y3wRQVhQKsia67DoQcBlMGAEFCWEljsILk8Xh/MjgLgc3R2sAHE0NwKcIvICBrQycRPNzgPwRIhwykACJtXMPIDoDQAcQFBJMK8c8EUUoKpT9rO5TKnWBeyswYLa8CwHCZRsmstlygh38IgJXHRiJnchlx5pwyvVIPM5EFB+IXCejIbpTaQwRn+ZgDCY2DyIYvQZghmiyqtEIfoiCG/mWqY0D8go9PkcAEVUJ1MLaWbzWR4zAddkYDaZMhAKAXzHwJgIU4lEIwp9J59TGHK3mkYUIs6UJ3pdKIopjoL2DLgq0ntGMDZzXE0gCgW4OkqflaILJ8psCqtQof/bz9ujMdiNrRir2KsIyW2NCA6MZGQIgsSGiuENlAHHEnFkCNJMUlTCf41Y28kjQxCWnDTx/RxQKBnHh6AyNRSA4L885ECifowbOgl2wqWz/RUGWPMp/SMe1TzMhJL+60PO8FM0WY7LBGGp3kIQItWcUMxg1Gj6aoP4FpKQKlMtCuOWZJqkgf9egYsU2Ey3TMYtuMiFR4mjRxgYBOJk5NadaONnqAzPFSHVGEgRj9/SaPXhUp4h3I5QWalHrVzcBYey3GUTdPHZaqKlEDiTQNi07gD1LjoDwHbvlZtioi7vUKIEUEu5iHab601XdSrX9WVQvFjGyXTN/qsYpFq0mAwbm7f2Aqglw3K/LE1f94SdvGlBGWsf7P46XmOZwPZ+iPK4/Zm4hzeUsLxR1KafrR+Dglif9of/pm7fXdkK80V4wE07aEnCmnrA8nja7w+/v78/F1xLK7DPY4VJcCEMwI28oDgNz3PQe18ej9v94e/XrkP0jylNg1UV5llRJEmy2SRmFXn1MgxRCTR9YbkYYD3Wg1hfb76j3kFgTJcqyopNHMv2hBBbi/lqc3PArSZLWIbs7jD/a87X1J/2bert+ttGUZglsTyfEdOs11pabQa1bqNf5hzw2V+fDn9X5BsEDqdjKbA9JAecGOF2/5dKj8IYUC0WNndyX+r93+4vKP87HPZ6bdel5A4tWwiL0MzLaUbCPN+xYo4Bm6AwMbGtETfY7L4lXgv+v4uN35+2x7V2XiU7EFj7CHUAvTEhzO+W4dPa4HXKsUlr4JWudyYu1rEurKMeINfbc8FnN/9vbxjfuU49DBZC5snkYlTyKJqXQxhdzm3b6mlzL73ktd78Qwf167Ugj/DxhIj233yy3GK1kyNYhegcLLwBALfZES+A5f5LvWdO/n7rNh/qk94zqWCPymb1jG8g1BiW8R0uQGcDIrd6S2HO/gX5dPJlTX093WaAcaF9iSekgSkvHdE7uGKDesYb27vXgu/PyHwj95h6RZICuCOyt26lvza8+CqKB/HboEhXS93rnZdCW7xXWp/0vRA157O6sLoJsH9SCxTpjMEnIUhGswdsdoM2UvEYO2J6vfFHa+9eC/79icReTf7LGdbhJyEXrp4GX9f5Z1KMLf0tibwOi88I/mbzsVfs9LFKgKGNnNWGhg+OEDbGC0vXkL/vtHUZAEs/4k0NijfVyx2gtBrdDHOXMuHqdWAEu8DRjx36rguAcVtfWe/AMOtotXHSZwQXkekX6+198rXfe1ozAIzBGHaJs5ZhWBtnLtg9oiFcryW7a+b/vb8O2zWy7sNWuBivzF2AQcWvLt5U/qSDmIAiBAhDHWXAGnmWgzbC9Yh8fQROaxKAYBnAzXVTV7Mgn+MEE2YfIgxy0UwnvXcmgUMp2AxbUqo298nTuzT2bgBw2IoOfwSb8aD44mkYJgy0c6DwcX0t1gBgi2VtiMLSr7l/34d8awaVCq4ilNg6za+CAMMalmypeZ+IaR1Pw2ZUKdTCb9+LfDoDHOPBzizKSNkYhGyIOujniWKLXesYnzn8V57u7109KFkLTDz6BYtB7Xc4pNAcW4Eu0Zf7HQccBdS1C1NBwN5F3wq8VcwRyJ6qwM6toe51Y/nuB9CvDYEjDYjmRtNJE9T968+ygfYIOz6GBdangQCwITBHKYaxb3pGEFfxkBeFbv6kBeAwgP6//bYEmKucl+erh32ZYNgRA5piIrZDANCmYAlzpmtpPmIvrcjl9n0VjZtbq4XgsCNQtuMgsySmzR/sBUE2JGTK08WGA7CuLwCYiw0oCJj1ZIIBnjidgfL0N0gIrCW4RA/XNE9dwMHZ6V4QZAPjVM8IAdESgrMl6qCveUiSoKdFQPHfQYaAVgPrBoA5E5U0YLvokToAVL3LKWwH2HYQABwSmnM4asMF0Mc8tI2o/cPTWtEe/54AYInSLXsQHveomDQqDJhgPAQBAkBinfvFmQ+CNcMeQhCVOGRMDww4BXtnCTV3Bcx8EHpBkNpISR+flXxbtT4MMwWVcybU/OKQxPcjcRit3czWfuZWTyYwWgCdFlis6Z/s+KJX+1UfCCjA2YsJmsxIX3Qnsw7hoWkUrmEIFwA+ZgLDAALaQcHFILBJgQcQBDuJvV+nncL9EIK/U9mUBHRlmeY+Cw/62E32BHpCQJeePTgI2hmSgG1/sCUGZpcJdNFO9jhw3hMCMp/uQ7Bfk4veigwvCQFFDO5BkP6IARWmFgEs93fdQfCqwZtKErO7ClEOMFwtBCBv+shaDArwavAPp/juhUx+hKKW7L6ROPN+yzx2pqA3EHAM/W46KTza6z2wt4axDmW3MGiigh61dlKU806tzWpb0ijj3gEj632LfWdUsC6G9ekYWFlQhrdl4bG54LO3bNE/cDx0hEXBFZB6Ng9Rv6oyuuMcNHfVDTI1tudlgid2Bp74ZdOzgT6+NyEIfp7ryzdH4VTXTZkyQb40mLwSz5q8jfi6VXqYmgsunnrBJnxO1eLEADQgX7Ur4b3hAvvCboULjI/8VMMBRdBNKtWWCLvrcOG8rdKTZm8r64pblvGz1daufpzrKsFekszjA5qiT58so+KGIBBPd500VfRXd4c2tVG+tPwbLdZtH+clBRPwBXhdH1n7ihj0aR4ee2vdxmEUTzPPeNKakWdh6MytVzFdbYSfC4CL2UN3kUmww4kuOPCJAcAVA3ZMBab5jQCTAODNlQnuhtOuwX9pXjbJnSlkgS9coLgVJOuYVwXg90jnMSWTVghhVzMufD4AjUK4KkGOYu7g+46l+f2yEL3aSPwWDiBT7bI3KUjwSxBw1dGXUTMzpQa/SAzY6Y/RVaX1VyGgLg2jqHRu3efjAG4MaH4pCNT3CEMKnZ6fg4yaoL5EHJLxd961vYp56M3X8IA2kc9jBVYWAuCXWEVmDp5UZ/fnpAm6GXnfwQP2PbsoslWv9D2+pTQ49w/yb9IFigPd5yMsMlDfhIHNgsvost4evooJNAYXc0yyLzsI6jpSkMG3CYNLJiAu+Crr+Dpc9C2xElfxfh02DeKvCZbQFJWODErxNbLAekJdabSvOQnkB3QN9gqS73ASqRO0e3pHKPE7joGZ4RLemF8Gb3H/0UuSkOdn3prqFcpP95W5CwpvXjGbFuqjg+joxircGeNj5zTgh0uCB1duh/GHM4G1icJHY2s+11MwolAq8WhgQy4/mQ1M08zjkRVhDK35q2eD1GmofBeXQHt5dfTr18SjpOM+F0dVhWyma3L9PJzNV7+6PxKh/fBp392Lctow7je8Jo2KmH9GynhjVyxEM/m2Q3O2MfDNFnTtMv0RMCBUGV0mkYXVahXoVYU/uySOpUSer981vdlPh4CHSsB1Iv0RCsHlnSJpGqzC/Ge3WYvzyeNvoEOsGJPJSBdMp1WY7+iSjHpyvcfsAPRkVEE26h2CVZglstV4jM2AR09AoLnYfDeEeZWb8N//2jsDHQdBGICCgCDoaTQQ/v9Lj0qLbjuTu+SceLkuWZbFZCkrbam277eFi66VmVGXexlpMHktEQGNdHVcWnbnUKQ40GgUdrHFyp4yj5QKaK97J9hpkrcETliniSSVbAS8UR60O5ujxQZh3dQroOqFegoOuaUkaHn+AmRjGFLeMH+oilizGaU4Le9ZgLInlhQmaHL1Y1h6Swq0/7E1uZXdyN4tvLFO0uBamiPn/VfcyXAoPz9/YRyK+CEPZNOtHdglYgaIlimTJlzREVYkHr6Orjo8DOLkhA0nGkJyAZxdKMk1dPOE/C5PDWmnOIn1+B6eEEO67UbDLhdwDXOvS7fiaXMLyNwQ6wb6iwr0L7kTuAZE+MWTOr1CJNwGhECAybK6xEDWICU+0Piwp7833P/4Kuqsyd4f1E9ne8OqFMNH69pcbNgQZ/TENwE7VqTA+h5o3MXWL4uNz57AeESVy0lw0j5Z/8BZ1WLMWmxI6ZOCPJLgoJhLouZblY6KXbEMQIqBgAs7qliMapoX24zcsJtI8pHNsswfvVJxK0b6QpVAxXyhKCEcJU+VKRzZXNTrp9bZRtxH+52THEVjZyi7RNKrwNFp5MmuWhvoosxYAOWlnED5kbM7Cx9GAQ5CKqXjzvI3XjjZQcCAopWSEuqZVozDHf/6pw3xUI5MK5HLkdm3Rb+3BK3B2TnXdbDlubm97oeRs7HWdi+SvmxeDf6PrsK/XC6fOxtGHo6ERP4AAAAASUVORK5CYII=&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.muyu-layout</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">background</span>: black;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">        <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">90vh</span>;</span><br><span class=\"line\">        <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-id\">#muyu-box</span> <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">250px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     <span class=\"selector-id\">#jishu-box</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">top</span>: <span class=\"number\">55px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">    <span class=\"selector-id\">#muyu-box</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">        <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-id\">#jishu-box</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">30px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gongde = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;gongde&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> muyu = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;muyu&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> jishu = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;jishu-box&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> mp3Url = <span class=\"string\">&quot;/music/muyu.mp3&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> player = <span class=\"keyword\">new</span> <span class=\"title class_\">Audio</span>(mp3Url);</span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"number\">0</span>;</span><br><span class=\"line\">muyu.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    num+=<span class=\"number\">100</span>;</span><br><span class=\"line\">    player.<span class=\"title function_\">load</span>();</span><br><span class=\"line\">    player.<span class=\"title function_\">play</span>();</span><br><span class=\"line\">    muyu.<span class=\"title function_\">animate</span>([&#123; <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;scale(0.85)&#x27;</span> &#125;, &#123; <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;scale(1.03)&#x27;</span> &#125;, &#123; <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;scale(1)&#x27;</span> &#125;], <span class=\"number\">500</span>);</span><br><span class=\"line\">    gongde.<span class=\"title function_\">animate</span>([&#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(0)&#x27;</span> &#125;,&#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0.3</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-10px)&#x27;</span> &#125;,&#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0.8</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-20px)&#x27;</span> &#125;, &#123; <span class=\"attr\">opacity</span>: <span class=\"number\">1</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-30px)&#x27;</span> &#125;, &#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0.8</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-35px)&#x27;</span> &#125;, &#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-40px)&#x27;</span> &#125;], <span class=\"number\">600</span>);</span><br><span class=\"line\">    jishu.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&lt;p id=&#x27;jishu&#x27;&gt;功德：&quot;</span>+num+<span class=\"string\">&quot;&lt;/p&gt;&quot;</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;当然想和我一样博客单页放电子木鱼，也只需新建个单页，直接cv下面的内容进去即可<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;% raw %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;muyu-layout&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;jishu-box&quot;</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;jishu&quot;</span>&gt;</span>功德：0<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;muyu-box&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;gongde&quot;</span>&gt;</span>功德+100<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;muyu&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;no-lightbox entered loaded&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">src</span>=<span class=\"string\">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAADCCAMAAACVDjxiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABaUExURUxpcfn5+fHw8fHx8fv6++3q7vv6+/n4+vr6+vf29/Ly8vn4+eDd4fj4+MjEyff39+bk55CLkNXU1s7NzkZARv7//v///woCC/38/R4YHlFMUjQuNayorXNudNqgV+MAAAAVdFJOUwAYV0TZ/bb4CoNtm/gl/THQ/MCY48f2/+sAAA/JSURBVHja7F2JYuK6Dp0sjrNBgF6rKsv//+azLTkJECCBLAaeaem0nbboWNYu+d+//y+fVrCqqiriFYah/VhVq+ALaF9FYZ5lRRLrJUUp9JtERGmW/lJSZHkerT6U+DSIsqKIpaHYLAD9ZpbSD7Cfo/4HaDji5CePgvTD6F+FRWKIt9S2lkJpnlAp+4l5GGyk0ByRhVXwQfRvhKUUmVjDBfZNPykNiyVeswN9Sf8XZb6t2SGLVm/PDUGUF5tS2s03lPIbPymi2HwkVuDvOLgAyt1PGL0zM1R5EhPtZrebhTUGVwubb1gmkUJoKZm/JzOkVbaRlrUtZ19SStReP2peILnA4kPDEL4bDGmUbQQ4Rgfo2O5bbHD2CVhusDIy1ii8EQJRoQWAIqlnVV+/hWcIWHFgYACSDSC1fHwTVqiKmCUaOkl3vuDWQvvOkgOtrlD08/Z3AcgifAPpuMpie4jRKrlOjrdk3nhgjQGgYpXJOsPylExyz0FI85h2/y7Dd9DunszHmz9ovyl2XoMQFRKY8VENWfwz8FhaGE258RYEfQaIY4cC0HcBmU3alUhCLwVjmNBZ7pDuIy3LJWi1hCwq/4zhLK7dn9oQHh0DdJIRMM49Y4RqJ2qxraZa7GczDDLzSiJEiZaDaogd9BQEbGmzxymLwCNVuJGKvT1UsyyKPCS+2MzpT+ncXVBzLaN8JXiCwaogBOBMCsLU7EAhKC/OQqSdYquvsK29phUJzAXgBQZGDHBEjK23xpSdFAWywzUIxcK6McgEkjtjtVXjA8CUPICNtahXli6sC812NzvuNMKkmuHM8NK6cUkMwh35A/PpgU7lKBbDIM1LUcd2loNAvwSxkK2cZqIOcC7HBvT3y3wRQVhQKsia67DoQcBlMGAEFCWEljsILk8Xh/MjgLgc3R2sAHE0NwKcIvICBrQycRPNzgPwRIhwykACJtXMPIDoDQAcQFBJMK8c8EUUoKpT9rO5TKnWBeyswYLa8CwHCZRsmstlygh38IgJXHRiJnchlx5pwyvVIPM5EFB+IXCejIbpTaQwRn+ZgDCY2DyIYvQZghmiyqtEIfoiCG/mWqY0D8go9PkcAEVUJ1MLaWbzWR4zAddkYDaZMhAKAXzHwJgIU4lEIwp9J59TGHK3mkYUIs6UJ3pdKIopjoL2DLgq0ntGMDZzXE0gCgW4OkqflaILJ8psCqtQof/bz9ujMdiNrRir2KsIyW2NCA6MZGQIgsSGiuENlAHHEnFkCNJMUlTCf41Y28kjQxCWnDTx/RxQKBnHh6AyNRSA4L885ECifowbOgl2wqWz/RUGWPMp/SMe1TzMhJL+60PO8FM0WY7LBGGp3kIQItWcUMxg1Gj6aoP4FpKQKlMtCuOWZJqkgf9egYsU2Ey3TMYtuMiFR4mjRxgYBOJk5NadaONnqAzPFSHVGEgRj9/SaPXhUp4h3I5QWalHrVzcBYey3GUTdPHZaqKlEDiTQNi07gD1LjoDwHbvlZtioi7vUKIEUEu5iHab601XdSrX9WVQvFjGyXTN/qsYpFq0mAwbm7f2Aqglw3K/LE1f94SdvGlBGWsf7P46XmOZwPZ+iPK4/Zm4hzeUsLxR1KafrR+Dglif9of/pm7fXdkK80V4wE07aEnCmnrA8nja7w+/v78/F1xLK7DPY4VJcCEMwI28oDgNz3PQe18ej9v94e/XrkP0jylNg1UV5llRJEmy2SRmFXn1MgxRCTR9YbkYYD3Wg1hfb76j3kFgTJcqyopNHMv2hBBbi/lqc3PArSZLWIbs7jD/a87X1J/2bert+ttGUZglsTyfEdOs11pabQa1bqNf5hzw2V+fDn9X5BsEDqdjKbA9JAecGOF2/5dKj8IYUC0WNndyX+r93+4vKP87HPZ6bdel5A4tWwiL0MzLaUbCPN+xYo4Bm6AwMbGtETfY7L4lXgv+v4uN35+2x7V2XiU7EFj7CHUAvTEhzO+W4dPa4HXKsUlr4JWudyYu1rEurKMeINfbc8FnN/9vbxjfuU49DBZC5snkYlTyKJqXQxhdzm3b6mlzL73ktd78Qwf167Ugj/DxhIj233yy3GK1kyNYhegcLLwBALfZES+A5f5LvWdO/n7rNh/qk94zqWCPymb1jG8g1BiW8R0uQGcDIrd6S2HO/gX5dPJlTX093WaAcaF9iSekgSkvHdE7uGKDesYb27vXgu/PyHwj95h6RZICuCOyt26lvza8+CqKB/HboEhXS93rnZdCW7xXWp/0vRA157O6sLoJsH9SCxTpjMEnIUhGswdsdoM2UvEYO2J6vfFHa+9eC/79icReTf7LGdbhJyEXrp4GX9f5Z1KMLf0tibwOi88I/mbzsVfs9LFKgKGNnNWGhg+OEDbGC0vXkL/vtHUZAEs/4k0NijfVyx2gtBrdDHOXMuHqdWAEu8DRjx36rguAcVtfWe/AMOtotXHSZwQXkekX6+198rXfe1ozAIzBGHaJs5ZhWBtnLtg9oiFcryW7a+b/vb8O2zWy7sNWuBivzF2AQcWvLt5U/qSDmIAiBAhDHWXAGnmWgzbC9Yh8fQROaxKAYBnAzXVTV7Mgn+MEE2YfIgxy0UwnvXcmgUMp2AxbUqo298nTuzT2bgBw2IoOfwSb8aD44mkYJgy0c6DwcX0t1gBgi2VtiMLSr7l/34d8awaVCq4ilNg6za+CAMMalmypeZ+IaR1Pw2ZUKdTCb9+LfDoDHOPBzizKSNkYhGyIOujniWKLXesYnzn8V57u7109KFkLTDz6BYtB7Xc4pNAcW4Eu0Zf7HQccBdS1C1NBwN5F3wq8VcwRyJ6qwM6toe51Y/nuB9CvDYEjDYjmRtNJE9T968+ygfYIOz6GBdangQCwITBHKYaxb3pGEFfxkBeFbv6kBeAwgP6//bYEmKucl+erh32ZYNgRA5piIrZDANCmYAlzpmtpPmIvrcjl9n0VjZtbq4XgsCNQtuMgsySmzR/sBUE2JGTK08WGA7CuLwCYiw0oCJj1ZIIBnjidgfL0N0gIrCW4RA/XNE9dwMHZ6V4QZAPjVM8IAdESgrMl6qCveUiSoKdFQPHfQYaAVgPrBoA5E5U0YLvokToAVL3LKWwH2HYQABwSmnM4asMF0Mc8tI2o/cPTWtEe/54AYInSLXsQHveomDQqDJhgPAQBAkBinfvFmQ+CNcMeQhCVOGRMDww4BXtnCTV3Bcx8EHpBkNpISR+flXxbtT4MMwWVcybU/OKQxPcjcRit3czWfuZWTyYwWgCdFlis6Z/s+KJX+1UfCCjA2YsJmsxIX3Qnsw7hoWkUrmEIFwA+ZgLDAALaQcHFILBJgQcQBDuJvV+nncL9EIK/U9mUBHRlmeY+Cw/62E32BHpCQJeePTgI2hmSgG1/sCUGZpcJdNFO9jhw3hMCMp/uQ7Bfk4veigwvCQFFDO5BkP6IARWmFgEs93fdQfCqwZtKErO7ClEOMFwtBCBv+shaDArwavAPp/juhUx+hKKW7L6ROPN+yzx2pqA3EHAM/W46KTza6z2wt4axDmW3MGiigh61dlKU806tzWpb0ijj3gEj632LfWdUsC6G9ekYWFlQhrdl4bG54LO3bNE/cDx0hEXBFZB6Ng9Rv6oyuuMcNHfVDTI1tudlgid2Bp74ZdOzgT6+NyEIfp7ryzdH4VTXTZkyQb40mLwSz5q8jfi6VXqYmgsunnrBJnxO1eLEADQgX7Ur4b3hAvvCboULjI/8VMMBRdBNKtWWCLvrcOG8rdKTZm8r64pblvGz1daufpzrKsFekszjA5qiT58so+KGIBBPd500VfRXd4c2tVG+tPwbLdZtH+clBRPwBXhdH1n7ihj0aR4ee2vdxmEUTzPPeNKakWdh6MytVzFdbYSfC4CL2UN3kUmww4kuOPCJAcAVA3ZMBab5jQCTAODNlQnuhtOuwX9pXjbJnSlkgS9coLgVJOuYVwXg90jnMSWTVghhVzMufD4AjUK4KkGOYu7g+46l+f2yEL3aSPwWDiBT7bI3KUjwSxBw1dGXUTMzpQa/SAzY6Y/RVaX1VyGgLg2jqHRu3efjAG4MaH4pCNT3CEMKnZ6fg4yaoL5EHJLxd961vYp56M3X8IA2kc9jBVYWAuCXWEVmDp5UZ/fnpAm6GXnfwQP2PbsoslWv9D2+pTQ49w/yb9IFigPd5yMsMlDfhIHNgsvost4evooJNAYXc0yyLzsI6jpSkMG3CYNLJiAu+Crr+Dpc9C2xElfxfh02DeKvCZbQFJWODErxNbLAekJdabSvOQnkB3QN9gqS73ASqRO0e3pHKPE7joGZ4RLemF8Gb3H/0UuSkOdn3prqFcpP95W5CwpvXjGbFuqjg+joxircGeNj5zTgh0uCB1duh/GHM4G1icJHY2s+11MwolAq8WhgQy4/mQ1M08zjkRVhDK35q2eD1GmofBeXQHt5dfTr18SjpOM+F0dVhWyma3L9PJzNV7+6PxKh/fBp392Lctow7je8Jo2KmH9GynhjVyxEM/m2Q3O2MfDNFnTtMv0RMCBUGV0mkYXVahXoVYU/uySOpUSer981vdlPh4CHSsB1Iv0RCsHlnSJpGqzC/Ge3WYvzyeNvoEOsGJPJSBdMp1WY7+iSjHpyvcfsAPRkVEE26h2CVZglstV4jM2AR09AoLnYfDeEeZWb8N//2jsDHQdBGICCgCDoaTQQ/v9Lj0qLbjuTu+SceLkuWZbFZCkrbam277eFi66VmVGXexlpMHktEQGNdHVcWnbnUKQ40GgUdrHFyp4yj5QKaK97J9hpkrcETliniSSVbAS8UR60O5ujxQZh3dQroOqFegoOuaUkaHn+AmRjGFLeMH+oilizGaU4Le9ZgLInlhQmaHL1Y1h6Swq0/7E1uZXdyN4tvLFO0uBamiPn/VfcyXAoPz9/YRyK+CEPZNOtHdglYgaIlimTJlzREVYkHr6Orjo8DOLkhA0nGkJyAZxdKMk1dPOE/C5PDWmnOIn1+B6eEEO67UbDLhdwDXOvS7fiaXMLyNwQ6wb6iwr0L7kTuAZE+MWTOr1CJNwGhECAybK6xEDWICU+0Piwp7833P/4Kuqsyd4f1E9ne8OqFMNH69pcbNgQZ/TENwE7VqTA+h5o3MXWL4uNz57AeESVy0lw0j5Z/8BZ1WLMWmxI6ZOCPJLgoJhLouZblY6KXbEMQIqBgAs7qliMapoX24zcsJtI8pHNsswfvVJxK0b6QpVAxXyhKCEcJU+VKRzZXNTrp9bZRtxH+52THEVjZyi7RNKrwNFp5MmuWhvoosxYAOWlnED5kbM7Cx9GAQ5CKqXjzvI3XjjZQcCAopWSEuqZVozDHf/6pw3xUI5MK5HLkdm3Rb+3BK3B2TnXdbDlubm97oeRs7HWdi+SvmxeDf6PrsK/XC6fOxtGHo6ERP4AAAAASUVORK5CYII=&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.muyu-layout</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background</span>: black;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">height</span>: <span class=\"number\">90vh</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">align-items</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-id\">#muyu-box</span> <span class=\"selector-tag\">img</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: <span class=\"number\">250px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">     <span class=\"selector-id\">#jishu-box</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">top</span>: <span class=\"number\">55px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">     &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-id\">#muyu-box</span> <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: white;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">25px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-id\">#jishu-box</span> <span class=\"selector-tag\">p</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: white;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">30px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> gongde = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;gongde&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> muyu = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;muyu&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> jishu = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;jishu-box&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> mp3Url = <span class=\"string\">&quot;/music/muyu.mp3&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> player = <span class=\"keyword\">new</span> <span class=\"title class_\">Audio</span>(mp3Url);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> num = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        muyu.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            num+=<span class=\"number\">100</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            player.<span class=\"title function_\">load</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            player.<span class=\"title function_\">play</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            muyu.<span class=\"title function_\">animate</span>([&#123; <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;scale(0.85)&#x27;</span> &#125;, &#123; <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;scale(1.03)&#x27;</span> &#125;, &#123; <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;scale(1)&#x27;</span> &#125;], <span class=\"number\">500</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            gongde.<span class=\"title function_\">animate</span>([&#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(0)&#x27;</span> &#125;,&#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0.3</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-10px)&#x27;</span> &#125;,&#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0.8</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-20px)&#x27;</span> &#125;, &#123; <span class=\"attr\">opacity</span>: <span class=\"number\">1</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-30px)&#x27;</span> &#125;, &#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0.8</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-35px)&#x27;</span> &#125;, &#123; <span class=\"attr\">opacity</span>: <span class=\"number\">0</span>, <span class=\"attr\">transform</span>: <span class=\"string\">&#x27;translateY(-40px)&#x27;</span> &#125;], <span class=\"number\">600</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            jishu.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&lt;p id=&#x27;jishu&#x27;&gt;功德：&quot;</span>+num+<span class=\"string\">&quot;&lt;/p&gt;&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% endraw %&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;用Animations控制CSS动画比用js模拟动画好用多了。</p>\n","categories":["项目"],"tags":["教程","瞎折腾"]},{"title":"Hexo博客的基本操作","url":"/article/aa2a7b7e.html","content":"<blockquote>\n<p><strong>Hexo官方文档:</strong><a href=\"https://hexo.io/zh-cn/docs\">Hexo</a></p>\n</blockquote>\n<h1 id=\"Hexo操作\"><a href=\"#Hexo操作\" class=\"headerlink\" title=\"Hexo操作\"></a>Hexo操作</h1><h2 id=\"指令\"><a href=\"#指令\" class=\"headerlink\" title=\"指令\"></a>指令</h2><figure class=\"highlight js\"><figcaption><span>新建文章，在blog\\source\\_posts</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> post (文章名称)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>新建页面，在blog\\source</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> page (页面名称)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>清除缓存文件 (db.json) 和已生成的静态文件 (public)</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>生成静态文件</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>启动服务器，访问网址:http://localhost:4000</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>部署网站</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>hexo三连,四连</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class=\"line\">hexo cl &amp;&amp; hexo g &amp;&amp; gulp &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>push三连</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;github action update&quot;</span></span><br><span class=\"line\">git push origin master</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"文章操作\"><a href=\"#文章操作\" class=\"headerlink\" title=\"文章操作\"></a>文章操作</h2><blockquote>\n<p><strong>Markdown 教程</strong><br><a href=\"https://www.runoob.com/markdown/md-tutorial.html\">菜鸟教程</a><br><a href=\"http://markdown.p2hp.com/basic-syntax/\">官网—Markdown基本语法</a></p>\n<p><strong>blog\\scaffolds中修改三种文章模板</strong></p>\n<p><em>斜体文本</em> &emsp;*斜体文本*<br><strong>粗体文本</strong> &emsp;**粗体文本**<br><strong><em>粗斜体文本</em></strong> &emsp;***粗斜体文本***<br><del>横线删除</del> &emsp;~~横线删除~~ </p>\n<p><em>*</em>水平分割线</p>\n</blockquote>\n<figure class=\"highlight html\"><figcaption><span>文字蓝链</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">文字内容[tittle](https://*******)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><figcaption><span>文章中自定义文本，size文字大小，face字体，color颜色，&emsp空格</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;2&quot;</span> <span class=\"attr\">face</span>=<span class=\"string\">&quot;verdana&quot;</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;blue&quot;</span> &gt;</span><span class=\"symbol\">&amp;emsp;</span>这是一个文本<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><figcaption><span>插入自定义图片,</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">align</span>=<span class=\"string\">left</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">1.png</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;25%&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;25%&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">align</span>=<span class=\"string\">left</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">1.png</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">2.png</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">![文本](图片地址 &quot;鼠标悬停弹出文本提示&quot;)</span><br></pre></td></tr></table></figure>\n<hr>\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"老旧浏览器弹窗提醒","url":"/article/e61f6567.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;在今年IE终于从半身入土到彻底寄寄，谷歌也做了个违背祖宗的决定，版本号破百。<br>&emsp;&emsp;但像夸克、UC、百分等浏览器，仍然用着老旧的谷歌内核，也有不少人还用着老版本的谷歌浏览器、Edge。像我学校的机房，仍用着老旧的44版Edge。</p>\n<p>&emsp;&emsp;老旧的浏览器不仅让兼容性较低的网站样式爆炸（没错，说的就是我站（bushi）），更不是大势所趋。样式爆炸也会给访客留下不好的印象，为了避免这种情况，合理甩锅（嗯对没错）给浏览器非常双赢。可以每天检测一次浏览器版本号然后弹窗。<br><img src=https://cdn.chuckle.top/images/29-1.webp width=\"60%\" height=\"60%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;把这JS找个地方塞进去，弹窗调用butterfly自带的，用其它的替换即可。<br><figure class=\"highlight js\"><figcaption><span>老旧浏览器弹窗提醒</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">browserTC</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    btf.<span class=\"title function_\">snackbarShow</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">    <span class=\"title class_\">Snackbar</span>.<span class=\"title function_\">show</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">text</span>: <span class=\"string\">&#x27;浏览器版本较低，网站样式可能错乱&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">actionText</span>: <span class=\"string\">&#x27;关闭&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">duration</span>: <span class=\"string\">&#x27;6000&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">pos</span>: <span class=\"string\">&#x27;bottom-right&#x27;</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">browserVersion</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> userAgent = navigator.<span class=\"property\">userAgent</span>; <span class=\"comment\">//取得浏览器的userAgent字符串</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> isIE = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;compatible&quot;</span>) &gt; -<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;MSIE&quot;</span>) &gt; -<span class=\"number\">1</span>; <span class=\"comment\">//判断是否IE&lt;11浏览器</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> isIE11 = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;Trident&#x27;</span>) &gt; -<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;rv:11.0&quot;</span>) &gt; -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> isEdge = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Edge&quot;</span>) &gt; -<span class=\"number\">1</span> &amp;&amp; !isIE; <span class=\"comment\">//Edge浏览器</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> isFirefox = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Firefox&quot;</span>) &gt; -<span class=\"number\">1</span>; <span class=\"comment\">//Firefox浏览器</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> isOpera = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Opera&quot;</span>)&gt;-<span class=\"number\">1</span> || userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;OPR&quot;</span>)&gt;-<span class=\"number\">1</span> ; <span class=\"comment\">//Opera浏览器</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> isChrome = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Chrome&quot;</span>)&gt;-<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Safari&quot;</span>)&gt;-<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Edge&quot;</span>)==-<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;OPR&quot;</span>)==-<span class=\"number\">1</span>; <span class=\"comment\">//Chrome浏览器</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> isSafari = userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Safari&quot;</span>)&gt;-<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Chrome&quot;</span>)==-<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;Edge&quot;</span>)==-<span class=\"number\">1</span> &amp;&amp; userAgent.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;OPR&quot;</span>)==-<span class=\"number\">1</span>; <span class=\"comment\">//Safari浏览器</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(isEdge) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(userAgent.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;Edge/&#x27;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;.&#x27;</span>)[<span class=\"number\">0</span>]&lt;<span class=\"number\">90</span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">browserTC</span>()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(isFirefox) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(userAgent.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;Firefox/&#x27;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;.&#x27;</span>)[<span class=\"number\">0</span>]&lt;<span class=\"number\">90</span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">browserTC</span>()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(isOpera) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(userAgent.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;OPR/&#x27;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;.&#x27;</span>)[<span class=\"number\">0</span>]&lt;<span class=\"number\">80</span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">browserTC</span>()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(isChrome) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(userAgent.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;Chrome/&#x27;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;.&#x27;</span>)[<span class=\"number\">0</span>]&lt;<span class=\"number\">90</span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">browserTC</span>()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(isSafari) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//不知道Safari哪个版本是该淘汰的老旧版本</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//2022-10-29修正了一个错误：过期时间应使用toGMTString()，而不是toUTCString()，否则实际过期时间在中国差了8小时</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">setCookies</span>(<span class=\"params\">obj, limitTime</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> data = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>() + limitTime * <span class=\"number\">24</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">1000</span>).<span class=\"title function_\">toGMTString</span>()</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> obj) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">document</span>.<span class=\"property\">cookie</span> = i + <span class=\"string\">&#x27;=&#x27;</span> + obj[i] + <span class=\"string\">&#x27;;expires=&#x27;</span> + data</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getCookie</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> arr, reg = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;(^| )&quot;</span> + name + <span class=\"string\">&quot;=([^;]*)(;|$)&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (arr = <span class=\"variable language_\">document</span>.<span class=\"property\">cookie</span>.<span class=\"title function_\">match</span>(reg))</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">unescape</span>(arr[<span class=\"number\">2</span>]);</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"title function_\">getCookie</span>(<span class=\"string\">&#x27;browsertc&#x27;</span>)!=<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">setCookies</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">browsertc</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    &#125;, <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"title function_\">browserVersion</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;样式爆炸首先甩锅（</p>\n","categories":["教程"],"tags":["Butterfly","教程"]},{"title":"使用MiniSandbox前端代码可视化","url":"/article/b827db53.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;官方文档:<a href=\"https://buuing.github.io/mini-sandbox/#/\">Mini Sandbox</a>,Github仓库:<a href=\"https://github.com/buuing/mini-sandbox\">mini-sandbox</a></p>\n<p>&emsp;&emsp;这也算是一篇安利文，markdown本身的代码框直接显示代码，对于前端的代码来说，样式效果全靠截图，动不起来，也没交互，虽然可以复制到我另一个单页<a href=\"/hjc/\">HTML/CSS/JS 在线工具</a>，但切换页面和复制终究不直观，影响阅读体验。</p>\n<p>&emsp;&emsp;前段时间看到这个新的前端代码、组件可视化方案，兼容任意js环境，就计划弄到Hexo上试试，其纯前端部署,不依赖服务器,静态页即可实现编辑和预览功能也十分契合Hexo静态站，手动适配了下Hexo的夜间模式以及pjax，效果非常不错。</p>\n<hr>\n<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><blockquote>\n<p>首先推荐先看<a href=\"https://buuing.github.io/mini-sandbox/#/\">官方文档</a>。</p>\n</blockquote>\n<p>&emsp;&emsp;我将其保存在本地引入，并且稍微根据需要对<code>mini-sandbox.js</code>作了一点修改，由于这个js压缩后还有450kb，我建议是在有使用需要的单页通过cdn引入。<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/mini-sandbox@0.3.11&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h1><p>&emsp;&emsp;在Hexo中使用也很方便<br><figure class=\"highlight html\"><figcaption><span>在markdown中需要的地方插入div,并在文末引入一个js</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;my-sandbox&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">···</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;index.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight js\"><figcaption><span>index.js中按文档这样写</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">MiniSandbox</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#my-sandbox&#x27;</span>,<span class=\"comment\">//注意id和上面的一致</span></span><br><span class=\"line\">    <span class=\"attr\">files</span>: &#123;<span class=\"comment\">//要几个页面就仿照写法加几个</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;index.html&#x27;</span>: &#123;<span class=\"comment\">//html</span></span><br><span class=\"line\">            <span class=\"attr\">title</span>: <span class=\"string\">&#x27;HTML&#x27;</span>,<span class=\"comment\">//tab上实际显示的名字</span></span><br><span class=\"line\">            <span class=\"attr\">defaultValue</span>: <span class=\"string\">`&lt;button&gt;点击&lt;/button&gt;`</span>,<span class=\"comment\">//HTML的内容/代码</span></span><br><span class=\"line\">            <span class=\"attr\">cssLibs</span>: [<span class=\"string\">&#x27;index.css&#x27;</span>],<span class=\"comment\">//html引入的css</span></span><br><span class=\"line\">            <span class=\"attr\">jsLibs</span>: [<span class=\"string\">&#x27;index.js&#x27;</span>],<span class=\"comment\">//html引入的js</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">&#x27;index.css&#x27;</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">title</span>: <span class=\"string\">&#x27;CSS&#x27;</span>,</span><br><span class=\"line\">            <span class=\"comment\">//CSS的内容/代码,写起来排版有点怪，但熟悉了也还好</span></span><br><span class=\"line\">            <span class=\"attr\">defaultValue</span>: <span class=\"string\">`button &#123;</span></span><br><span class=\"line\"><span class=\"string\">  width: 100%;</span></span><br><span class=\"line\"><span class=\"string\">  color: red;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\">        `</span>&#125;,</span><br><span class=\"line\">        <span class=\"string\">&#x27;index.js&#x27;</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">title</span>: <span class=\"string\">&#x27;JS&#x27;</span>,</span><br><span class=\"line\">            <span class=\"comment\">//JS的内容/代码</span></span><br><span class=\"line\">            <span class=\"attr\">defaultValue</span>: <span class=\"string\">`const btn = document.querySelector(&#x27;button&#x27;)</span></span><br><span class=\"line\"><span class=\"string\">btn.addEventListener(&#x27;click&#x27;, () =&gt; &#123;  </span></span><br><span class=\"line\"><span class=\"string\">    alert(&#x27;这是一个按钮&#x27;)</span></span><br><span class=\"line\"><span class=\"string\">&#125;)</span></span><br><span class=\"line\"><span class=\"string\">        `</span>&#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//用来设置一些Sandbox的默认配置</span></span><br><span class=\"line\">    <span class=\"attr\">defaultConfig</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"string\">&#x27;330px&#x27;</span>,<span class=\"comment\">//Sandbox的高度,默认为 &#x27;300px&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">autoRun</span>: <span class=\"literal\">true</span>,<span class=\"comment\">//每次修改后是否自动运行, 默认等于 true</span></span><br><span class=\"line\">        <span class=\"attr\">autoRunInterval</span>: <span class=\"number\">1000</span>,<span class=\"comment\">//每次自动运行的时间间隔,单位为毫秒,默认等于300</span></span><br><span class=\"line\">        <span class=\"attr\">editorRange</span>: <span class=\"string\">&#x27;55%&#x27;</span>,<span class=\"comment\">//编辑区域默认占比,默认情况下编辑区域占50%</span></span><br><span class=\"line\">        <span class=\"attr\">draggable</span>: <span class=\"literal\">true</span>,<span class=\"comment\">//是否可以左右拖动布局, 默认为true</span></span><br><span class=\"line\">        <span class=\"attr\">direction</span>: <span class=\"string\">&#x27;row&#x27;</span>,<span class=\"comment\">//控制上下/左右布局,默认为&#x27;row&#x27;,&#x27;row&#x27; | &#x27;row-reverse&#x27; | &#x27;column&#x27; | &#x27;column-reverse&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;效果如下:</p>\n<div id=\"my-sandbox\"></div>\n\n<p>&emsp;&emsp;Mini Sandbox不仅让我能方便展示前端的代码、组件，同时也允许读者直接修改代码框中的内容并运行（自动的，实时的），试着改改下面的代码，看看效果吧。</p>\n<div id=\"myAuthorBox-sandbox\"></div>\n\n<p>&emsp;&emsp;Mini Sandbox还对CSS有补全和提示，F12可以直接用浏览器的。<br><img src=https://cdn.chuckle.top/images/30-1.webp width=\"50%\" height=\"50%\"></p>\n<p>&emsp;&emsp;当然，如果单纯展示,不希望读者修改，也可以将css、js写在resource中:<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">MiniSandbox</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#exhibition-sandbox&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">files</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;index.html&#x27;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>: <span class=\"string\">&#x27;HTML&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">defaultValue</span>: <span class=\"string\">`&lt;input type=&quot;text&quot; value=&quot;0&quot;&gt;&lt;br&gt;&lt;br&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=&quot;submit&quot; value=&quot;加一&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=&quot;submit&quot; value=&quot;清除&quot;&gt;  </span></span><br><span class=\"line\"><span class=\"string\">    `</span>&#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">resource</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">cssLibs</span>: [],</span><br><span class=\"line\">    <span class=\"attr\">jsLibs</span>: [],</span><br><span class=\"line\">    <span class=\"attr\">css</span>: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">      input &#123;</span></span><br><span class=\"line\"><span class=\"string\">        color: blue;</span></span><br><span class=\"line\"><span class=\"string\">      &#125;</span></span><br><span class=\"line\"><span class=\"string\">    `</span>,</span><br><span class=\"line\">    <span class=\"attr\">js</span>: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">      var text = document.getElementsByTagName(&#x27;input&#x27;)[0];</span></span><br><span class=\"line\"><span class=\"string\">      var add = document.getElementsByTagName(&#x27;input&#x27;)[1];</span></span><br><span class=\"line\"><span class=\"string\">      var clear = document.getElementsByTagName(&#x27;input&#x27;)[2];</span></span><br><span class=\"line\"><span class=\"string\">      add.onclick = function numberadd()&#123;</span></span><br><span class=\"line\"><span class=\"string\">        text.value++;  </span></span><br><span class=\"line\"><span class=\"string\">      &#125;</span></span><br><span class=\"line\"><span class=\"string\">      clear.onclick = function clearnumber()&#123;</span></span><br><span class=\"line\"><span class=\"string\">        text.value = 0; </span></span><br><span class=\"line\"><span class=\"string\">      &#125;</span></span><br><span class=\"line\"><span class=\"string\">    `</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;效果:</p>\n<div id=\"exhibition-sandbox\"></div>\n\n<p>&emsp;&emsp;Mini Sandbox左上角按钮点击后有一些可自定义的功能<br><img src=https://cdn.chuckle.top/images/30-2.webp width=\"50%\" height=\"50%\"></p>\n<p>&emsp;&emsp;除了上述的一些基本功能,Mini Sandbox还有很多功能，如直接放置CDN链接展示组件库，如Sandbox事件的触发回调函数，如支持vue、react等，并且在持续更新。</p>\n<hr>\n<h1 id=\"更多示例\"><a href=\"#更多示例\" class=\"headerlink\" title=\"更多示例\"></a>更多示例</h1><p>官方文档提供了一些示例：<a href=\"https://buuing.github.io/mini-sandbox/#/docs/html\">Examples &amp; 示例</a></p>\n<hr>\n<h1 id=\"Hexo夜间适配\"><a href=\"#Hexo夜间适配\" class=\"headerlink\" title=\"Hexo夜间适配\"></a>Hexo夜间适配</h1><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#151515</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.cm-activeLine</span>&#123;</span><br><span class=\"line\">   <span class=\"attribute\">background-color</span>: <span class=\"number\">#252525</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-head</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#202020</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.cm-gutters</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#202020</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-head</span> <span class=\"selector-class\">.sandbox-tab</span> <span class=\"selector-class\">.sandbox-tab-active</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-head</span> <span class=\"selector-class\">.sandbox-tab</span> <span class=\"selector-class\">.sandbox-tab-active</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#363636</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.cm-activeLineGutter</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#363636</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.sandbox-body</span> <span class=\"selector-class\">.sandbox-gutter</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#363636</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-gutter</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-left</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#404040</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-right</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#404040</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-head</span> <span class=\"selector-class\">.sandbox-tab</span> <span class=\"selector-class\">.sandbox-tab-active</span><span class=\"selector-pseudo\">::after</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-head</span> <span class=\"selector-class\">.sandbox-tab</span> <span class=\"selector-class\">.sandbox-tab-active</span><span class=\"selector-pseudo\">::before</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> <span class=\"selector-class\">.sandbox-render</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#E1E1E1</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼd&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#c3e88d</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼc&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#c3e88d</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼ<span class=\"selector-tag\">b</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#1E90FF</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼf&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#1E90FF</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼh&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ff5370</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼ<span class=\"selector-tag\">a</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#FF00FF</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼ<span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>:<span class=\"number\">#5F9EA0</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span> .ͼl&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>:<span class=\"number\">#969896</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.mini-sandbox</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<script src=\"https://cdn.chuckle.top/js/mini-sandbox.min.js?2\"></script>\n<script src=\"https://cdn.chuckle.top/js/30.js?2\"></script>","categories":["教程"],"tags":["教程","瞎折腾"]},{"title":"HTML基础笔记","url":"/article/1475187a.html","content":"<h1 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h1><p>&emsp;&emsp;一个最基本的H5骨架长这样：<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;Content-Type&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Author&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Keywords&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;123&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Description&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;123456&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>标准的div+css页面，只会用到种类很少的标签：div、p、h1、span、a、img、ul、ol、dl、input、i等</p>\n</blockquote>\n<hr>\n<h2 id=\"头标签head\"><a href=\"#头标签head\" class=\"headerlink\" title=\"头标签head\"></a>头标签head</h2><p>&emsp;&emsp;head标签表示的是页面的配置，有字符集、关键词、页面描述、页面标题、IE适配、视口、iPhone小图标等等</p>\n<ol>\n<li><strong>文档声明头：</strong><code>&lt;!DOCTYPE html&gt;</code>，DocType Declaration，简称DTD,DTD可告知浏览器文档使用哪种 HTML 或 XHTML 规范。</li>\n<li><strong>页面语言lang：</strong><code>&lt;html lang=&quot;en&quot;&gt;</code>，指定页面的语言类型，en、zh-CN。</li>\n<li><strong>meta标签：</strong>提供相关页面的元信息（meta-information）</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--必要，网页标题--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>轻笑Chuckle<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--必要，网页的编码方式,文件格式要与其声明相符--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;Content-Type&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--视口viewport，适配移动端--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--网页关键词，SEO用--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Keywords&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;轻笑,Chuckle&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--网页描述--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Description&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;漫天倾尘,风中轻笑&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--网页作者--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Author&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;轻笑Chuckle&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--3s后跳转百度--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;refresh&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;3;http://www.baidu.com&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--指定基础的路径，a链接以此为基准--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">base</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"body标签\"><a href=\"#body标签\" class=\"headerlink\" title=\"body标签\"></a>body标签</h2><ul>\n<li>div、section、article、aside、header、footer</li>\n<li>p</li>\n<li>span、em、strong</li>\n<li>表格元素：table、thead、tbody、tr、td</li>\n<li>列表元素：ul、ol、dl、dt、dd</li>\n<li>a</li>\n<li>表单元素：form、input、select、textarea、button</li>\n</ul>\n<p>&emsp;&emsp;<strong>HTML标签分为两种：</strong></p>\n<ol>\n<li>文本级标签：p、span、a、b、i、u、em。文本级标签里只能放文字、图片、表单元素。（a标签里不能放a和input）</li>\n<li>容器级标签：div、h系列、li、dt、dd。容器级标签里可以放置任何东西。</li>\n</ol>\n<hr>\n<h2 id=\"排版标签\"><a href=\"#排版标签\" class=\"headerlink\" title=\"排版标签\"></a>排版标签</h2><ol>\n<li><code>&lt;h1&gt;</code>标题使用<code>&lt;h1&gt;</code>至<code>&lt;h6&gt;</code>标签定义,有align属性(对齐方式)：left、center、right。</li>\n<li><code>&lt;p&gt;</code>段落标签，单独成段，分割网页。有align属性。</li>\n<li><code>&lt;hr/&gt;</code>水平分割线线标签。</li>\n<li><code>&lt;br/&gt;</code></li>\n<li><code>&lt;div&gt;</code>可以把标签中的内容分割为独立的区块。必须单独占据一行,DIV+CSS来实现各种样式,<strong>div标签负责布局、结构、分块，css负责样式</strong></li>\n<li><code>&lt;span&gt;</code>和div的作用一致，但不换行</li>\n<li><code>&lt;center&gt;</code>让元素居中，H5中不使用</li>\n<li><code>&lt;pre&gt;</code>预格式化，让文本不空格和空行，几乎用不着</li>\n<li><code>&lt;!-- 我是 html 注释  --&gt;</code></li>\n</ol>\n<hr>\n<h2 id=\"字体标签\"><a href=\"#字体标签\" class=\"headerlink\" title=\"字体标签\"></a>字体标签</h2><ol>\n<li>特殊字符（转义字符），需要时百度，<code>&amp;nbsp;</code>空格,<code>&amp;lt;</code>小于号&lt;,<code>&amp;gt;</code>大于号&gt;，等</li>\n<li><code>&lt;u&gt;</code>下划线,<code>&lt;s&gt;</code>或<code>&lt;del&gt;</code>中划线,<code>&lt;i&gt;</code>或<code>&lt;em&gt;</code>斜体</li>\n<li><strong>弃用:</strong><code>&lt;b&gt;</code> <code>&lt;strong&gt;</code>粗体，<code>&lt;font&gt;</code>字体标签</li>\n<li><code>&lt;sup&gt;</code>上标，<code>&lt;sub&gt;</code>下标</li>\n</ol>\n<hr>\n<h2 id=\"超链接a\"><a href=\"#超链接a\" class=\"headerlink\" title=\"超链接a\"></a>超链接a</h2><p>&emsp;一个文本级标签</p>\n<ol>\n<li>外部链接:<code>&lt;a href=&quot;02页面.html&quot;&gt;点击进入另外一个文件&lt;/a&gt;</code><strong>href</strong>超文本地址</li>\n<li>锚链接:</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--设置锚点，必须是a标签--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--name属性是HTML4.0以前使用的，id属性是HTML4.0后才开始使用。为了向前兼容，因此，name和id这两个属性都要写上，并且值是一样的--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;a1&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;a1&quot;</span>&gt;</span>a1点<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--触发锚点--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#a1&quot;</span>&gt;</span>去a1点<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--跳转到a.html页面的a1锚点中去--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;a.html#a1&quot;</span>&gt;</span>去a1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;通常p包裹a<br><details class=\"folding-tag\" cyan><summary> 超链接的属性 </summary>\n              <div class='content'>\n              <p><strong>href</strong>：目标URL<br><strong>title</strong>：悬停文本。<br><strong>name</strong>：主要用于设置一个锚点的名称。<br><strong>target</strong>：告诉浏览器用什么方式来打开目标页面。target属性有以下几个值：<br>&emsp;<strong>_self</strong>：在同一个网页中显示（默认值）<br>&emsp;<strong>_blank</strong>：在新的窗口中打开。<br>&emsp;<strong>_top</strong>：在顶级窗口中显示  </p>\n              </div>\n            </details></p>\n<hr>\n<h2 id=\"图片标签\"><a href=\"#图片标签\" class=\"headerlink\" title=\"图片标签\"></a>图片标签</h2><p>&emsp;<code>&lt;img src=&quot;图片的URL&quot; /&gt;</code>src中写图片路径</p>\n<p>&emsp;标签属性：</p>\n<ol>\n<li><strong>width</strong>、<strong>height</strong><br>在 HTML5 中的单位是 CSS 像素，在 HTML 4 中既可以是像素，也可以是百分比<br>可以只指定 width 和 height 中的一个值，浏览器会根据原始图像进行<strong>等比缩放</strong></li>\n<li><strong>alt</strong>：当图片无法显示时，代替图片的文本</li>\n<li><strong>title</strong>：鼠标悬停时出现的文本</li>\n<li>align属性，默认bottom</li>\n</ol>\n<hr>\n<h3 id=\"相对路径\"><a href=\"#相对路径\" class=\"headerlink\" title=\"相对路径\"></a>相对路径</h3><p>&emsp;<code>.</code>当前目录,<code>..</code>上一层目录<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 当前目录中的图片 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;img.jpg&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img.jpg&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 上一级目录中的图片 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../img.jpg&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ../要么不写，要么就写在开头 --&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h3 id=\"绝对路径\"><a href=\"#绝对路径\" class=\"headerlink\" title=\"绝对路径\"></a>绝对路径</h3><p>&emsp;<code>&lt;img src=&quot;C:\\img.jpg&quot;&gt;</code>C盘图片<br>&emsp;<code>&lt;img src=&quot;http://img.baidu.com/head.png&quot;&gt;</code>网络路径</p>\n<hr>\n<h2 id=\"列表标签\"><a href=\"#列表标签\" class=\"headerlink\" title=\"列表标签\"></a>列表标签</h2><ol>\n<li>无序列表<code>&lt;ul&gt;</code>,type=”属性值”;disc(实心原点，默认)，square(实心方点)，circle(空心圆)</li>\n<li>有序列表<code>&lt;ol&gt;</code>,type=”属性值”;1(阿拉伯数字，默认)、a、A、i、I。结合start属性表示从几开始<br><code>&lt;ul&gt;</code>、<code>&lt;ol&gt;</code>里放<code>&lt;li&gt;</code>,li是容器级</li>\n<li>定义列表<code>&lt;al&gt;</code>,没有属性,子元素<code>&lt;dt&gt;</code>、<code>&lt;dd&gt;</code></li>\n</ol>\n<div id=\"list-example\"></div>\n\n<p>&emsp;&emsp;从语义上来说，dt表示名称，dd表示对其的描述，dt、dd都是容器级标签，想放什么都可以。用什么标签，不是根据样子来决定，而是语义（语义本质上是结构）。</p>\n<hr>\n<h2 id=\"表格标签table\"><a href=\"#表格标签table\" class=\"headerlink\" title=\"表格标签table\"></a>表格标签table</h2><p>&emsp;&emsp;网页中表格由每行<code>&lt;tr&gt;</code>组成，每一行由一个个单元格<code>&lt;td&gt;</code>组成<br>&emsp;&emsp;<code>&lt;th&gt;</code>加粗的单元格。相当于<code>&lt;td&gt;</code> + <code>&lt;b&gt;</code><br><figure class=\"highlight html\"><figcaption><span>一个表格</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<details class=\"folding-tag\" cyan><summary> table的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>border</strong> 边框</li><li><strong>style=”border-collapse:collapse;”</strong>单元格的线和表格的边框线合并（表格的两边框合并为一条）</li><li><strong>width</strong>、<strong>height</strong></li><li><strong>bordercolor</strong> 表格的边框颜色</li><li><strong>align</strong> 表格的水平对齐方式left right center，注意：这里不是设置表格里内容的对齐方式，如果想设置内容的对齐方式，要对单元格标签<code>&lt;td&gt;</code>进行设置）</li><li><strong>cellpadding</strong> 单元格和单元格之间的距离（外边距），像素为单位。默认情况下的值为0</li><li><strong>bgcolor</strong> 背景颜色，<strong>background</strong> 背景图片。背景图片的优先级大于背景颜色。</li><li><strong>bordercolorlight</strong> 表格的上、左边框，以及单元格的右、下边框的颜色,<strong>bordercolordark</strong> 表格的右、下边框，以及单元格的上、左的边框的颜色 这两个属性的目的是为了设置3D的效果</li><li><strong>dir</strong> 公有属性，单元格内容的排列方式，取值ltr左到右，rtl从右到左</li></ul>\n              </div>\n            </details>\n<details class=\"folding-tag\" cyan><summary> tr的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>dir</strong> 公有属性，单元格内容的排列方式，取值ltr左到右，rtl从右到左</li><li><strong>bgcolor</strong> 设置这一行的单元格的背景色</li><li><strong>height</strong></li><li><strong>align</strong> 一行的内容水平居中显示，取值：left、center、right</li><li><strong>valign</strong> 一行的内容垂直居中，取值：top、middle、bottom</li></ul>\n              </div>\n            </details>\n<details class=\"folding-tag\" cyan><summary> tr的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>bgcolor</strong> 单元格的背景色，<strong>background</strong> 设置这个单元格的背景（图片）</li><li><strong>height</strong> 单元格的高度</li><li><strong>width</strong> 绝对值或者相对值(%)</li><li><strong>align</strong> 内容的横向对齐方式，取值：left right center</li><li><strong>valign</strong> 内容的纵向对齐方式。取值：top middle bottom</li></ul>\n              </div>\n            </details>\n<hr>\n<h3 id=\"单元格的合并\"><a href=\"#单元格的合并\" class=\"headerlink\" title=\"单元格的合并\"></a>单元格的合并</h3><ol>\n<li><strong>colspan</strong>：横向往右合并</li>\n<li><strong>rowspan</strong>：纵向往下合并</li>\n</ol>\n<div id=\"table1-example\"></div>\n\n<hr>\n<h3 id=\"thead、tbody、tfoot\"><a href=\"#thead、tbody、tfoot\" class=\"headerlink\" title=\"thead、tbody、tfoot\"></a>thead、tbody、tfoot</h3><p>&emsp;&emsp;表格优先按照thead、tbody、tfoot的顺序依次来显示内容（三个标签无需同时存在），如果不写，表格按代码从上到下的顺序来显示<br>&emsp;&emsp;当表格非常大内容非常多的时候，用thead、tbody、tfoot标签，数据可以边获取边显示。如果不写，则必须等表格的内容全部从服务器获取完成才能显示出来。<br>&emsp;&emsp;tr和tbody同级，按代码从上到下的顺序来显示</p>\n<div id=\"table2-example\"></div>\n\n<hr>\n<h2 id=\"框架标签\"><a href=\"#框架标签\" class=\"headerlink\" title=\"*框架标签\"></a>*框架标签</h2><p>&emsp;&emsp;框架标签用于在一个网页中显示多个页面（html）</p>\n<blockquote>\n<ol>\n<li><code>&lt;frameset&gt;</code>和<code>&lt;body&gt;</code>只能二选一。框架标签不能放在<code>&lt;body&gt;</code>标签里面，因为<code>&lt;body&gt;</code>标签代表的只是一个页面，而框架标签代表的是多个页面</li>\n<li>框架的集合用<code>&lt;frameset&gt;</code>表示，然后在<code>&lt;frameset&gt;</code>集合里放入一个一个的框架<code>&lt;frame&gt;</code></li>\n<li><strong>frameset和frame已经从 Web标准中删除，使用iframe代替</strong></li>\n</ol>\n</blockquote>\n<hr>\n<h3 id=\"frameset\"><a href=\"#frameset\" class=\"headerlink\" title=\"*frameset\"></a>*frameset</h3><p>&emsp;&emsp;<code>&lt;frameset&gt;</code> 框架的集合,一个框架的集合可以包含<strong>多个框架</strong>或<strong>框架的集合</strong></p>\n<details class=\"folding-tag\" cyan><summary> frameset的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>rows</strong> 水平分割，将框架分为上下部分</li><li><strong>cols</strong> 垂直分割，将框架分为左右部分。<br>写法有两种：</li></ul><ol><li>绝对值写法：<code>rows/cols=&quot;200,*&quot;</code> *代表剩余的。包含了两个框架：一个占200个像素，另一个占剩下的部分。</li><li>相对值写法：<code>rows/cols=&quot;30%,*&quot;</code> *代表剩余的。包含了两个框架：一个占30%，另一个占70%。</li></ol><p>&emsp;如果想将框架分成很多个，在属性值里用多个逗号隔开。</p>\n              </div>\n            </details>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">frameset</span> <span class=\"attr\">rows</span>=<span class=\"string\">&quot;20%,*&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">frame</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;1.html&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">frame</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">frameset</span> <span class=\"attr\">cols</span>=<span class=\"string\">&quot;30%,*&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">frame</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;1.html&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">frame</span>&gt;</span> </span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">frame</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;1.html&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">frame</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">frameset</span>&gt;</span>      </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">frameset</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"frame\"><a href=\"#frame\" class=\"headerlink\" title=\"*frame\"></a>*frame</h3><p>&emsp;&emsp;<code>&lt;frame&gt;</code>是<code>&lt;frameset&gt;</code>的子标签，一个框架显示一个页面。</p>\n<details class=\"folding-tag\" cyan><summary> frame的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>scrolling=”no”</strong> 是否要滚动条,默认值是true。</li><li><strong>noresize</strong> 不可以改变框架大小。默认情况下，单个框架的边界是可以拖动的,用了这个属性值，框架大小将固定。</li><li><strong>bordercolor</strong> 框架边框颜色,仅IE生效</li><li><strong>frameborder=”0”</strong>或<strong>“1”</strong> 隐藏或显示边框（框架线）。</li><li><strong>name</strong> 框架名字，用于框架内的超链</li></ul>\n              </div>\n            </details>\n<hr>\n<h2 id=\"内嵌框架\"><a href=\"#内嵌框架\" class=\"headerlink\" title=\"内嵌框架\"></a>内嵌框架</h2><p>&emsp;&emsp;内嵌框架用<code>&lt;iframe&gt;</code>表示。<code>&lt;iframe&gt;</code>写在<code>&lt;body&gt;</code>中，在其中嵌入html页面</p>\n<details class=\"folding-tag\" cyan><summary> iframe的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>src=””</strong> 嵌入html页面的路径</li><li><strong>height</strong>,<strong>width</strong></li><li><strong>scrolling=”no”</strong> 是否需要滚动条。默认值是true。</li><li><strong>name</strong> 名称</li></ul>\n              </div>\n            </details>\n<div id=\"iframe-example\"></div>\n\n<hr>\n<h2 id=\"表单标签\"><a href=\"#表单标签\" class=\"headerlink\" title=\"表单标签\"></a>表单标签</h2><p>&emsp;&emsp;表单标签用<code>&lt;form&gt;</code>表示，收集用户信息，用于与服务器的交互。<br><details class=\"folding-tag\" cyan><summary> form的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>name</strong>，<strong>id</strong> 表单的名称，JS来操作或控制表单时使用</li><li><strong>action</strong> 指定表单数据的处理程序</li><li><strong>method</strong> 表单数据的提交方式，一般取值：get(默认)和post</li></ul>\n              </div>\n            </details></p>\n<hr>\n<h3 id=\"input输入标签\"><a href=\"#input输入标签\" class=\"headerlink\" title=\"input输入标签\"></a>input输入标签</h3><p>&emsp;&emsp;<code>&lt;input&gt;</code>是一个输入标签，用于接收用户输入或选择</p>\n<details class=\"folding-tag\" cyan><summary> input的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>type=”属性值”</strong> 文本类型<br><strong><em>text</em></strong> 文本框，默认<br><strong><em>password</em></strong> 密码框<br><strong><em>radio</em></strong> 单选按钮<br><strong><em>checkbox</em></strong> 多选按钮，name属性值相同的按钮作为一组进行选择，但id必须唯一。<br><strong><em>hidden</em></strong> 隐藏框，在表单中包含不希望用户看见的信息<br><strong><em>button</em></strong> 普通按钮，结合js代码进行使用。<br><strong><em>submit</em></strong> 提交按钮，提交当前表单的数据给服务器或其他程序处理。这个按钮不需要写value自动就会有“提交”文字，点击按钮后，整个表单就会被提交到form标签的action属性中指定的那个页面中去<br><strong><em>reset</em></strong> 重置按钮，清空当前表单的内容，并设置为最初的默认值<br><strong><em>image</em></strong> 图片按钮，和submit提交按钮的功能完全一致，图片按钮可以显示图片。<br><strong><em>file</em></strong> 文件选择框，配合JS对文件进行限制和检查</li><li><strong>checked</strong> 将单选按钮或多选按钮默认处于选中状态。当<code>&lt;input&gt;</code>标签设置为<strong>type=”radio”</strong>或者<strong>type=checkbox</strong>时，可用此属性</li><li><strong>value=”内容”</strong> 文本框里的默认内容（已经被填好了的）</li><li><strong>size=”50”</strong> 表示文本框内可以显示<strong>五十个字符</strong>。一个英文或一个中文都算一个字符</li><li><strong>readonly</strong> 文本框只读</li><li><strong>disabled</strong> 文本框只读</li></ul>\n              </div>\n            </details>\n<div id=\"input1-example\"></div>\n\n<hr>\n<h3 id=\"select下拉列表\"><a href=\"#select下拉列表\" class=\"headerlink\" title=\"select下拉列表\"></a>select下拉列表</h3><p>&emsp;&emsp;<code>&lt;select&gt;</code>列表中每一选项为<code>&lt;option&gt;</code></p>\n<details class=\"folding-tag\" cyan><summary> select、option的属性 </summary>\n              <div class='content'>\n              <p><code>&lt;select&gt;</code>的属性:</p><ul><li><strong>multiple</strong> 多选(ctrl加左键点击)</li><li><strong>size=”3”</strong> 属性值大于1，则列表为滚动视图，默认属性值为1，即下拉视图。</li></ul><p><code>&lt;option&gt;</code>的属性:</p><ul><li><strong>selected</strong> 预选中</li></ul>\n              </div>\n            </details>\n<div id=\"select1-example\"></div>\n\n<hr>\n<h3 id=\"textarea多行文本框\"><a href=\"#textarea多行文本框\" class=\"headerlink\" title=\"textarea多行文本框\"></a>textarea多行文本框</h3><p>&emsp;&emsp;<code>&lt;textarea&gt;</code>不会省略空格和换行<br><details class=\"folding-tag\" cyan><summary> textarea的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>rows=”4”</strong> 文本框行数</li><li><strong>cols=”20”</strong> 文本框列数</li><li><strong>readonly</strong> 文本框只读</li></ul>\n              </div>\n            </details></p>\n<div id=\"textarea1-example\"></div>\n\n<hr>\n<h3 id=\"fieldset表单分组\"><a href=\"#fieldset表单分组\" class=\"headerlink\" title=\"fieldset表单分组\"></a>fieldset表单分组</h3><p>&emsp;&emsp;<code>&lt;fieldset&gt;</code>子标签<code>&lt;legend&gt;</code>定义组的标题<br><details class=\"folding-tag\" cyan><summary> fieldset的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>disabled</strong> 表单仍然显示，但是禁用</li><li><strong>form=”另一个表单的id”</strong> 让此fieldset也属于该表单一部分</li><li><strong>name</strong> fieldset的名称</li></ul>\n              </div>\n            </details></p>\n<div id=\"fieldset1-example\"></div>\n\n<hr>\n<h3 id=\"label\"><a href=\"#label\" class=\"headerlink\" title=\"label\"></a>label</h3><p>&emsp;&emsp;<code>label</code>使其中文字内容与<code>&lt;input&gt;</code>绑定，点击文字也能选择选项等<br><details class=\"folding-tag\" cyan><summary> fieldset的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>for=”[id]”</strong> label要绑定的input的id</li></ul>\n              </div>\n            </details></p>\n<div id=\"label1-example\"></div>\n\n<hr>\n<h1 id=\"HTML5\"><a href=\"#HTML5\" class=\"headerlink\" title=\"HTML5\"></a>HTML5</h1><p>&emsp;&emsp;HTML5是新一代开发Web富客户端应用程序整体解决方案。包括：HTML5,CSS3，Javascript API在内的一套<strong>技术组合</strong>。富客户端具有很强的<strong>交互性</strong>和体验。</p>\n<hr>\n<h2 id=\"新增的语义标签\"><a href=\"#新增的语义标签\" class=\"headerlink\" title=\"新增的语义标签\"></a>新增的语义标签</h2><p>&emsp;&emsp;相较于使用<code>class=&quot;header&quot;</code>给网页做语义化处理，HTML5本身提供了一些语义化的标签。强调了HTML的职责是描述一块内容是什么（或其意义）。</p>\n<p>&emsp;&emsp;常见的HTML结构：<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 头部 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;header&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 主体部分 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;main&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 文章 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;article&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 侧边栏 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aside&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 底部 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;footer&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;HTML5中这样写<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 头部 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 主体部分 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;main&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 文章 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">article</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 侧边栏 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">aside</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">aside</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 底部 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">footer</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">footer</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<details class=\"folding-tag\" cyan><summary> HTML5语义标签 </summary>\n              <div class='content'>\n              <ul><li><strong>section</strong> 区块</li><li><strong>article</strong> 表示主体内容，如文章</li><li><strong>header</strong> 页眉</li><li><strong>footer</strong> 页脚</li><li><strong>nav</strong> 导航栏</li><li><strong>aside</strong> 侧边栏</li><li><strong>figure</strong> 媒介内容分组</li><li><strong>mark</strong> 标记</li><li><strong>progress</strong> 进度</li><li><strong>time</strong> 日期</li></ul>\n              </div>\n            </details>\n<hr>\n<h2 id=\"H5中的表单\"><a href=\"#H5中的表单\" class=\"headerlink\" title=\"H5中的表单\"></a>H5中的表单</h2><details class=\"folding-tag\" cyan><summary> HTML5表单中input新增的类型 </summary>\n              <div class='content'>\n              <ul><li><strong>email</strong> 只能输入email格式，自带格式验证</li><li><strong>tel</strong> 手机号码</li><li><strong>url</strong> 只能输入url格式</li><li><strong>number</strong> 只能输入数字。</li><li><strong>search</strong> 搜索框</li><li><strong>range</strong> 滑动条</li><li><strong>color</strong> 拾色器</li><li><strong>time</strong> 时间</li><li><strong>date</strong> 日期</li><li><strong>datetime</strong> 时间日期</li><li><strong>month</strong> 月份</li><li><strong>week</strong> 星期</li></ul>\n              </div>\n            </details>\n<div id=\"h5-input-example\"></div>\n\n<hr>\n<h2 id=\"新表单标签\"><a href=\"#新表单标签\" class=\"headerlink\" title=\"新表单标签\"></a>新表单标签</h2><ul>\n<li><code>&lt;datalist&gt;</code> 数据列表,用于数据自动提示</li>\n</ul>\n<div id=\"datalist-example\"></div>\n\n<ul>\n<li><code>&lt;keygen&gt;</code> 用于验证用户，本质是密钥对生成器，当提交表单时，会生成两个键：一个公钥，一个私钥，私钥存储于客户端，公钥则被发送到服务器。公钥可用于之后验证用户的客户端证书。</li>\n</ul>\n<hr>\n<h2 id=\"新表单属性\"><a href=\"#新表单属性\" class=\"headerlink\" title=\"新表单属性\"></a>新表单属性</h2><details class=\"folding-tag\" cyan><summary> 新表单属性 </summary>\n              <div class='content'>\n              <ul><li><strong>placeholder</strong> 占位符（提示文字）</li><li><strong>autofocus</strong> 自动获取焦点</li><li><strong>multiple</strong> 文件上传多选或多个邮箱地址</li><li><strong>autocomplete</strong> 自动完成（填充的）on开启（默认）off取消。效果是会记住之前的提交，可以快速选择</li><li><strong>form</strong> 指定表单项属于哪个form，处理复杂表单时会需要</li><li><strong>novalidate</strong> 关闭默认的验证功能（只能加给form）</li><li><strong>required</strong> 表示必填项</li><li><strong>pattern</strong> 自定义正则，验证表单。</li></ul>\n              </div>\n            </details>\n<div id=\"new-form-example\"></div>\n\n<hr>\n<h2 id=\"表单事件\"><a href=\"#表单事件\" class=\"headerlink\" title=\"表单事件\"></a>表单事件</h2><ol>\n<li><code>oninput()</code> 用户输入内容时触发，可用于输入字数统计。</li>\n<li><code>oninvalid()</code> 验证不通过时触发</li>\n</ol>\n<hr>\n<h2 id=\"audio音频标签\"><a href=\"#audio音频标签\" class=\"headerlink\" title=\"audio音频标签\"></a>audio音频标签</h2><details class=\"folding-tag\" cyan><summary> audio的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>autoplay</strong> 自动播放</li><li><strong>controls</strong> 控制条</li><li><strong>loop</strong> 循环播放</li><li><strong>preload</strong> 预加载，设置autoplay此属性失效</li></ul>\n              </div>\n            </details>\n<div id=\"audio-example\"></div>\n\n<hr>\n<h2 id=\"video视频标签\"><a href=\"#video视频标签\" class=\"headerlink\" title=\"video视频标签\"></a>video视频标签</h2><details class=\"folding-tag\" cyan><summary> audio的属性 </summary>\n              <div class='content'>\n              <ul><li><strong>autoplay</strong> 自动播放</li><li><strong>controls</strong> 控制条</li><li><strong>loop</strong> 循环播放</li><li><strong>preload</strong> 预加载，设置autoplay此属性失效</li><li><strong>width</strong>、<strong>height</strong></li></ul>\n              </div>\n            </details>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;video/movie.mp4&quot;</span> <span class=\"attr\">controls</span>  <span class=\"attr\">autoplay</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">controls</span> <span class=\"attr\">autoplay</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">source</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;video/movie.mp4&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">source</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;video/movie.ogg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">source</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;video/movie.webm&quot;</span>/&gt;</span></span><br><span class=\"line\">  抱歉，不支持此视频</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<script src=\"https://cdn.chuckle.top/js/mini-sandbox.min.js?2\"></script>\n<script src=\"https://cdn.chuckle.top/js/31.js?3\"></script>","categories":["学习笔记"],"tags":["前端"]},{"title":"阳了个🐑","url":"/article/4154609f.html","content":"<h1 id=\"没想到咋🐑的\"><a href=\"#没想到咋🐑的\" class=\"headerlink\" title=\"没想到咋🐑的\"></a>没想到咋🐑的</h1><p>&emsp;&emsp;2022年12月17号，作为全国高校跑毒的最后一批，我戴上3M有呼吸阀的N95，经过广州南，坐高铁几百公里回家都没有阳，但就在前几天，喉咙发干，头有些发紧，腰有点酸，我意识到可能中招了，但还是嘴硬觉得没阳，并且愉快地<strong>洗了个澡</strong>。</p>\n<p>&emsp;&emsp;自我隔离5天后才真正回家，之后出门戴口罩，随身带酒精消毒，这四天千防万防，还是难逃一🐑。</p>\n<hr>\n<h1 id=\"2022-12-27\"><a href=\"#2022-12-27\" class=\"headerlink\" title=\"2022-12-27\"></a>2022-12-27</h1><p>&emsp;&emsp;也许因为昨天洗了个澡，27号凌晨突然39度高烧，还有全身不舒服发冷，头皮发麻脑袋要裂开等等，好在高烧在短短一小时就结束了，但这整晚在身体各种不适下还是难以入眠，退烧后的凌晨2点头特别疼、喉咙干。</p>\n<p>&emsp;&emsp;早上7点早早起来，一量38.5度，也听到了我爸的咳嗽声，多半也🐑了。虽然整天都是38.5度，但白天并没感觉发冷，到了晚上，冷到两层被子裹四层睡。并且晚上开始有了咳嗽，一咳整个脑袋要裂开。显然，这一晚又没睡好。</p>\n<hr>\n<h1 id=\"2022-12-28\"><a href=\"#2022-12-28\" class=\"headerlink\" title=\"2022-12-28\"></a>2022-12-28</h1><p>&emsp;&emsp;整天体温37.5，第两天半也该降温了，但各种新症状也来了，一咳嗽肚子到胸口处就酸痛，导致咳到一半总无力，开始有了黄绿色浓痰、鼻涕。味觉倒还在，就是没啥食欲，耳朵感觉被堵住一样，听力和低频声音分别有明显下降。</p>\n<p>&emsp;&emsp;这天，我妈也阳了，症状都差不多，第一天38.5度。</p>\n<hr>\n<h1 id=\"2022-12-29\"><a href=\"#2022-12-29\" class=\"headerlink\" title=\"2022-12-29\"></a>2022-12-29</h1><p>&emsp;&emsp;整天37.3，降温聊胜于无，在前几天症状的叠加延续下，这天也是感觉特别地累，腰酸背痛，精神不振。下午测了下抗原，果然两道扛。</p>\n<p><img src=https://cdn.chuckle.top/images/33-1.webp width=\"60%\" height=\"60%\"></p>\n<p>&emsp;&emsp;家里其他人也阳了。我好了一些，下楼去买些食物和药品，跑了四家规模还算大的药店，体温计、小柴胡、抗病毒口服液啥都没有。去超市提了9.8一斤的雪梨润润喉，30块钱四个真滴贵。</p>\n<hr>\n<h1 id=\"2022-12-30\"><a href=\"#2022-12-30\" class=\"headerlink\" title=\"2022-12-30\"></a>2022-12-30</h1><p>&emsp;&emsp;凌晨睡觉出现了明显的耳鸣，感觉远处有上万只苍蝇在飞。</p>\n<p>&emsp;&emsp;白天精神好了些，体温在36.9度，低频听力回来了一些，不多，但有用，咳嗽稍微没这么频繁了，但一咳还是头疼难受，鼻涕流得更多了。</p>\n<hr>\n<h1 id=\"2022-12-31\"><a href=\"#2022-12-31\" class=\"headerlink\" title=\"2022-12-31\"></a>2022-12-31</h1><p>&emsp;&emsp;往后就是漫长的后遗症了，咳嗽和感觉乏力，注意力下降，精神状态不好。</p>\n<hr>\n<h1 id=\"2023-01-11\"><a href=\"#2023-01-11\" class=\"headerlink\" title=\"2023-01-11\"></a>2023-01-11</h1><p>&emsp;&emsp;总算不咳嗽了，算是阳康了，至于累嘛，也许是干家务加熬夜的锅。</p>\n<hr>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;比受冻感冒、季节性流感难受多了。没咋吃西药，含完了一盒金嗓子，没买到喉风散只好喷西瓜霜，泡了柠檬红枣水喝，还有一些老人家的秘方汤。</p>\n<p>&emsp;&emsp;<strong>一个链接：</strong><a href=\"https://mbd.baidu.com/newspage/data/landingsuper?isBdboxFrom=1&amp;pageType=1&amp;urlext=%7B%22cuid%22%3A%22YiHGuguCSu_6aB8RjavRigaC2i0Nu2fQ_u2lflu2vu_Iav8C_aHC8lf51O5FiHPy9M1mA%22%7D&amp;context=%7B%22nid%22%3A%22news_9139130449349147433%22%7D\">上海新冠疫情大样本数据研究</a></p>\n<p>&emsp;&emsp;<strong>一些图片：</strong></p>\n<div class=\"fj-gallery\"><p><img src=\"https://cdn.chuckle.top/images/33-2.webp\" alt=\"\"><br><img src=\"https://cdn.chuckle.top/images/33-3.webp\" alt=\"\"><br><img src=\"https://cdn.chuckle.top/images/33-4.webp\" alt=\"\"><br><img src=\"https://cdn.chuckle.top/images/33-5.webp\" alt=\"\"><br><img src=\"https://cdn.chuckle.top/images/33-6.webp\" alt=\"\"></p>\n          </div>\n<hr>\n","categories":["其它"],"tags":["新冠","疫情"]},{"title":"前后端交互初步概念","url":"/article/709b5ecb.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;前后端交互本来是一个简单明了的概念，发请求与响应以及所用到的技术，但如百度等搜索结果大部分都抛出一堆菜鸟如我看不懂的概念与操作，上来就是用vue，或者新建一个MVC项目，实在不友好。<br>&emsp;&emsp;本文旨在建立一个初步的、以前端为视角的前后端交互概念。</p>\n<hr>\n<h1 id=\"为什么要前后端交互\"><a href=\"#为什么要前后端交互\" class=\"headerlink\" title=\"为什么要前后端交互\"></a>为什么要前后端交互</h1><p>&emsp;&emsp;以前的网页，用户在浏览器输入链接访问后，服务器一顿操作，渲染出页面扔给浏览器显示。而当页面内某段话，某个数字需要变，服务器又得重新渲染整个网页。<br>&emsp;&emsp;这很麻烦，像PHP、JSP，代码写在HTML中,也就是前后端不分离的表现。下面就是一个JSP的表格。<br><figure class=\"highlight jsp\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;tbody class=<span class=\"string\">&quot;book-body&quot;</span>&gt;</span><br><span class=\"line\">\t&lt;c:forEach items=<span class=\"string\">&quot;$&#123;bookList&#125;&quot;</span> <span class=\"keyword\">var</span>=<span class=\"string\">&quot;book&quot;</span>&gt;</span><br><span class=\"line\">\t\t&lt;tr class=<span class=\"string\">&quot;book-tr&quot;</span>&gt;</span><br><span class=\"line\">\t\t\t&lt;td&gt;$&#123;book.bId&#125;&lt;/td&gt;</span><br><span class=\"line\">\t\t\t&lt;td&gt;$&#123;book.bName&#125;&lt;/td&gt;</span><br><span class=\"line\">\t\t\t&lt;td&gt;$&#123;book.auName&#125;&lt;/td&gt;</span><br><span class=\"line\">\t\t\t&lt;td&gt;$&#123;book.bType&#125;&lt;/td&gt;</span><br><span class=\"line\">\t\t\t&lt;td&gt;$&#123;book.bPress&#125;&lt;/td&gt;</span><br><span class=\"line\">\t\t&lt;/tr&gt;</span><br><span class=\"line\">\t&lt;/c:forEach&gt;</span><br><span class=\"line\">&lt;/tbody&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"表单\"><a href=\"#表单\" class=\"headerlink\" title=\"表单\"></a>表单</h2><p>&emsp;&emsp;在这个前后端不分离的时代，所谓前端实现单纯的登录操作JS都不用写。弄个表单，点击表单内<code>type=&quot;submit&quot;</code>的按钮，就能对<code>action=&quot;doLogin&quot;</code>发起登录的<code>get</code>/<code>post</code>请求，然后再由服务器去处理，登录失败就渲染<code>$&#123;errorMsg&#125;</code>。<br><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">&quot;doLogin&quot;</span> <span class=\"attr\">method</span>=<span class=\"string\">&quot;get&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>用户名<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;userName&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;输入用户名/邮箱&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>密码<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;输入密码&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;submit&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn1&quot;</span>&gt;</span>登录<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;errorMsg&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;有时候需要触发事件而提交表单，比如删除操作，可以使用JQ伪造表单提交<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">btn.<span class=\"title function_\">bind</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> id = btn2.<span class=\"title function_\">parent</span>().<span class=\"title function_\">parent</span>().<span class=\"title function_\">children</span>(<span class=\"string\">&quot;td&quot;</span>).<span class=\"title function_\">get</span>(<span class=\"number\">0</span>).<span class=\"property\">innerHTML</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> form = $(<span class=\"string\">&quot;&lt;form method=&#x27;get&#x27;&gt;&lt;/form&gt;&quot;</span>);</span><br><span class=\"line\">\tform.<span class=\"title function_\">attr</span>(&#123; <span class=\"string\">&quot;action&quot;</span>: <span class=\"string\">&quot;/myBatisDemo/deleteBooksById&quot;</span> &#125;);</span><br><span class=\"line\">\tform.<span class=\"title function_\">append</span>($(<span class=\"string\">&quot;&lt;input type=&#x27;hidden&#x27;&gt;&quot;</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;name&quot;</span>, <span class=\"string\">&quot;bId&quot;</span>).<span class=\"title function_\">val</span>(id));</span><br><span class=\"line\">\t$(<span class=\"string\">&quot;body&quot;</span>).<span class=\"title function_\">append</span>($(form));</span><br><span class=\"line\">\tform.<span class=\"title function_\">submit</span>();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;面对越来越复杂的网页页面，以及无刷更新内容提升体验的需求，后端提供数据前端去使用成了主流，这也大大减轻了服务器的压力，随着Ajax的出现，JS可以使用json来与服务器进行数据交互，真正的前后端分离出现了。</p>\n<hr>\n<h1 id=\"前端如何与后端交互\"><a href=\"#前端如何与后端交互\" class=\"headerlink\" title=\"前端如何与后端交互\"></a>前端如何与后端交互</h1><p>&emsp;&emsp;和以前一样，后端会提供一个接口，就像是表单属性<code>action=&quot;/myBatisDemo/deleteBooksById&quot;</code>里的一样。JS本身没有网络通信能力，但使用浏览器提供的对象和方法，遵循一定的规范协议(<strong>http</strong>)，就可以通过这些接口与后端交互，也就是发请求和处理响应。<br>&emsp;&emsp;后端响应后，拿到后端返回的内容(JSON)，我们可以判断密码是否正确，或者通过DOM操作改变网页内容等等。</p>\n<hr>\n<h2 id=\"Ajax\"><a href=\"#Ajax\" class=\"headerlink\" title=\"Ajax\"></a>Ajax</h2><p>&emsp;&emsp;<strong>Ajax</strong>是最早出现的向后端发送请求的技术，其核心是浏览器提供的<strong>XMLHttpRequest(xhr)</strong>对象。我们可以直接原生地使用它。<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//既然xhr是个对象，当然要先new再使用里面的方法</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> xhr = <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>();</span><br><span class=\"line\"><span class=\"comment\">//定义我们的请求，与一个url建立连接，true代表异步请求</span></span><br><span class=\"line\">xhr.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"string\">&#x27;/url&#x27;</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"><span class=\"comment\">//readyStated，它一共有五个值，当等于4时代表请求已完成</span></span><br><span class=\"line\"><span class=\"comment\">//readyStated的变化会触发onreadystatechange事件</span></span><br><span class=\"line\">xhr.<span class=\"property\">onreadystatechange</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//当readyState为4以及http状态码为200代表请求成功，响应已就绪</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">readyState</span> === <span class=\"number\">4</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">status</span>==<span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//对DOM的操作，比如替换个P标签的内容</span></span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">responseText</span>);<span class=\"comment\">//打印响应返回的文本</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//把请求发送一下</span></span><br><span class=\"line\"><span class=\"comment\">//因为没有请求体的所以为null</span></span><br><span class=\"line\">xhr.<span class=\"title function_\">send</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;利用Ajax进行前后端交互看起来非常简单，拿到响应后进行DOM操作即可，当然，在实际的开发中，很少写原生的Ajax，而是使用封装好的第三方库和框架，比如<strong>jQuery</strong>、<strong>axios</strong><br><figure class=\"highlight js\"><figcaption><span>使用jQuery封装好的Ajax</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"> $.<span class=\"title function_\">ajax</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//获取数据url地址</span></span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">&quot;/url&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//获取数据的方式</span></span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&quot;GET&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//获取数据类型</span></span><br><span class=\"line\">    <span class=\"attr\">dataType</span>: <span class=\"string\">&quot;JSON&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//接口所需参数</span></span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;<span class=\"string\">&quot;id&quot;</span>:<span class=\"number\">1</span>&#125;,</span><br><span class=\"line\">    <span class=\"attr\">beforeSend</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;发起请求之前在控制台打印&quot;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//请求数据成功调用的方法</span></span><br><span class=\"line\">    <span class=\"comment\">//传参data代表请求成功的数据</span></span><br><span class=\"line\">    <span class=\"attr\">success</span>:<span class=\"keyword\">function</span>(<span class=\"params\">data</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//请求失败</span></span><br><span class=\"line\">    <span class=\"attr\">error</span>: <span class=\"keyword\">function</span>(<span class=\"params\">err</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">    <span class=\"attr\">complete</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;请求完成时在控制台打印&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;可以看到，使用已经封装好的Ajax更加方便、简单。</p>\n<blockquote>\n<p>一个非常好的Ajax基础教程：<a href=\"https://zhuanlan.zhihu.com/p/474914790\">Ajax基础</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Fetch\"><a href=\"#Fetch\" class=\"headerlink\" title=\"Fetch\"></a>Fetch</h2><p>&emsp;&emsp;在<strong>ES6</strong>中，新增了一种HTTP数据请求的方式：<strong>Fetch</strong>。<br>&emsp;&emsp;不同于Ajax是一种技术，使用<strong>XMLHttpRequest</strong>去实现，Fetch从定义上本身就是一个真实存在的API，它使用了ES6提出的<strong>promise</strong>对象(链式处理解决回调地狱)。关于Ajax、Fetch区别，说法五花八门，还是以后再深入了解吧。也可先看此知乎问题的第二个回答<a href=\"https://www.zhihu.com/question/335786718\">fetch底层也是基于XMLHttpRequest吗</a></p>\n<p>&emsp;&emsp;如何使用Fetch发请求，以登录为例：<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;/login&#x27;</span>, &#123;</span><br><span class=\"line\">\t<span class=\"attr\">method</span>: <span class=\"string\">&quot;POST&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//请求的主体，转换为json对象</span></span><br><span class=\"line\">\t<span class=\"attr\">body</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123; <span class=\"attr\">username</span>: account.<span class=\"property\">value</span>, <span class=\"attr\">password</span>: password.<span class=\"property\">value</span> &#125;),</span><br><span class=\"line\">    <span class=\"comment\">//http头部的内容类型</span></span><br><span class=\"line\">\t<span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;Content-Type&quot;</span>: <span class=\"string\">&quot;application/json&quot;</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//判断响应是否成功</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (response.<span class=\"property\">ok</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//转换成js可操作的json数据并返回对象</span></span><br><span class=\"line\">\t    <span class=\"keyword\">return</span> response.<span class=\"title function_\">json</span>();</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t    <span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;QAQ出错啦&#x27;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//拿到json对象后进行处理</span></span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data);</span><br><span class=\"line\">    <span class=\"comment\">//这里的data是服务器返回的json</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"axios\"><a href=\"#axios\" class=\"headerlink\" title=\"axios\"></a>axios</h2><p>&emsp;&emsp;<a href=\"https://www.axios-http.cn/\">axios官方文档</a><br>&emsp;&emsp;Ajax只是一种技术，最开始单纯通过xhr去实现，而当<strong>promise</strong>出现后，出现了<strong>axios</strong>，它通过promise实现对ajax技术的一种封装，底层仍然是xhr，但支持了promise等一系列新功能与API。<br>&emsp;&emsp;与Ajax(xhr版)、Fetch不同的是，axios是第三方库，所以需要npm安装或者cdn引入后才可使用。</p>\n<p>&emsp;&emsp;简单的get：<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">axios.<span class=\"title function_\">get</span>(<span class=\"string\">&#x27;/url&#x27;</span>, &#123;</span><br><span class=\"line\">    <span class=\"attr\">params</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">username</span>: <span class=\"string\">&#x27;chuckle&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span> (<span class=\"params\">response</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(response);</span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"keyword\">function</span> (<span class=\"params\">error</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;简单的post:<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">axios.<span class=\"title function_\">post</span>(<span class=\"string\">&#x27;/url&#x27;</span>, &#123;</span><br><span class=\"line\">    <span class=\"attr\">username</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">password</span>: <span class=\"string\">&#x27;123456&#x27;</span></span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span> (<span class=\"params\">response</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(response);</span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"keyword\">function</span> (<span class=\"params\">error</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;相较于Ajax的老旧，Fetch的稚嫩，axios是目前最流行的网络请求库，vue、react都使用它，但如果简单发个请求获取个一言啥的，还是用fetch方便，毕竟能少引用一个库。</p>\n<hr>\n<h1 id=\"实战一下\"><a href=\"#实战一下\" class=\"headerlink\" title=\"实战一下\"></a>实战一下</h1><div id=\"get-example\"></div>\n\n<hr>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;本文只简单概述了下前后端交互(前端发请求)的概念与实现方式，让有可能需要的人建立一个初步的、以前端为视角的前后端交互概念，也就是Ajax、Fetch和axios的初步认识。具体的HTTP、ES6、JSON、Promise等等，再说，在学（。</p>\n<blockquote>\n<p>参考文章：<br><a href=\"https://zhuanlan.zhihu.com/p/366458405\">Ajax(XMLHTTPRequest)和Fetch的认识以及利用promise和ts实现一个Ajax</a><br><a href=\"https://www.cnblogs.com/bingcola/p/16499188.html\">简单通俗来讲ajax与axios的区别</a><br><a href=\"https://www.zhihu.com/question/335786718\">fetch底层也是基于XMLHttpRequest吗？</a><br><a href=\"https://www.jianshu.com/p/918c63045bc3\">XMLHttpRequest—必知必会</a><br><a href=\"https://zhuanlan.zhihu.com/p/474914790\">AJAX基础</a><br><a href=\"https://juejin.cn/post/7086325194934976519\">你知道Ajax、Fetch、Axios三者的区别吗</a></p>\n</blockquote>\n<hr>\n<script src=\"https://cdn.chuckle.top/js/mini-sandbox.min.js?2\"></script>\n<script src=\"https://cdn.chuckle.top/js/32.js?1\"></script>\n\n\n\n\n\n\n\n\n\n\n","categories":["学习笔记"],"tags":["前端"]},{"title":"BF添加输入页数跳转","url":"/article/8e0b4c43.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;以后文章多了页数也会多起来，bf没有输入页码跳转实在不方便，现在就加上这个功能好。</p>\n<p><img src=https://cdn.chuckle.top/images/34-2.webp width=\"65%\"></p>\n<hr>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;修改<code>\\layout\\includes\\pagination.pug</code>替换else后的源码，或者对应着修改。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  nav#pagination</span><br><span class=\"line\">    .<span class=\"property\">pagination</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> <span class=\"title function_\">is_home</span>()</span><br><span class=\"line\">        - options.<span class=\"property\">format</span> = <span class=\"string\">&#x27;page/%d/&#x27;</span></span><br><span class=\"line\">      !=<span class=\"title function_\">paginator</span>(options)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> <span class=\"title function_\">is_home</span>()</span><br><span class=\"line\">        input#<span class=\"title function_\">textnumer</span>(oninput=<span class=\"string\">&quot;value=value.replace(/[^0-9]/g,&#x27;&#x27;)&quot;</span> maxlength=<span class=\"string\">&quot;3&quot;</span> onkeyup=<span class=\"string\">&#x27;this.value=this.value.replace(/[^u4e00-u9fa5w]/g,&quot;&quot;)&#x27;</span>)</span><br><span class=\"line\">        a#<span class=\"title function_\">textbtn</span>(onclick=<span class=\"string\">&#x27;textbtn()&#x27;</span>) 跳转</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"title function_\">is_home</span>()</span><br><span class=\"line\">      .<span class=\"property\">js</span>-css</span><br><span class=\"line\">        script.</span><br><span class=\"line\">          <span class=\"keyword\">function</span> <span class=\"title function_\">textbtn</span>(<span class=\"params\"></span>)&#123;<span class=\"keyword\">var</span> e=<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&quot;.page-number&quot;</span>),t=e[e.<span class=\"property\">length</span>-<span class=\"number\">1</span>].<span class=\"property\">innerHTML</span>,n=<span class=\"title class_\">Number</span>(t),a=<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;textnumer&quot;</span>),o=<span class=\"title class_\">Number</span>(a.<span class=\"property\">value</span>);<span class=\"keyword\">if</span>(<span class=\"string\">&quot;&quot;</span>!=o&amp;&amp;!<span class=\"built_in\">isNaN</span>(o)&amp;&amp;o%<span class=\"number\">1</span>==<span class=\"number\">0</span>)<span class=\"keyword\">if</span>(<span class=\"number\">1</span>==o)<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;textbtn&quot;</span>).<span class=\"property\">href</span>=<span class=\"string\">&quot;/&quot;</span>;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(o&gt;n)&#123;<span class=\"keyword\">var</span> d=<span class=\"string\">&quot;/page/&quot;</span>+n+<span class=\"string\">&quot;/&quot;</span>;<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;textbtn&quot;</span>).<span class=\"property\">href</span>=d&#125;<span class=\"keyword\">else</span> d=<span class=\"string\">&quot;/page/&quot;</span>+a.<span class=\"property\">value</span>+<span class=\"string\">&quot;/&quot;</span>,<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;textbtn&quot;</span>).<span class=\"property\">href</span>=d&#125;</span><br><span class=\"line\">        style.</span><br><span class=\"line\">          #pagination .<span class=\"property\">pagination</span> .<span class=\"property\">extend</span>&#123;<span class=\"attr\">display</span>: none!important&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;css的话，没有通用的，怎么好看怎么改。</p>\n<hr>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;暂无</p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"Ventoy多系统移动硬(U)盘","url":"/article/a41cefd.html","content":"<h1 id=\"认识Ventoy\"><a href=\"#认识Ventoy\" class=\"headerlink\" title=\"认识Ventoy\"></a>认识Ventoy</h1><p>&emsp;&emsp;Ventoy是一个制作可启动U盘的开源工具，可以直接启动iso等镜像、vhd虚拟磁盘等等，支持大部分操作系统，同一个U盘可以同时支持Legacy BIOS、IA32、UEFI等模式。<br><div class=\"tag link\"><a class=\"link-card\" title=\"Ventoy文档官网\" href=\"https://www.ventoy.net/cn/\"><div class=\"left\"><img src=\"/images/ventoy.webp\"/></div><div class=\"right\"><p class=\"text\">Ventoy文档官网</p><p class=\"url\">https://www.ventoy.net/cn/</p></div></a></div></p>\n<p><img src=https://cdn.chuckle.top/images/35-1.webp width=\"70%\"></p>\n<hr>\n<h1 id=\"安装Ventoy\"><a href=\"#安装Ventoy\" class=\"headerlink\" title=\"安装Ventoy\"></a>安装Ventoy</h1><p>&emsp;&emsp;普通U盘只适合运行pe镜像，运行win(vhd)或者linux需要4k性能较好的U盘，推荐使用移动硬盘。<br>&emsp;&emsp;我的移动硬盘：致钛5000+itgz(9210b)硬盘盒。<br>&emsp;&emsp;下载<a href=\"https://www.ventoy.net/cn/download.html\">Ventoy安装包</a>，运行<strong>Ventoy2Disk.exe</strong>，选择移动硬盘(U)盘，配置选项中选择分区类型MBR或GPT，默认为MBR，点击安装，等待几分钟即可。</p>\n<p><img src=/images/35-2.webp width=\"50%\"></p>\n<p>&emsp;&emsp;安装完成后，移动硬盘(U)盘会被分成两个区，VENTOY隐藏分区和ventoy分区，ventoy分区可正常存储文件，<strong>接下来的操作无特殊说明都在此分区</strong>。<br>&emsp;&emsp;将ventoy分区格式化为<strong>NTFS</strong>格式(默认为exFAT)</p>\n<hr>\n<h1 id=\"配置Ventoy\"><a href=\"#配置Ventoy\" class=\"headerlink\" title=\"配置Ventoy\"></a>配置Ventoy</h1><p>&emsp;&emsp;在根目录新建ventoy文件夹，在该文件夹内新建<strong>images</strong>文件夹、<strong>ventoy.json</strong>，打开ventoy.json填入以下配置。具体介绍在此处查看<a href=\"https://www.ventoy.net/cn/plugin_control.html\">Ventoy 全局控制插件</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;control&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;VTOY_HELP_TXT_LANGUAGE&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;zh_CN&quot;</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;VTOY_MENU_LANGUAGE&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;zh_CN&quot;</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;VTOY_MAX_SEARCH_LEVEL&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;max&quot;</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;VTOY_DEFAULT_SEARCH_ROOT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/ventoy/images&quot;</span> <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"配置安全启动\"><a href=\"#配置安全启动\" class=\"headerlink\" title=\"配置安全启动\"></a>配置安全启动</h1><p>&emsp;&emsp;windows默认开启Secure Boot(安全启动【垄断启动】)，Ventoy1.0.07版本开始支持Secure Boot，但需要手动配置KEY，或者进bios关闭Secure Boot才能使用Ventoy。<br>&emsp;&emsp;如已关闭Secure Boot，跳过下面步骤。</p>\n<p>&emsp;&emsp;启动电脑，按F9(不同电脑进入按键不同)进入引导设置，选择安装了Ventoy的移动硬(U)盘，进入一个ERROR界面，按照文档<a href=\"https://www.ventoy.net/cn/doc_secure.html\">UEFI模式安全启动操作说明</a>，配置Enroll Key或Enroll Hash。</p>\n<p>&emsp;&emsp;配置好后会重启电脑，一般无需操作会正常回到电脑主系统。</p>\n<hr>\n<h1 id=\"运行PE\"><a href=\"#运行PE\" class=\"headerlink\" title=\"运行PE\"></a>运行PE</h1><p>&emsp;&emsp;ventoy运行pe非常简单，下载或生成好PE的iso镜像，放入/ventoy/images内即可。<br>&emsp;&emsp;重启电脑，按F9(不同电脑进入按键不同)进入引导设置，选择安装了Ventoy的移动硬(U)盘，进入ventoy界面，选择pe的iso镜像即可进入pe系统</p>\n<p>&emsp;&emsp;推荐pe：<a href=\"https://www.wepe.com.cn/\">微pe</a>、<a href=\"http://www.firpe.cn/\">firpe</a>、<a href=\"https://hikaricalyx.com/\">Hikari PE</a></p>\n<hr>\n<h1 id=\"运行windows-vhd\"><a href=\"#运行windows-vhd\" class=\"headerlink\" title=\"运行windows(vhd)\"></a>运行windows(vhd)</h1><p>&emsp;&emsp;准备好一个windows镜像。<br>&emsp;&emsp;在ventoy中挂载运行vhd(x)虚拟磁盘可以和正常系统一样升级系统、安装驱动、安装软件等等，能保存对系统的修改和操作。所以推荐使用vhd运行windows。如果使用iso则与pe操作一样。</p>\n<p>&emsp;&emsp;下载<a href=\"https://www.virtualbox.org/wiki/Downloads\">Oracle VM VirtualBox</a>，6.1版本即可。运行软件，点击新建(虚拟机)。</p>\n<p><img src=https://cdn.chuckle.top/images/35-3.webp width=\"75%\"></p>\n<p>&emsp;&emsp;进入专家模式，名称任意，文件夹选择<strong>移动硬盘里的</strong>任意一个文件夹(新建)，选择镜像对应的win版本，点击创建。</p>\n<p><img src=https://cdn.chuckle.top/images/35-4.webp width=\"60%\"></p>\n<p>&emsp;&emsp;文件大小50g以上，即系统C盘大小。虚拟硬盘文件类型选vhd，动态大小。</p>\n<p><img src=https://cdn.chuckle.top/images/35-5.webp width=\"60%\"></p>\n<p>&emsp;&emsp;选择虚拟光盘，进入后点击注册，选择windows的iso镜像。</p>\n<p><img src=https://cdn.chuckle.top/images/35-6.webp width=\"75%\"></p>\n<p>&emsp;&emsp;选择好镜像后，点击启动虚拟机。</p>\n<p><img src=https://cdn.chuckle.top/images/35-7.webp width=\"75%\"></p>\n<p>&emsp;&emsp;进入安装引导界面，一直下一步，选择创建好的虚拟硬盘继续下一步。</p>\n<p><img src=https://cdn.chuckle.top/images/35-8.webp width=\"70%\"></p>\n<p>&emsp;&emsp;等待系统安装完成，移除iso镜像，即可正常启动系统，务必在虚拟机中启动一次系统，进入桌面，否则虚拟硬盘无法给ventoy使用。</p>\n<p>&emsp;&emsp;关闭虚拟机，在硬盘中找到vhd文件，移动进/ventoy/images文件夹。</p>\n<p><img src=https://cdn.chuckle.top/images/35-9.webp width=\"40%\"></p>\n<p>&emsp;&emsp;重启电脑，在ventoy中选择此vhd即可启动winodws。</p>\n<hr>\n<h1 id=\"运行Linux\"><a href=\"#运行Linux\" class=\"headerlink\" title=\"运行Linux\"></a>运行Linux</h1><hr>\n<h1 id=\"测试ventoy\"><a href=\"#测试ventoy\" class=\"headerlink\" title=\"测试ventoy\"></a>测试ventoy</h1><p>&emsp;&emsp;修改了配置或者镜像，想测试一下，无需每次都重启电脑进入ventoy，可以使用VMware Workstation创建本地磁盘虚拟机。</p>\n<p><img src=https://cdn.chuckle.top/images/35-10.webp width=\"80%\"></p>\n<hr>\n<h1 id=\"配置主题\"><a href=\"#配置主题\" class=\"headerlink\" title=\"配置主题\"></a>配置主题</h1><hr>\n<h1 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h1><ol>\n<li>虚拟硬盘创建的大小不要超过母盘。</li>\n</ol>\n<hr>\n","categories":["教程"],"tags":["教程","Ventoy"]},{"title":"给文章添加自定义文本锚点","url":"/article/6f237a88.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;起因是群里有人提出，搜索关键词后只能跳转到对应文章，而不能自动再跳转至关键词处，当然，本文不是实现这个(实际上已经实现了)，这给了我一个想法，为啥不弄个文本锚点呢，把选中的文本都保存起来，点击就滚动页面过去，这是一个不错的主意。</p>\n<p>&emsp;&emsp;<strong>功能：</strong>选中页面文字保存锚点，点击锚点，页面滚动到对应文本处并背景高亮，当一个锚点对应多处文本时，多次点击锚点，页面能循环地逐个滚动到对应位置。</p>\n<p>&emsp;&emsp;<strong>效果：</strong></p>\n<p><img src=https://cdn.chuckle.top/images/36-2.gif width=\"88%\"></p>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;首先是右侧悬浮栏的锚点按钮和容器，修改<code>\\layout\\includes\\rightside.pug</code>,对应着原有缩进添加。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">when <span class=\"string\">&#x27;anchor&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"title function_\">is_post</span>()</span><br><span class=\"line\">        button#post-anchor</span><br><span class=\"line\">            i.<span class=\"property\">fas</span>.<span class=\"property\">fa</span>-book</span><br><span class=\"line\">            #post-anchor-after</span><br><span class=\"line\">            #post-anchor-rom</span><br><span class=\"line\">              #post-anchor-box</span><br><span class=\"line\">                #no-anchor 没有锚点</span><br><span class=\"line\">                script.</span><br><span class=\"line\">                  <span class=\"keyword\">var</span> anchor_back = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                  <span class=\"keyword\">var</span> anchor_length = <span class=\"number\">0</span>;</span><br><span class=\"line\">                  <span class=\"keyword\">var</span> anchor_node = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                  <span class=\"keyword\">function</span> <span class=\"title function_\">toAnchor</span>(<span class=\"params\">obj</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> anchor = $(obj).<span class=\"title function_\">text</span>();</span><br><span class=\"line\">                    $(<span class=\"string\">&quot;anchorbox&quot;</span>).<span class=\"title function_\">parent</span>().<span class=\"title function_\">each</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; </span><br><span class=\"line\">                      $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">html</span>($(<span class=\"variable language_\">this</span>).<span class=\"title function_\">html</span>().<span class=\"title function_\">replace</span>(<span class=\"regexp\">/(&lt;\\/?anchorbox.*?&gt;)/g</span>,<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\">                    &#125;) </span><br><span class=\"line\">                    </span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(anchor_back == anchor)&#123;</span><br><span class=\"line\">                      i++;</span><br><span class=\"line\">                      <span class=\"keyword\">if</span>(i&gt;=anchor_length)&#123;</span><br><span class=\"line\">                        i = <span class=\"number\">0</span>;</span><br><span class=\"line\">                      &#125;</span><br><span class=\"line\">                    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                      i = <span class=\"number\">0</span>;</span><br><span class=\"line\">                      anchor_back = anchor;</span><br><span class=\"line\">                      anchor_node = $(<span class=\"string\">&#x27;#article-container *:contains(&#x27;</span>+anchor+<span class=\"string\">&#x27;)&#x27;</span>).<span class=\"title function_\">not</span>(<span class=\"string\">&quot;.highlight *,.mini-sandbox *,.tag.link *,.folding-tag *&quot;</span>);</span><br><span class=\"line\">                      anchor_length = anchor_node.<span class=\"property\">length</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(anchor_length&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                      btf.<span class=\"title function_\">snackbarShow</span>(<span class=\"string\">&quot;该锚点对应有 &quot;</span>+anchor_length+<span class=\"string\">&quot; 处文本,当前：&quot;</span>+(i+<span class=\"number\">1</span>));</span><br><span class=\"line\">                      btf.<span class=\"title function_\">scrollToDest</span>(anchor_node.<span class=\"title function_\">eq</span>(i).<span class=\"title function_\">offset</span>().<span class=\"property\">top</span>-<span class=\"number\">200</span>);</span><br><span class=\"line\">                    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                      btf.<span class=\"title function_\">snackbarShow</span>(<span class=\"string\">&quot;文章内没有对应文本或出现致命错误，请避免选中跨标签跨行文本。&quot;</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> input = anchor;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> textNodes = [];</span><br><span class=\"line\">                    (<span class=\"keyword\">function</span> <span class=\"title function_\">getTextNodes</span>(<span class=\"params\">node</span>) &#123;</span><br><span class=\"line\">                      <span class=\"keyword\">if</span> (node.<span class=\"property\">nodeType</span> === <span class=\"title class_\">Node</span>.<span class=\"property\">TEXT_NODE</span>) &#123;</span><br><span class=\"line\">                        textNodes.<span class=\"title function_\">push</span>(node);</span><br><span class=\"line\">                      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; node.<span class=\"property\">childNodes</span>.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">                          <span class=\"title function_\">getTextNodes</span>(node.<span class=\"property\">childNodes</span>[i]);</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                      &#125;</span><br><span class=\"line\">                    &#125;)(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;article-container&quot;</span>));</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; textNodes.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">                      <span class=\"keyword\">let</span> node = textNodes[i];</span><br><span class=\"line\">                      <span class=\"keyword\">let</span> text = node.<span class=\"property\">nodeValue</span>;</span><br><span class=\"line\">                      <span class=\"keyword\">let</span> index = text.<span class=\"title function_\">indexOf</span>(input);</span><br><span class=\"line\">                      <span class=\"keyword\">if</span> (index !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">let</span> newNode = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;anchorbox&quot;</span>);</span><br><span class=\"line\">                        newNode.<span class=\"title function_\">appendChild</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">createTextNode</span>(text.<span class=\"title function_\">substring</span>(index, index + input.<span class=\"property\">length</span>)));</span><br><span class=\"line\">                        node.<span class=\"property\">nodeValue</span> = text.<span class=\"title function_\">substring</span>(<span class=\"number\">0</span>, index);</span><br><span class=\"line\">                        node.<span class=\"property\">parentNode</span>.<span class=\"title function_\">insertBefore</span>(newNode, node.<span class=\"property\">nextSibling</span>);</span><br><span class=\"line\">                        node.<span class=\"property\">parentNode</span>.<span class=\"title function_\">insertBefore</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">createTextNode</span>(text.<span class=\"title function_\">substring</span>(index + input.<span class=\"property\">length</span>)), newNode.<span class=\"property\">nextSibling</span>);</span><br><span class=\"line\">                      &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">…………</span><br><span class=\"line\"></span><br><span class=\"line\">#rightside</span><br><span class=\"line\">  - <span class=\"keyword\">const</span> &#123; enable, hide, show &#125; = theme.<span class=\"property\">rightside_item_order</span></span><br><span class=\"line\">  - <span class=\"keyword\">const</span> hideArray = enable ? hide &amp;&amp; hide.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>) : [<span class=\"string\">&#x27;refresh&#x27;</span>,<span class=\"string\">&#x27;translate&#x27;</span>,<span class=\"string\">&#x27;enlargePage&#x27;</span>,<span class=\"string\">&#x27;narrowPage&#x27;</span>,<span class=\"string\">&#x27;bg&#x27;</span>,<span class=\"string\">&#x27;darkmode&#x27;</span>,<span class=\"string\">&#x27;hideAside&#x27;</span>]</span><br><span class=\"line\">  <span class=\"comment\">//在下面添加个&#x27;anchor&#x27;</span></span><br><span class=\"line\">  - <span class=\"keyword\">const</span> showArray = enable ? show &amp;&amp; show.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>) : [<span class=\"string\">&#x27;toc&#x27;</span>,<span class=\"string\">&#x27;anchor&#x27;</span>,<span class=\"string\">&#x27;chat&#x27;</span>,<span class=\"string\">&#x27;comment&#x27;</span>, <span class=\"string\">&#x27;share&#x27;</span>]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;然后是右键选中文字添加锚点按钮<code>rightside.pug</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">a.<span class=\"property\">rightMenu</span>-<span class=\"title function_\">item</span>(href=<span class=\"string\">&quot;javascript:addAnchor();&quot;</span>)</span><br><span class=\"line\">    script.</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"title function_\">addAnchor</span> () &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>($(<span class=\"string\">&quot;#no-anchor&quot;</span>).<span class=\"property\">length</span> &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                $(<span class=\"string\">&quot;#no-anchor&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> txt = <span class=\"variable language_\">window</span>.<span class=\"title function_\">getSelection</span>().<span class=\"title function_\">toString</span>();</span><br><span class=\"line\">            txt = txt.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/&lt;[^&gt;]*&gt;/g</span>, <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">            $(<span class=\"string\">&quot;#post-anchor-box&quot;</span>).<span class=\"title function_\">prepend</span>(<span class=\"string\">&#x27;&lt;a class=&quot;anchor-item&quot; href=&quot;javascript:void(0);&quot; onclick=&quot;toAnchor(this)&quot; data-pjax-state=&quot;&quot;&gt;&#x27;</span>+txt+<span class=\"string\">&#x27;&lt;/a&gt;&#x27;</span>);</span><br><span class=\"line\">            btf.<span class=\"title function_\">snackbarShow</span>(<span class=\"string\">&quot;成功添加一个文本锚点&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    i.<span class=\"property\">fa</span>.<span class=\"property\">fa</span>-book</span><br><span class=\"line\">    span=<span class=\"string\">&#x27;添加锚点&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;当然没有右键就把js拿去，监听下选中文字后弹出个按钮触发一下<code>addAnchor()</code>就行。右键教程可看<a href=\"https://blog.dorakika.cn/p/20220118.html\">自定义右键菜单</a></p>\n<p>&emsp;&emsp;添加CSS：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#post-anchor</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">10</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor-rom</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: auto;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: -<span class=\"number\">241px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"built_in\">var</span>(--anchor-border);</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: all .<span class=\"number\">27s</span>;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">380px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">240px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">9</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor-box</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>:flex;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">380px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: nowrap;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: column;</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: flex-start;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor-after</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: transparent;</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">380px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor-box</span> <span class=\"selector-tag\">a</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">rgb</span>(<span class=\"number\">8</span>, <span class=\"number\">148</span>, <span class=\"number\">235</span>);</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">800</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-id\">#post-anchor-rom</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">70px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: all .<span class=\"number\">25s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-id\">#post-anchor-after</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>:block;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#article-container</span> anchorbox&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: black<span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">800</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">253</span> <span class=\"number\">253</span> <span class=\"number\">20</span> / <span class=\"number\">70%</span>)<span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">a</span><span class=\"selector-class\">.anchor-item</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">17px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">a</span><span class=\"selector-class\">.anchor-item</span><span class=\"selector-pseudo\">:hover</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#16b2ef</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#no-anchor</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">140</span>, <span class=\"number\">140</span>, <span class=\"number\">140</span>);</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">30px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">375px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0.8</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-id\">#post-anchor-box</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-id\">#article-container</span> anchor&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>:<span class=\"number\">768px</span>)&#123;</span><br><span class=\"line\">    <span class=\"selector-id\">#rightside</span> <span class=\"selector-id\">#post-anchor</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none<span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;因为是文章页才用到的JS，不是全局的，量也不多，就直接写在pug里了，还能避免pjax的适配问题。</p>\n<p>&emsp;&emsp;已知BUG：选中锚点跨标签的话，可以跳转，但是没法套标签使背景高亮，这就emm有点烦。当选中的文本只包含半个右半边英文括号时，锚点会无法跳转和高亮，原因未知。</p>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"页面链接二维码(扫一扫)卡片","url":"/article/59995f0e.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;<a href=\"https://blog.zhheo.com/\">@Heo</a>博客的侧边栏有个可以hover旋转的公众号二维码卡片，我很想抄过来，冻手！</p>\n<p><img src=https://cdn.chuckle.top/images/37-2.webp width=\"60%\"></p>\n<p>&emsp;&emsp;但Heo是直接放了个ps改好的图，我没有公众号，打算放博客链接的二维码，把图片p个二维码就用不上，自己做个图又嫌麻烦（弱弱的ps技术），还是用div+css去实现吧。</p>\n<p><img src=https://cdn.chuckle.top/images/37-3.webp width=\"60%\"></p>\n<p>&emsp;&emsp;<strong>效果：</strong>因为不是图片，所以二维码可以根据页面的链接动态生成。</p>\n<p><img src=https://cdn.chuckle.top/images/37-4.gif width=\"40%\"></p>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;新建<code>\\layout\\includes\\widget\\card_tuijian.pug</code>，放入以下内容。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.card-widget#card-tuijian</span><br><span class=\"line\">    #tj-box</span><br><span class=\"line\">        #tj-box1</span><br><span class=\"line\">            #tj-left</span><br><span class=\"line\">                &lt;p&gt;扫一扫&lt;/p&gt;</span><br><span class=\"line\">                &lt;span&gt;快速打开移动端➤&lt;/span&gt;</span><br><span class=\"line\">            #tj-right</span><br><span class=\"line\">                #tj-img-box</span><br><span class=\"line\">                    if is_home()</span><br><span class=\"line\">                        img(src=qrcode(full_url_for(page.current_url),&#123;margin:4&#125;))</span><br><span class=\"line\">                    else</span><br><span class=\"line\">                        img(src=qrcode(full_url_for(page.path),&#123;margin:4&#125;))</span><br><span class=\"line\">                        </span><br><span class=\"line\">        #tj-box2</span><br><span class=\"line\">            #tj-left</span><br><span class=\"line\">                &lt;p&gt;扫一扫&lt;/p&gt;</span><br><span class=\"line\">                &lt;span&gt;下载移动端APP➤&lt;/span&gt;</span><br><span class=\"line\">            #tj-right</span><br><span class=\"line\">                #tj-img-box</span><br><span class=\"line\">                    img(src=qrcode(&quot;https://cdn.chuckle.top/blog/app/chuckle.apk&quot;,&#123;margin:4&#125;))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;安装二维码生成插件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i -S hexo-helper-qrcode</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;修改<code>\\layout\\includes\\widget\\index.pug</code>,在合适位置加入。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">!=partial(&#x27;includes/widget/card_tuijian&#x27;, &#123;&#125;, &#123;cache: false&#125;)</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;CSS：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span><span class=\"selector-id\">#card-tuijian</span><span class=\"selector-id\">#card-tuijian</span><span class=\"selector-id\">#card-tuijian</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">linear-gradient</span>(to right, <span class=\"number\">#35bb99db</span>, <span class=\"number\">#2dbcc4db</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">15px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">118px</span>;</span><br><span class=\"line\">    -moz-user-select: none;</span><br><span class=\"line\">    -khtml-user-select: none;</span><br><span class=\"line\">    user-select: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-box</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform-style</span>: preserve-<span class=\"number\">3</span>d;</span><br><span class=\"line\">    <span class=\"attribute\">transform-style</span>: preserve-<span class=\"number\">3</span>d;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: <span class=\"built_in\">cubic-bezier</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1.29</span>) <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-box2</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotateY</span>(<span class=\"number\">180deg</span>);</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotateY</span>(<span class=\"number\">180deg</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-box1</span>,</span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-box2</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: nowrap;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">backface-visibility</span>: hidden;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">backface-visibility</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-img-box</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">85px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-img-box</span> <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">85px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">filter</span>: <span class=\"built_in\">brightness</span>(<span class=\"number\">0.95</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-left</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">85px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-left</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-family</span>: monospace, Arial;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">32px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: normal;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">800</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>);</span><br><span class=\"line\">    <span class=\"attribute\">text-shadow</span>: -<span class=\"number\">0.5px</span> <span class=\"number\">0.5px</span> <span class=\"number\">0</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>), <span class=\"number\">0.5px</span> <span class=\"number\">0.5px</span> <span class=\"number\">0</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>), <span class=\"number\">0.5px</span> -<span class=\"number\">0.5px</span> <span class=\"number\">0</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>), -<span class=\"number\">0.5px</span> -<span class=\"number\">0.5px</span> <span class=\"number\">0</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span> <span class=\"selector-id\">#tj-left</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">800</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#card-tuijian</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-id\">#tj-box</span> &#123;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotateY</span>(<span class=\"number\">180deg</span>);</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotateY</span>(<span class=\"number\">180deg</span>);</span><br><span class=\"line\">    <span class=\"attribute\">backface-visibility</span>: hidden;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">backface-visibility</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;2023-2-22：修改CSS，修复火狐浏览器下未能正确隐藏背面元素的bug</p>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"体验ChatGPT 不仅是搜索的革命","url":"/article/b19faa1c.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;<strong>本文由ChatGPT辅助编写文案</strong></p>\n<p>&emsp;&emsp;最近ChatGPT热度火爆，见多了小爱同学和siri，但哪见过这种ai，于是我也注册了个账号开始体验。</p>\n<p>&emsp;&emsp;ChatGPT的强大不仅在于它搜索答案的能力，而是它背后的模型分析问题的能力，它的回答不一定对，但它对于并不抽象的问题的分析与理解，已经与人无异了。</p>\n<hr>\n<h1 id=\"什么是ChatGPT\"><a href=\"#什么是ChatGPT\" class=\"headerlink\" title=\"什么是ChatGPT\"></a>什么是ChatGPT</h1><p>&emsp;&emsp;什么是ChatGPT：ChatGPT是由OpenAI训练的大型语言模型，用于自然语言处理任务，如对话生成、文本摘要、机器翻译等。它是目前最先进的对话生成模型之一，可以根据给定的文本提示生成连贯、有逻辑的回复。</p>\n<p>&emsp;&emsp;所用到的技术：ChatGPT是一种基于自然语言处理（NLP）技术的对话生成模型，它使用了深度学习中的变压器（Transformer）网络结构，并通过对大量文本数据的预训练来学习语言模型。下面是一些ChatGPT使用的技术和方法：</p>\n<ol>\n<li>变压器网络结构：变压器是一种序列到序列（seq2seq）模型，能够处理变长的输入和输出序列，适用于自然语言处理任务。ChatGPT使用了包含多个编码器和解码器的变压器结构，通过编码用户输入的文本并解码生成回复。</li>\n<li>预训练：ChatGPT使用了大量的文本数据进行预训练，学习了语言模型中的单词嵌入、语法结构、上下文信息等。这些预训练模型可以被微调到特定的对话生成任务中，从而提高模型的表现。</li>\n<li>无监督学习：ChatGPT是一种无监督学习模型，不需要人工标注数据就可以学习对话生成任务。它可以从大量的未标注文本数据中自动学习上下文信息、语言模式和语法结构，从而生成连贯的对话回复。</li>\n<li>控制生成：ChatGPT可以通过添加特定的控制信息来控制对话的生成，例如指定回复的情感、主题或风格。这可以通过在输入中添加相应的标记或特定的控制向量来实现。</li>\n</ol>\n<p>&emsp;&emsp;总之，ChatGPT是一种基于深度学习和自然语言处理技术的先进对话生成模型，具有高度的可扩展性和灵活性，可以用于多种对话生成场景。</p>\n<hr>\n<h1 id=\"搜索答案的能力\"><a href=\"#搜索答案的能力\" class=\"headerlink\" title=\"搜索答案的能力\"></a>搜索答案的能力</h1><p>&emsp;&emsp;向ChatGPT问21年之前信息的问题，它几乎都能回答，但其回答并不一定对。下面是一些例子。</p>\n<p>&emsp;&emsp;先来点医学方面的，连花清瘟对于治疗新冠有效果吗?并列举相关的研究论文。</p>\n<p><img src=https://cdn.chuckle.top/images/38-2.webp width=\"100%\"></p>\n<p>&emsp;&emsp;再来点物理方面的，就问问它宇宙微波背景辐射吧。</p>\n<p><img src=https://cdn.chuckle.top/images/38-3.webp width=\"100%\"></p>\n<p>&emsp;&emsp;最后问几个关于鸿蒙系统的问题。</p>\n<p><img src=https://cdn.chuckle.top/images/38-4.webp width=\"100%\"></p>\n<p>&emsp;&emsp;这些问题可以看出ChatGPT对于搜索内容的整合，语言再组织能力非常强，条理清晰，结合上文回答问题也非常自然，可以理解“它”对于事物的指代，问题没有主语时也能根据前文的主语来回答后文的问题，当有它无法回答的问题时也能给出合理的建议。</p>\n<hr>\n<h1 id=\"编写程序的能力\"><a href=\"#编写程序的能力\" class=\"headerlink\" title=\"编写程序的能力\"></a>编写程序的能力</h1><p>&emsp;&emsp;ChatGPT是一个自然语言处理模型，如果你需要让ChatGPT辅助你编写代码，可以通过以下几种方式：</p>\n<ol>\n<li>与 ChatGPT 进行对话：你可以与 ChatGPT 进行对话，让它为你提供编码建议或解决编程问题的思路。</li>\n<li>利用 ChatGPT 生成代码：你可以向 ChatGPT 提供关于你需要实现的功能或任务的自然语言描述，让 ChatGPT 帮你生成对应的代码。</li>\n<li>利用 ChatGPT 进行代码搜索：你可以向 ChatGPT 提供一些关键字或问题描述，让它搜索互联网上的代码资源，并为你提供相关的代码片段或链接。</li>\n<li>需要注意的是，虽然 ChatGPT 可以提供辅助，但它并不是一个完全的编程工具，它不能替代人类程序员的职责和责任，仍然需要开发人员自己进行实际的编程工作和质量控制。</li>\n</ol>\n<p>&emsp;&emsp;让ChatGPT使用js写一个获取网页指定文本并高亮的程序，这看其来是可行的。因为问题的限定较少所以代码也较简单，可以加一些限定，比如需要一层层遍历html结构，比如必要的报错提示，跨标签时分段处理等等。</p>\n<p><img src=https://cdn.chuckle.top/images/38-12.webp width=\"70%\"></p>\n<p>&emsp;&emsp;运行测试</p>\n<p><img src=https://cdn.chuckle.top/images/38-13.webp width=\"100%\"></p>\n<p>&emsp;&emsp;ChatGPT有vscode插件，这个插件的模型对于编程支持度更好，速度也更快，且当你问其它话题时，还会催你聊编程相关的话题（</p>\n<p>&emsp;&emsp;安装插件后，选中任意代码片段，右键即可添加测试、让ChatGPT帮你找BUG、让ChatGPT帮你优化代码等等。</p>\n<p><img src=https://cdn.chuckle.top/images/38-14.webp width=\"100%\"></p>\n<p>&emsp;&emsp;难以想象这是一个免费的服务，以后看不懂的代码就让ChatGPT解释一遍。让机械式、重复性高、通用性强的代码都交给ai做，</p>\n<hr>\n<h1 id=\"对于情景分析的能力——以俄亥俄化学事故为例\"><a href=\"#对于情景分析的能力——以俄亥俄化学事故为例\" class=\"headerlink\" title=\"对于情景分析的能力——以俄亥俄化学事故为例\"></a>对于情景分析的能力——以俄亥俄化学事故为例</h1><p>&emsp;&emsp;此次事故发生在2023年，而ChatGPT只学习到了2021年，通过设立它从来没有接触过的情景可以看到它的强大之处。</p>\n<p>&emsp;&emsp;设立和实际相符的大致情景：有一辆运载火车，有10节载有危险的有机物化学物品，其中5节载着液态氯乙烯大约320吨，剩下的车厢载着乙二醇单丁醚、异丁烯、丙烯酸异辛酯、丙烯酸丁酯，且还有适量的含苯或者含酚的阻聚剂，不幸的是这辆火车脱轨了，里面的剧毒化学物质都已发生泄露，而且还着火爆炸了，附近有水源已被火车上化学物质污染，露天的不完全燃烧已经持续了10天，接下来的1年内该地区和全球会发生什么？可能发生化学反应产生哪些物质？</p>\n<p><img src=https://cdn.chuckle.top/images/38-5.webp width=\"90%\"></p>\n<p>&emsp;&emsp;让ChatGPT说明可能产生的反应和产出的化学物质。</p>\n<p><img src=https://cdn.chuckle.top/images/38-6.webp width=\"90%\"></p>\n<p>&emsp;&emsp;回答不够详细，让ChatGPT详细地说明这些有机物之间发生相互作用和反应，可能产生的所有的有毒有害的物质。</p>\n<p><img src=https://cdn.chuckle.top/images/38-7.webp width=\"90%\"></p>\n<p>&emsp;&emsp;再让ChatGPT定量地分析，产生的有毒有害物质可能的体积和质量。</p>\n<p><img src=https://cdn.chuckle.top/images/38-8.webp width=\"90%\"></p>\n<p>&emsp;&emsp;让ChatGPT分析此次事故可能造成的后果</p>\n<p><img src=https://cdn.chuckle.top/images/38-9.webp width=\"90%\"></p>\n<p>&emsp;&emsp;有些人提出扔氢弹销毁所有的有化学机物，实际上福岛事故俄罗斯好像也提出过扔核弹，于是我向ChatGPT询问解决事故的办法，并尝试诱导它分析扔氢弹是否是可行的方案。</p>\n<p><img src=https://cdn.chuckle.top/images/38-10.webp width=\"90%\"></p>\n<p>&emsp;&emsp;它拒绝使用氢弹，继续尝试诱导。</p>\n<p><img src=https://cdn.chuckle.top/images/38-11.webp width=\"90%\"></p>\n<p>&emsp;&emsp;拒绝使用氢弹，且分析得有道理，不知道是这个语言模型是有对于核武等关键词的额外处理，还是ai自己通过学习分析出来的。</p>\n<p>&emsp;&emsp;虽然一堆有机物混在一起鬼都不想算，但大多都是准确的，特别是对于反应可能产生的物质分析，不过后面的200吨二噁英过于理想和夸张了，有机反应产率不可能这么高，二噁英会产生，但就算是不完全燃烧也只占产物的一小部分，氯乙烯没长链要生成二噁英得靠自聚形成聚氯乙烯，但是长途运输肯定要添加阻塑剂不然运过去都废一半了。所以氯乙烯自己产生大量二噁英难度有点大，但是阻塑剂本身有大部分带苯环，这就又有了产生二噁英或者别的难降解有毒物质的概率。</p>\n<hr>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>&emsp;&emsp;ChatGPT训练集主要是英文，但它对于中文问题的理解和回答速度不慢，准确性也相当可观，这毫无疑问是搜索引擎的一个革命性技术，一个用钱砸出来的语言模型和ai，通过俄亥俄化学事故的分析，这个语言AI的情景结合能力我认为与人在理性的方面已经无异了。</p>\n<p>&emsp;&emsp;NewBing也逐步开始内测，它是bing与ChatGPT的联合产物，与ChatGPT不同的是，它的模型比gpt3.5更加高级，且联网，每时每刻都在学习互联网上的信息，尽管这样可能导致一定危险，比如在水军泛滥的话题充满虚假信息却让ai学习了。</p>\n","categories":["其它"],"tags":["瞎折腾","ChatGPT"]},{"title":"网站添加点赞、踩功能","url":"/article/5de26c08.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;看<a href=\"https://blog.shineyu.cn/\">@Shine</a>在博客里整了个点赞功能<a href=\"https://blog.shineyu.cn/qexo-postlike.html\">Qexo添加点赞功能</a>，心动，那就行动。</p>\n<p><img src=https://cdn.chuckle.top/images/39-2.webp width=\"30%\"></p>\n<p>&emsp;&emsp;懒得整一个Qexo系统，那就看看有木有现成的点赞系统拿来改改用。找到力<a href=\"https://github.com/caibingcheng/orlike-vercel\">orlike-vercel</a></p>\n<p>&emsp;&emsp;最终效果：</p>\n<p><img src=https://cdn.chuckle.top/images/39-3.webp width=\"70%\"></p>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><h2 id=\"部署OrLike\"><a href=\"#部署OrLike\" class=\"headerlink\" title=\"部署OrLike\"></a>部署OrLike</h2><p>&emsp;&emsp;注册登录<a href=\"https://leancloud.app/\">leancloud</a>，最好是国际版，创建一个应用，名称随意。在侧栏找到<strong>数据存储-&gt;结构化数据</strong>，点击创建Class，名称为<strong>OrLike</strong>，默认ACL权限修改为所有用户。</p>\n<p>&emsp;&emsp;接着在侧栏找到<strong>设置-&gt;应用凭证</strong>，复制AppID和AppKey，后续用到。</p>\n<p>&emsp;&emsp;数据库设置完成，点击下面链接部署后端到Vercel。</p>\n<div class=\"tag link\"><a class=\"link-card\" title=\"Vercel部署OrLike点赞系统\" href=\"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fcaibingcheng%2Forlike-vercel\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">Vercel部署OrLike点赞系统</p><p class=\"url\">https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fcaibingcheng%2Forlike-vercel</p></div></a></div>\n<p>&emsp;&emsp;部署完成后，在该Vercel项目的设置中找到环境变量，填入名为APPID（值对应之前复制的AppID）和APPKEY（对应AppKey）的环境变量，然后<strong>重新部署</strong>。</p>\n<p>&emsp;&emsp;由于vercel默认域名被墙，最好绑定自己的二级域名，该域名链接即为api。</p>\n<h2 id=\"前端部署\"><a href=\"#前端部署\" class=\"headerlink\" title=\"前端部署\"></a>前端部署</h2><p>&emsp;&emsp;以Hexo-butterfly主题框架为例：</p>\n<p>&emsp;&emsp;修改<code>layout\\includes\\post\\reward.pug</code>，在末尾添加以下代码。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">#orlike-box.<span class=\"property\">orlike</span>-box</span><br><span class=\"line\">  script.</span><br><span class=\"line\">    (<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">function</span> <span class=\"title function_\">loadOrLike</span> () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> <span class=\"title class_\">OrLike</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">serverUrl</span>: <span class=\"string\">&quot;你的api&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">el</span>: <span class=\"string\">&quot;.orlike-box&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">days</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">window</span>.<span class=\"property\">pjax</span> ? <span class=\"title function_\">loadOrLike</span>() : <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;load&#x27;</span>, loadOrLike)</span><br><span class=\"line\">    &#125;)()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;修改<code>layout\\includes\\header\\post-info.pug</code>，在末尾添加以下代码，注意缩进在<strong>.meta-firstline</strong>内。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">span.post-meta-orlike</span><br><span class=\"line\">    i.iconfont.icon-aixin.fa-fw.post-meta-icon</span><br><span class=\"line\">    span.post-meta-label= &#x27;点赞数:&#x27;</span><br><span class=\"line\">    a(href=url_for(page.path) + &#x27;#orlike-box&#x27;)</span><br><span class=\"line\">        span.orlike-count</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;在配置文件中全局引入该js和JQ：</p>\n<figure class=\"highlight js\"><figcaption><span>orlike.js(对OrLike项目源码仓库的orlike.min.js有修改，以适配业务)</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> version = <span class=\"string\">&quot;V0.1.33&quot;</span>; <span class=\"keyword\">function</span> <span class=\"title function_\">setCookie</span>(<span class=\"params\">cname, cvalue, exdays</span>) &#123; <span class=\"keyword\">var</span> d = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(); d.<span class=\"title function_\">setTime</span>(d.<span class=\"title function_\">getTime</span>() + (exdays * <span class=\"number\">24</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">1000</span>)); <span class=\"keyword\">var</span> expires = <span class=\"string\">&quot;expires=&quot;</span> + d.<span class=\"title function_\">toGMTString</span>(); <span class=\"variable language_\">document</span>.<span class=\"property\">cookie</span> = cname + <span class=\"string\">&quot;=&quot;</span> + cvalue + <span class=\"string\">&quot;; &quot;</span> + expires; &#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getCookie</span>(<span class=\"params\">cname</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> name = cname + <span class=\"string\">&quot;=&quot;</span>; <span class=\"keyword\">var</span> ca = <span class=\"variable language_\">document</span>.<span class=\"property\">cookie</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;;&#x27;</span>); <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; ca.<span class=\"property\">length</span>; i++) &#123; <span class=\"keyword\">var</span> c = ca[i].<span class=\"title function_\">trim</span>(); <span class=\"keyword\">if</span> (c.<span class=\"title function_\">indexOf</span>(name) == <span class=\"number\">0</span>) &#123; <span class=\"keyword\">return</span> c.<span class=\"title function_\">substring</span>(name.<span class=\"property\">length</span>, c.<span class=\"property\">length</span>); &#125; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createLink</span>(<span class=\"params\">url</span>) &#123; <span class=\"keyword\">let</span> link = $(<span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;link&#x27;</span>)); link.<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;href&#x27;</span>, url); link.<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;rel&#x27;</span>, <span class=\"string\">&#x27;stylesheet&#x27;</span>); link.<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;type&#x27;</span>, <span class=\"string\">&#x27;text/css&#x27;</span>); $(<span class=\"string\">&#x27;link&#x27;</span>).<span class=\"title function_\">last</span>().<span class=\"title function_\">after</span>(link); &#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">OrLike</span>(<span class=\"params\">&#123; serverUrl = <span class=\"string\">&quot;&quot;</span>, el = <span class=\"string\">&quot;&quot;</span>, days = <span class=\"number\">30</span>, style = <span class=\"string\">&quot;&quot;</span>, ifont = <span class=\"string\">&quot;&quot;</span>, icon = &#123; like: <span class=\"string\">&quot;fa fa-thumbs-up&quot;</span>, dislike: <span class=\"string\">&quot;fa fa-thumbs-down&quot;</span> &#125;, &#125; = &#123;&#125;</span>) &#123; <span class=\"variable language_\">this</span>.<span class=\"property\">serverUrl</span> = serverUrl; <span class=\"variable language_\">this</span>.<span class=\"property\">el</span> = el; <span class=\"variable language_\">this</span>.<span class=\"property\">style</span> = style; <span class=\"variable language_\">this</span>.<span class=\"property\">ifont</span> = ifont; <span class=\"variable language_\">this</span>.<span class=\"property\">days</span> = days; <span class=\"variable language_\">this</span>.<span class=\"property\">icon</span> = icon; <span class=\"variable language_\">this</span>.<span class=\"property\">ckid</span> = <span class=\"string\">&quot;&quot;</span>; <span class=\"variable language_\">this</span>.<span class=\"title function_\">prepare</span>(); <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>(); &#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">prepare</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    $(<span class=\"variable language_\">this</span>.<span class=\"property\">el</span>).<span class=\"title function_\">addClass</span>(<span class=\"string\">&quot;orlike-loading&quot;</span>); <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">style</span> != <span class=\"string\">&quot;&quot;</span>) &#123; <span class=\"title function_\">createLink</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">style</span>); &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">ifont</span> != <span class=\"string\">&quot;&quot;</span>) &#123; <span class=\"title function_\">createLink</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">ifont</span>); &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">init</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    server_url = <span class=\"variable language_\">this</span>.<span class=\"property\">serverUrl</span>; obj = <span class=\"variable language_\">this</span>; $.<span class=\"title function_\">ajax</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"attr\">url</span>: server_url + <span class=\"string\">&#x27;/tmp&#x27;</span>, <span class=\"attr\">dataType</span>: <span class=\"string\">&#x27;jsonp&#x27;</span>, <span class=\"attr\">jsonp</span>: <span class=\"string\">&quot;callback&quot;</span>, <span class=\"attr\">jsonpCallback</span>: <span class=\"string\">&quot;success&quot;</span>, <span class=\"attr\">xhrFields</span>: &#123; <span class=\"attr\">withCredentials</span>: <span class=\"literal\">true</span> &#125;, <span class=\"attr\">async</span>: <span class=\"literal\">true</span>, <span class=\"attr\">crossDomain</span>: <span class=\"literal\">true</span>, <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\">data</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> template = $(data.<span class=\"property\">template</span>); <span class=\"keyword\">let</span> icon_like = template.<span class=\"title function_\">siblings</span>(<span class=\"string\">&quot;a.likeit.orlike&quot;</span>).<span class=\"title function_\">children</span>(<span class=\"string\">&quot;i&quot;</span>); <span class=\"keyword\">let</span> icon_dislike = template.<span class=\"title function_\">siblings</span>(<span class=\"string\">&quot;a.dislikeit.orlike&quot;</span>).<span class=\"title function_\">children</span>(<span class=\"string\">&quot;i&quot;</span>); icon_like.<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;class&#x27;</span>, obj.<span class=\"property\">icon</span>.<span class=\"property\">like</span>); icon_dislike.<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;class&#x27;</span>, obj.<span class=\"property\">icon</span>.<span class=\"property\">dislike</span>); <span class=\"keyword\">if</span> (obj.<span class=\"property\">icon</span>.<span class=\"property\">like</span> == <span class=\"literal\">false</span>)</span><br><span class=\"line\">                icon_like.<span class=\"title function_\">remove</span>(); <span class=\"keyword\">if</span> (obj.<span class=\"property\">icon</span>.<span class=\"property\">dislike</span> == <span class=\"literal\">false</span>)</span><br><span class=\"line\">                icon_dislike.<span class=\"title function_\">remove</span>(); $(obj.<span class=\"property\">el</span>).<span class=\"title function_\">removeClass</span>(<span class=\"string\">&quot;orlike-loading&quot;</span>); $(obj.<span class=\"property\">el</span>).<span class=\"title function_\">html</span>(template); obj.<span class=\"title function_\">ckusr</span>(obj); $(<span class=\"string\">&#x27;a.likeit.orlike&#x27;</span>).<span class=\"title function_\">click</span>(&#123; <span class=\"attr\">obj</span>: obj &#125;, obj.<span class=\"property\">like</span>); $(<span class=\"string\">&#x27;a.dislikeit.orlike&#x27;</span>).<span class=\"title function_\">click</span>(&#123; <span class=\"attr\">obj</span>: obj &#125;, obj.<span class=\"property\">dislike</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">ckusr</span> = <span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) &#123;</span><br><span class=\"line\">    server_url = <span class=\"variable language_\">this</span>.<span class=\"property\">serverUrl</span>; $.<span class=\"title function_\">ajax</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"attr\">url</span>: server_url + <span class=\"string\">&#x27;/ckusr&#x27;</span>, <span class=\"attr\">dataType</span>: <span class=\"string\">&#x27;jsonp&#x27;</span>, <span class=\"attr\">jsonp</span>: <span class=\"string\">&quot;callback&quot;</span>, <span class=\"attr\">jsonpCallback</span>: <span class=\"string\">&quot;success&quot;</span>, <span class=\"attr\">xhrFields</span>: &#123; <span class=\"attr\">withCredentials</span>: <span class=\"literal\">true</span> &#125;, <span class=\"attr\">async</span>: <span class=\"literal\">false</span>, <span class=\"attr\">crossDomain</span>: <span class=\"literal\">true</span>, <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\">data</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (data.<span class=\"property\">stat</span> == <span class=\"string\">&#x27;ok&#x27;</span> &amp;&amp; data.<span class=\"property\">uid</span> != <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                obj.<span class=\"property\">ckid</span> = data.<span class=\"property\">ckid</span>; <span class=\"keyword\">if</span> (!<span class=\"title function_\">getCookie</span>(data.<span class=\"property\">ckid</span>)) &#123; <span class=\"title function_\">setCookie</span>(data.<span class=\"property\">ckid</span>, data.<span class=\"property\">uid</span>, obj.<span class=\"property\">days</span>); &#125;</span><br><span class=\"line\">                obj.<span class=\"title function_\">query</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;connect orlike failed!!!&#x27;</span>); &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">query</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    server_url = <span class=\"variable language_\">this</span>.<span class=\"property\">serverUrl</span>; $.<span class=\"title function_\">ajax</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"attr\">url</span>: server_url + <span class=\"string\">&#x27;/qry?link=&#x27;</span> + <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">pathname</span>, <span class=\"attr\">dataType</span>: <span class=\"string\">&#x27;jsonp&#x27;</span>, <span class=\"attr\">jsonp</span>: <span class=\"string\">&quot;callback&quot;</span>, <span class=\"attr\">jsonpCallback</span>: <span class=\"string\">&quot;success&quot;</span>, <span class=\"attr\">xhrFields</span>: &#123; <span class=\"attr\">withCredentials</span>: <span class=\"literal\">true</span> &#125;, <span class=\"attr\">crossDomain</span>: <span class=\"literal\">true</span>, <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\">data</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (data.<span class=\"property\">stat</span> == <span class=\"string\">&#x27;ok&#x27;</span>) &#123; </span><br><span class=\"line\">                $(<span class=\"string\">&#x27;a.likeit.orlike i span&#x27;</span>).<span class=\"title function_\">text</span>(data[<span class=\"string\">&#x27;like&#x27;</span>]);</span><br><span class=\"line\">                $(<span class=\"string\">&#x27;span.post-meta-orlike a span&#x27;</span>).<span class=\"title function_\">text</span>(data[<span class=\"string\">&#x27;like&#x27;</span>]);</span><br><span class=\"line\">                $(<span class=\"string\">&#x27;a.dislikeit.orlike i span&#x27;</span>).<span class=\"title function_\">text</span>(data[<span class=\"string\">&#x27;dislike&#x27;</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;query orlike failed!!!&#x27;</span>); &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">orl</span> = <span class=\"keyword\">function</span> (<span class=\"params\">obj, method</span>) &#123; server_url = obj.<span class=\"property\">serverUrl</span>; req_url = server_url + <span class=\"string\">&#x27;/orl?method=&#x27;</span> + method + <span class=\"string\">&#x27;&amp;link=&#x27;</span> + <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">pathname</span> + <span class=\"string\">&#x27;&amp;&#x27;</span> + obj.<span class=\"property\">ckid</span> + <span class=\"string\">&#x27;=&#x27;</span> + <span class=\"title function_\">getCookie</span>(obj.<span class=\"property\">ckid</span>); $.<span class=\"title function_\">ajax</span>(&#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"attr\">url</span>: req_url, <span class=\"attr\">dataType</span>: <span class=\"string\">&#x27;jsonp&#x27;</span>, <span class=\"attr\">jsonp</span>: <span class=\"string\">&quot;callback&quot;</span>, <span class=\"attr\">jsonpCallback</span>: <span class=\"string\">&quot;success&quot;</span>, <span class=\"attr\">xhrFields</span>: &#123; <span class=\"attr\">withCredentials</span>: <span class=\"literal\">true</span> &#125;, <span class=\"attr\">crossDomain</span>: <span class=\"literal\">true</span>, <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\">data</span>) &#123; obj.<span class=\"title function_\">query</span>(); &#125;, &#125;); &#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">like</span> = <span class=\"keyword\">function</span> (<span class=\"params\">event</span>) &#123; obj = event.<span class=\"property\">data</span>.<span class=\"property\">obj</span>; obj.<span class=\"title function_\">orl</span>(obj, <span class=\"string\">&#x27;like&#x27;</span>); &#125;</span><br><span class=\"line\"><span class=\"title class_\">OrLike</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">dislike</span> = <span class=\"keyword\">function</span> (<span class=\"params\">event</span>) &#123; obj = event.<span class=\"property\">data</span>.<span class=\"property\">obj</span>; obj.<span class=\"title function_\">orl</span>(obj, <span class=\"string\">&#x27;dislike&#x27;</span>); &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">defer=&quot;true&quot;</span> <span class=\"string\">src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">defer=&quot;true&quot;</span> <span class=\"string\">src=&quot;/js/orlike.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;引入CSS：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.orlike</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>);</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">26px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">5px</span> <span class=\"number\">5px</span> <span class=\"number\">5px</span> <span class=\"number\">#2ed0d9fc</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.orlike</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.85</span>);</span><br><span class=\"line\">    <span class=\"attribute\">text-shadow</span>: <span class=\"number\">4px</span> <span class=\"number\">4px</span> <span class=\"number\">4px</span> <span class=\"number\">#23a8af99</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.orlike</span><span class=\"selector-pseudo\">:first</span>-child&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-right</span>: <span class=\"number\">36px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.orlike</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">0.3rem</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.orlike-box</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">15px</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: row;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: nowrap;</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">52px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.orlike</span><span class=\"selector-pseudo\">:hover</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#f07e7e</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.orlike</span><span class=\"selector-pseudo\">:hover</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#e87373e8</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.orlike-loading</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">39px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">10px</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> solid <span class=\"number\">#acacac</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom-color</span>: transparent;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">animation</span>: orlike-loadingRotate <span class=\"number\">0.75s</span> linear infinite;</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: orlike-loadingRotate <span class=\"number\">0.75s</span> linear infinite;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@-webkit-keyframes</span> orlike-loadingRotate &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"number\">50%</span> &#123;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">180deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> orlike-loadingRotate &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">0deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"number\">50%</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">180deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(<span class=\"number\">360deg</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;完毕。</p>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;无</p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"测试用文章","url":"/article/d87f7e0c.html","content":"<p>米歇潘在不经意间这样说过，生命是一条艰险的峡谷，只有勇敢的人才能通过。这句话语虽然很短，但令我浮想联翩。 空的发生，到底需要如何做到，不空的发生，又会如何产生。 就我个人来说，空对我的意义，不能不说非常重大。 我们不得不面对一个非常尴尬的事实，那就是， 现在，解决空的问题，是非常非常重要的。 所以， 空的发生，到底需要如何做到，不空的发生，又会如何产生。 带着这些问题，我们来审视一下空。 空，发生了会如何，不发生又会如何。 既然如何， 而这些并不是完全重要，更加重要的问题是， 罗曼·罗兰在不经意间这样说过，只有把抱怨环境的心情，化为上进的力量，才是成功的保证。这句话语虽然很短，但令我浮想联翩。 在这种困难的抉择下，本人思来想去，寝食难安。 在这种困难的抉择下，本人思来想去，寝食难安。 笛卡儿曾经说过，阅读一切好书如同和过去最杰出的人谈话。这不禁令我深思。 空的发生，到底需要如何做到，不空的发生，又会如何产生。 本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 一般来说， 生活中，若空出现了，我们就不得不考虑它出现了的事实。 我们一般认为，抓住了问题的关键，其他一切则会迎刃而解。 而这些并不是完全重要，更加重要的问题是， 卢梭在不经意间这样说过，浪费时间是一桩大罪过。我希望诸位也能好好地体会这句话。 空，到底应该如何实现。 我认为， 在这种困难的抉择下，本人思来想去，寝食难安。 每个人都不得不面对这些问题。 在面对这种问题时， 空，到底应该如何实现。 生活中，若空出现了，我们就不得不考虑它出现了的事实。 带着这些问题，我们来审视一下空。 我们不得不面对一个非常尴尬的事实，那就是， 史美尔斯曾经说过，书籍把我们引入最美好的社会，使我们认识各个时代的伟大智者。这句话语虽然很短，但令我浮想联翩。 生活中，若空出现了，我们就不得不考虑它出现了的事实。 查尔斯·史考伯曾经说过，一个人几乎可以在任何他怀有无限热忱的事情上成功。 这不禁令我深思。 我们不得不面对一个非常尴尬的事实，那就是， 带着这些问题，我们来审视一下空。 我认为， 总结的来说， 就我个人来说，空对我的意义，不能不说非常重大。 本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 我们都知道，只要有意义，那么就必须慎重考虑。 我们都知道，只要有意义，那么就必须慎重考虑。 每个人都不得不面对这些问题。 在面对这种问题时， 问题的关键究竟为何? 那么， 而这些并不是完全重要，更加重要的问题是， 一般来讲，我们都必须务必慎重的考虑考虑。 维龙曾经说过，要成功不需要什么特别的才能，只要把你能做的小事做得好就行了。这句话语虽然很短，但令我浮想联翩。 既然如何， 空因何而发生?生活中，若空出现了，我们就不得不考虑它出现了的事实。 我认为， 总结的来说， 空因何而发生?在这种困难的抉择下，本人思来想去，寝食难安。 经过上述讨论带着这些问题，我们来审视一下空。 一般来讲，我们都必须务必慎重的考虑考虑。 亚伯拉罕·林肯曾经说过，你活了多少岁不算什么，重要的是你是如何度过这些岁月的。这启发了我， 在这种困难的抉择下，本人思来想去，寝食难安。 就我个人来说，空对我的意义，不能不说非常重大。 而这些并不是完全重要，更加重要的问题是， 我们一般认为，抓住了问题的关键，其他一切则会迎刃而解。 而这些并不是完全重要，更加重要的问题是， 空的发生，到底需要如何做到，不空的发生，又会如何产生。 生活中，若空出现了，我们就不得不考虑它出现了的事实。 空的发生，到底需要如何做到，不空的发生，又会如何产生。 空，到底应该如何实现。 空的发生，到底需要如何做到，不空的发生，又会如何产生。 我们不得不面对一个非常尴尬的事实，那就是， 既然如此， 空因何而发生?那么， 每个人都不得不面对这些问题。 在面对这种问题时， 卢梭曾经说过，浪费时间是一桩大罪过。带着这句话，我们还要更加慎重的审视这个问题： 了解清楚空到底是一种怎么样的存在，是解决一切问题的关键。 生活中，若空出现了，我们就不得不考虑它出现了的事实。 一般来说， 空，到底应该如何实现。 所谓空，关键是空需要如何写。 既然如何， 生活中，若空出现了，我们就不得不考虑它出现了的事实。 空的发生，到底需要如何做到，不空的发生，又会如何产生。 一般来讲，我们都必须务必慎重的考虑考虑。 空，发生了会如何，不发生又会如何。 要想清楚，空，到底是一种怎么样的存在。 我们一般认为，抓住了问题的关键，其他一切则会迎刃而解。 空，发生了会如何，不发生又会如何。 爱迪生在不经意间这样说过，失败也是我需要的，它和成功对我一样有价值。这启发了我， 问题的关键究竟为何? 德国曾经说过，只有在人群中间，才能认识自己。这启发了我， 而这些并不是完全重要，更加重要的问题是， 米歇潘在不经意间这样说过，生命是一条艰险的峡谷，只有勇敢的人才能通过。带着这句话，我们还要更加慎重的审视这个问题： 空的发生，到底需要如何做到，不空的发生，又会如何产生。 要想清楚，空，到底是一种怎么样的存在。 生活中，若空出现了，我们就不得不考虑它出现了的事实。 既然如何， 孔子在不经意间这样说过，知之者不如好之者，好之者不如乐之者。这句话语虽然很短，但令我浮想联翩。 而这些并不是完全重要，更加重要的问题是， 我认为， 我们一般认为，抓住了问题的关键，其他一切则会迎刃而解。 叔本华曾经说过，意志是一个强壮的盲人，倚靠在明眼的跛子肩上。这启发了我。</p>\n"},{"title":"博客添加待办清单页","url":"/article/9875347c.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>&emsp;&emsp;要做的事还有很多，想做的事源源不断，那就都记录在博客里吧，<a href=\"/todolist/\">ToDoList</a>。</p>\n<p><img src=https://cdn.chuckle.top/images/40-1.webp width=\"90%\"></p>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p>&emsp;&emsp;新建<code>\\layout\\includes\\page\\todolist.pug</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">#todolist-box</span><br><span class=\"line\">    .page-top-card(style=&#x27;background-image: url(/img/todo.webp);&#x27;)</span><br><span class=\"line\">        .content-item-tips 想做清单</span><br><span class=\"line\">        span.content-item-title ToDoList</span><br><span class=\"line\">        .content-bottom</span><br><span class=\"line\">            .tips 要做的事还有很多，想做的事源源不断</span><br><span class=\"line\">    #todolist-main</span><br><span class=\"line\">        #todolist-left</span><br><span class=\"line\">            each i in site.data.todolist</span><br><span class=\"line\">                if i.seat == &#x27;left&#x27;</span><br><span class=\"line\">                    .todolist-item</span><br><span class=\"line\">                        h3.todolist-title=i.class_name</span><br><span class=\"line\">                        ul.todolist-ul</span><br><span class=\"line\">                            each item in i.todo_list</span><br><span class=\"line\">                                li.todolist-li</span><br><span class=\"line\">                                    if item.completed</span><br><span class=\"line\">                                        i.fa-regular.fa-circle-check</span><br><span class=\"line\">                                    else </span><br><span class=\"line\">                                        i.fa-regular.fa-circle</span><br><span class=\"line\">                                    span=item.content</span><br><span class=\"line\">        #todolist-right</span><br><span class=\"line\">            each i in site.data.todolist</span><br><span class=\"line\">                if i.seat == &#x27;right&#x27;</span><br><span class=\"line\">                    .todolist-item</span><br><span class=\"line\">                        h3.todolist-title=i.class_name</span><br><span class=\"line\">                        ul.todolist-ul</span><br><span class=\"line\">                            each item in i.todo_list</span><br><span class=\"line\">                                li.todolist-li</span><br><span class=\"line\">                                    if item.completed</span><br><span class=\"line\">                                        i.fa-regular.fa-circle-check</span><br><span class=\"line\">                                    else </span><br><span class=\"line\">                                        i.fa-regular.fa-circle</span><br><span class=\"line\">                                    span=item.content</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;修改<code>\\layout\\page.pug</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">case page.type</span><br><span class=\"line\">    when &#x27;tags&#x27;</span><br><span class=\"line\">        include includes/page/tags.pug</span><br><span class=\"line\">        include includes/page/default-page.pug</span><br><span class=\"line\">    when &#x27;link&#x27;</span><br><span class=\"line\">        include includes/page/flink.pug</span><br><span class=\"line\">    when &#x27;categories&#x27;</span><br><span class=\"line\">        include includes/page/categories.pug</span><br><span class=\"line\">        include includes/page/default-page.pug</span><br><span class=\"line\">    when &#x27;essay&#x27;</span><br><span class=\"line\">        include includes/page/essay.pug</span><br><span class=\"line\">+    when &#x27;todolist&#x27;</span><br><span class=\"line\">+        include includes/page/todolist.pug</span><br><span class=\"line\">    default</span><br><span class=\"line\">        include includes/page/default-page.pug</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;新建<code>\\source\\_data\\todolist.yml</code></p>\n<figure class=\"highlight yml\"><figcaption><span>seat控制清单在左栏还是右栏显示，completed控制是否已完成</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">想做的项目</span></span><br><span class=\"line\">  <span class=\"attr\">seat:</span> <span class=\"string\">left</span></span><br><span class=\"line\">  <span class=\"attr\">todo_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">个人主页</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">公众号</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">想看的书</span></span><br><span class=\"line\">  <span class=\"attr\">seat:</span> <span class=\"string\">left</span></span><br><span class=\"line\">  <span class=\"attr\">todo_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">《毛泽东选集》</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">《86不存在的战区》</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">想买的东西</span></span><br><span class=\"line\">  <span class=\"attr\">seat:</span> <span class=\"string\">left</span></span><br><span class=\"line\">  <span class=\"attr\">todo_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">小米平板5pro</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">致态固态硬盘</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">想学的技术</span></span><br><span class=\"line\">  <span class=\"attr\">seat:</span> <span class=\"string\">right</span></span><br><span class=\"line\">  <span class=\"attr\">todo_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">Vue2/Vue3</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">Electron</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">想去的地方</span></span><br><span class=\"line\">  <span class=\"attr\">seat:</span> <span class=\"string\">right</span></span><br><span class=\"line\">  <span class=\"attr\">todo_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">桂林</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">content:</span> <span class=\"string\">杭州</span></span><br><span class=\"line\">      <span class=\"attr\">completed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;添加CSS:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#todolist-box</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#todolist-main</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: row;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: wrap;</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">16px</span> <span class=\"number\">0</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#todolist-main</span> <span class=\"selector-tag\">li</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">list-style</span>:none;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">17px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#todolist-main</span> <span class=\"selector-tag\">ul</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#todolist-left</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">8px</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#todolist-right</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">8px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.todolist-item</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fae4df</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">1rem</span> <span class=\"number\">1.2rem</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> dashed <span class=\"number\">#f7a796</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">1rem</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.todolist-item</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#242424</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> dashed <span class=\"number\">#51908b</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">li</span><span class=\"selector-class\">.todolist-li</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">h3</span><span class=\"selector-class\">.todolist-title</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span><span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"built_in\">var</span>(--todo-border);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">li</span><span class=\"selector-class\">.todolist-li</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"built_in\">var</span>(--todo-border);</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: normal;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.todolist-li</span> <span class=\"selector-tag\">span</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>:<span class=\"number\">700px</span>)&#123;</span><br><span class=\"line\">    <span class=\"selector-id\">#todolist-left</span>,<span class=\"selector-id\">#todolist-right</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"selector-class\">.page-top-card</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-size</span>: cover;</span><br><span class=\"line\">  <span class=\"attribute\">background-position</span>: center;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">20.5rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">2.7rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.page-top-card</span> <span class=\"selector-tag\">span</span><span class=\"selector-class\">.content-item-title</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">2.3em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.2</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-family</span>: STZhongsong,<span class=\"string\">&#x27;Microsoft YaHei&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.page-top-card</span> <span class=\"selector-class\">.content-bottom</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: space-between;</span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">5.4rem</span>);</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">1rem</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&#x27;dark&#x27;</span>]</span> <span class=\"selector-class\">.page-top-card</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: .<span class=\"number\">92</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;新建页面</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: ToDoList</span><br><span class=\"line\">date: 2023-03-18 14:07:13</span><br><span class=\"line\">comments: false</span><br><span class=\"line\">aside: false</span><br><span class=\"line\"><span class=\"section\">type: todolist</span></span><br><span class=\"line\"><span class=\"section\">---</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>&emsp;&emsp;无</p>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"JavaScript基础笔记(1)","url":"/article/3f7cd15d.html","content":"<h1 id=\"这是JavaScript\"><a href=\"#这是JavaScript\" class=\"headerlink\" title=\"这是JavaScript\"></a>这是JavaScript</h1><p>HTML描述页面的结构，CSS展现页面的样式，<strong>JS</strong>在页面中描述行为、控制交互。</p>\n<p><del>JavaScript里没有Java，就像老婆饼里没有老婆。</del></p>\n<p>JavaScript是解释型语言，既是前端语言，又是后端语言，当它运行在浏览器中时是<strong>前端语言</strong>，<strong>后端语言</strong>运行在服务器中也称为服务端语言，NodeJS可以让JS运行在服务端。</p>\n<p>JavaScript基础由三部分组成，ECMAScript是语法，DOM和BOM是浏览器提供的API：</p>\n<ol>\n<li><strong>ECMAScript</strong>: JavaScript的语法标准，至少要学习到<strong>ES6</strong>，它规定了JS最基础的语句、变量、函数、运算等等。</li>\n<li><strong>DOM</strong>: 文档对象模型（Document Object Model），JS<strong>操控网页元素</strong>的API。</li>\n<li><strong>BOM</strong>: 浏览器对象模型（Browser Object Model），JS<strong>操控浏览器</strong>的API。</li>\n</ol>\n<h1 id=\"使用JS\"><a href=\"#使用JS\" class=\"headerlink\" title=\"使用JS\"></a>使用JS</h1><ol>\n<li><strong>行内</strong>: 写在标签属性中。<input type=\"button\" value=\"点我\" href=\"javascript:;\" onclick=\"alert('你好')\" /><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;input type=<span class=\"string\">&quot;button&quot;</span> value=<span class=\"string\">&quot;点我&quot;</span> href=<span class=\"string\">&quot;javascript:;&quot;</span> onclick=<span class=\"string\">&quot;alert(&#x27;你好&#x27;)&quot;</span> /&gt;</span><br></pre></td></tr></table></figure></li>\n<li><strong>内嵌</strong>: 写在<code>&lt;script&gt;&lt;/script&gt;</code>标签中。<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">”text/javascript”</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;你好&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n<li><strong>外链</strong>: 在<code>&lt;script&gt;&lt;/script&gt;</code>标签的src属性中写上js文件的链接。<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;main.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h1 id=\"执行顺序\"><a href=\"#执行顺序\" class=\"headerlink\" title=\"执行顺序\"></a>执行顺序</h1><p>浏览器默认从<strong>上至下</strong>解析网页，JS的加载默认会阻塞网页的解析，通过JS操控网页元素，需待网页解析完后执行、写在html的最后或写在对应元素后，否则就可能因为DOM树不完整，要操控的对象还未被加载而报出undefined错误。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 不等待后续网页的解析，到此就加载JS并执行 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;main.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 网页的解析与JS的加载异步，但JS在网页解析完后执行 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">defer</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;main.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 网页的解析与JS的加载异步，JS加载完后立即执行 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">async</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;main.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//待网页解析完、网页中所有资源（图片、css）都加载完毕，执行其中的代码</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onload</span>  = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//js代码</span></span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;你好&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"输出语句\"><a href=\"#输出语句\" class=\"headerlink\" title=\"输出语句\"></a>输出语句</h1><ol>\n<li><code>console.log()</code>: 在控制台输出内容<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;日志&#x27;</span>); <span class=\"comment\">//普通打印</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">warn</span>(<span class=\"string\">&#x27;警告&#x27;</span>); <span class=\"comment\">//警告打印</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;出错了&#x27;</span>); <span class=\"comment\">//错误打印</span></span><br></pre></td></tr></table></figure></li>\n<li><code>alert()</code>: 警告对话框 <input type=\"button\" value=\"测试\" href=\"javascript:;\" onclick=\"alert('这是一个警告')\" /></li>\n<li><code>confirm()</code>: 确认对话框，返回true或false <input type=\"button\" value=\"测试\" href=\"javascript:;\" onclick=\"var a = confirm('确认吗');if(a){alert('你确认了')}else{alert('未确认')}\" /><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"title function_\">confirm</span>(<span class=\"string\">&#x27;确认吗&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(a)&#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;你确认了&#x27;</span>)</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;未确认&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><code>prompt()</code>: 输入对话框，返回输入内容或空字符串，点取消返回NULL <input type=\"button\" value=\"测试\" href=\"javascript:;\" onclick=\"var a = prompt('输入内容');if(a){alert('你输入了：'+a)}else if(a==''){alert('你没输入任何东西')}else{alert('取消')}\" /><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"title function_\">prompt</span>(<span class=\"string\">&#x27;输入内容&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(a)&#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;你输入了：&#x27;</span>+ a)</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a==<span class=\"string\">&#x27;&#x27;</span>)&#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;你没输入任何东西&#x27;</span>)</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;取消&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h1 id=\"常量、变量、标识符\"><a href=\"#常量、变量、标识符\" class=\"headerlink\" title=\"常量、变量、标识符\"></a>常量、变量、标识符</h1><p>数字常量、字符串常量、布尔常量<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">123</span>); <span class=\"comment\">//123是数字</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;123&#x27;</span>); <span class=\"comment\">//&#x27;123&#x27;是字符串，&#x27;&#x27;空字符串</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;你好&#x27;</span>); <span class=\"comment\">//&#x27;&#x27;包裹起来的都是字符串</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"literal\">true</span>)&#123; <span class=\"comment\">//true、false布尔常量</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;true&#x27;</span>); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>自定义常量const<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"string\">&#x27;123&#x27;</span>; <span class=\"comment\">//定义a为常量</span></span><br><span class=\"line\">a = <span class=\"string\">&#x27;321&#x27;</span>; <span class=\"comment\">//不允许修改常量</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"string\">&#x27;321&#x27;</span>; <span class=\"comment\">//不允许重新声明</span></span><br></pre></td></tr></table></figure></p>\n<p>定义变量var、let(ES6)<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;123&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">321</span>;</span><br><span class=\"line\"><span class=\"comment\">//重新定义</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;321&#x27;</span>; <span class=\"comment\">//var允许重新定义</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">123</span>; <span class=\"comment\">//let不允许重新定义</span></span><br><span class=\"line\"><span class=\"comment\">//不允许var和let之间重新定义</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> c = <span class=\"number\">123</span>;</span><br></pre></td></tr></table></figure></p>\n<p>var可以在声明前使用，值为undefined，而let必须先声明再使用。</p>\n<p>var是<strong>函数作用域</strong>，let是<strong>块作用域</strong>。</p>\n<p><strong>标识符</strong>（一切可自主命名的，如变量名、函数名）命名规则：</p>\n<ol>\n<li>区分大小写</li>\n<li>只能由字母(A-Z、a-z)、数字(0-9)、下划线(_)、美元符( $ )组成</li>\n<li>不能以数字开头、不允许出现空格</li>\n<li>不能出现中划线 -</li>\n</ol>\n<h1 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h1><p>JavaScript是<strong>弱类型语言</strong>（动态语言），无需声明变量的类型，在程序运行过程中，会根据<strong>等号右边的值</strong>自动确定类型。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> a);<span class=\"comment\">//输出number</span></span><br><span class=\"line\">a = <span class=\"string\">&#x27;123&#x27;</span><span class=\"comment\">//强制将变量a数据类型转换为字符串</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> a);<span class=\"comment\">//输出string</span></span><br><span class=\"line\">a = <span class=\"title class_\">Number</span>(a);<span class=\"comment\">//强制将字符串&#x27;123&#x27;转换为数字123</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//输出123</span></span><br></pre></td></tr></table></figure>\n<p>JS中数据类型分为<strong>基本数据类型</strong>和<strong>引用数据类型</strong></p>\n<ol>\n<li><strong>基本数据类型</strong>（值类型）: String字符串、Number数值、BigInt(ES6)大型数值、Boolean布尔值、Null空值、Undefined未定义、Symbol(ES6)。</li>\n<li><strong>引用数据类型</strong>（引用类型）：Object 对象(除了基本数据类型之外，都可称之为Object类型)。</li>\n</ol>\n<p>基本数据类型<strong>传数值</strong>，引用数据类型<strong>传地址</strong>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">23</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a;<span class=\"comment\">//将a的值23传给b</span></span><br><span class=\"line\">a++;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a); <span class=\"comment\">//24</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b); <span class=\"comment\">//23，改变a的值不影响b</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();<span class=\"comment\">//a、b都是引用数据类型</span></span><br><span class=\"line\">b.<span class=\"property\">name</span> = <span class=\"string\">&#x27;123&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a;<span class=\"comment\">//传的是a的地址，a和b是同一个东西</span></span><br><span class=\"line\">a.<span class=\"property\">name</span> = <span class=\"string\">&#x27;321&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">name</span>); <span class=\"comment\">//321</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">name</span>); <span class=\"comment\">//321，修改a对象的属性也会修改b</span></span><br></pre></td></tr></table></figure>\n<p>JS中，所有的变量都保存在<strong>栈内存</strong>中的。</p>\n<p>基本数据类型直接保存在<strong>栈内存</strong>中。值与值之间独立存在。</p>\n<p>对象Object保存在<strong>堆内存</strong>中，创建一个新的对象，在堆内存中开辟一个新的空间，变量在<strong>栈内存</strong>中保存了对象的<strong>内存地址</strong>（对象的引用）。</p>\n<h1 id=\"String字符串\"><a href=\"#String字符串\" class=\"headerlink\" title=\"String字符串\"></a>String字符串</h1><p>字符串是双引号和单引号中的文本，不同类型引号可以嵌套使用。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;123&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"string\">&#x27;1&quot;2&quot;3&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">//1&quot;2&quot;3</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"string\">&#x27;12    3&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(c);<span class=\"comment\">//12    3不忽略连续多个空格</span></span><br></pre></td></tr></table></figure>\n<p>加入字符串进行拼接，可以被同化为字符串</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">typeof</span>(<span class=\"number\">123</span>+<span class=\"string\">&#x27;&#x27;</span>));<span class=\"comment\">//string</span></span><br></pre></td></tr></table></figure>\n<p>转义字符: <code>\\</code></p>\n<ul>\n<li>双引号: <code>\\&quot;</code>，单引号 <code>\\&#39;</code></li>\n<li><code>\\\\</code> 表示\\</li>\n<li><code>\\r</code> 回车，<code>\\n</code> 换行</li>\n<li><code>\\t</code> 缩进</li>\n<li><code>\\b</code> 空格</li>\n</ul>\n<p>字符的数量就是<strong>字符串的长度</strong>，获取字符串的长度<code>.length</code>：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&quot;abc&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">length</span>);<span class=\"comment\">//3</span></span><br><span class=\"line\">a = <span class=\"string\">&quot;你好&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">length</span>);<span class=\"comment\">//2</span></span><br></pre></td></tr></table></figure>\n<p>使用 <strong>+</strong> 进行<strong>字符串拼接</strong>：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&quot;你好&quot;</span>+<span class=\"string\">&quot;世界&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//你好世界</span></span><br><span class=\"line\">a = <span class=\"string\">&quot;你好&quot;</span>+ <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//你好世界1</span></span><br><span class=\"line\">a = <span class=\"string\">&quot;你好&quot;</span>+ <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//你好null</span></span><br><span class=\"line\">a = <span class=\"string\">&quot;你好&quot;</span>+ <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//你好true</span></span><br></pre></td></tr></table></figure>\n<p>ES6新增<strong>模板字符串</strong>：<strong>``</strong>，可以使用<code>$&#123;变量名&#125;</code>将其嵌入字符串，使用时需要反引号 <strong>``</strong> 包裹。<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2022</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"string\">&#x27;2023&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`去年是<span class=\"subst\">$&#123;a&#125;</span>，今年是<span class=\"subst\">$&#123;b&#125;</span>`</span>); <span class=\"comment\">//去年是2022，今年是2023，注意使用反引号</span></span><br></pre></td></tr></table></figure></p>\n<p>模板字符串中可以换行，不忽略连续的多个空格，保留原有格式。</p>\n<p>可以调用函数：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getHtml</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">\t&lt;span&gt;1&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">\t&lt;span&gt;2&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">\t&lt;span&gt;3&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/div&gt;`</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`1<span class=\"subst\">$&#123;getHtml()&#125;</span>2`</span>);</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">1&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"comment\">\t&lt;span&gt;1&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"comment\">\t&lt;span&gt;2&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"comment\">\t&lt;span&gt;3&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;/div&gt;2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n<p>可以嵌套使用，进行运算：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;a+<span class=\"string\">`<span class=\"subst\">$&#123;b&#125;</span>`</span>&#125;</span>`</span>);<span class=\"comment\">//12</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;a+b&#125;</span>`</span>);<span class=\"comment\">//3</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"Number数值型\"><a href=\"#Number数值型\" class=\"headerlink\" title=\"Number数值型\"></a>Number数值型</h1><p>JS中整数和浮点数等所有的数值都是Number类型。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"number\">1.2</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> a);<span class=\"comment\">//number</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> b);<span class=\"comment\">//number</span></span><br></pre></td></tr></table></figure>\n<p>数值范围:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>.<span class=\"property\">MAX_VALUE</span>);<span class=\"comment\">//1.7976931348623157e+308</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>.<span class=\"property\">MIN_VALUE</span>);<span class=\"comment\">//5e-324</span></span><br></pre></td></tr></table></figure>\n<p>数值变量超过了最大值，则会返回<strong>Infinity</strong>，Infinity也是一种数值，代表无穷大。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"title class_\">Number</span>.<span class=\"property\">MAX_VALUE</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"title class_\">Number</span>.<span class=\"property\">MIN_VALUE</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a*<span class=\"number\">2</span>);<span class=\"comment\">//Infinity</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b/<span class=\"number\">2</span>);<span class=\"comment\">//0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a*(-<span class=\"number\">2</span>));<span class=\"comment\">//-Infinity</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Infinity</span>);<span class=\"comment\">//number</span></span><br></pre></td></tr></table></figure>\n<p><strong>NaN</strong>是一个特殊的数字，表示不是数值(Not a Number)，当运算不出数值时就会返回NaN。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">NaN</span>);<span class=\"comment\">//number</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;abc&#x27;</span> / <span class=\"number\">2</span>);<span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;a&#x27;</span> * <span class=\"string\">&#x27;2&#x27;</span>);<span class=\"comment\">//NaN</span></span><br></pre></td></tr></table></figure>\n<p>Undefined和任何数值计算的结果均为NaN。NaN与任何值都不相等，包括NaN本身。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">undefined</span> + <span class=\"number\">1</span>);<span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> + <span class=\"number\">1</span>);<span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">NaN</span>==<span class=\"title class_\">NaN</span>);<span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<p><strong>隐式转换</strong>，当有字符串介入的运算，且字符串可被转换为数值，除了+表示字符串连接，其余都会自动将字符串转为数值后进行运算。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> + <span class=\"string\">&#x27;2&#x27;</span>);<span class=\"comment\">//12</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> * <span class=\"string\">&#x27;2&#x27;</span>);<span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> / <span class=\"number\">2</span>);<span class=\"comment\">//0.5</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> - <span class=\"number\">2</span>);<span class=\"comment\">//-1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> + <span class=\"string\">&#x27;2&#x27;</span> * <span class=\"string\">&#x27;3&#x27;</span>);<span class=\"comment\">//16</span></span><br></pre></td></tr></table></figure>\n<p>浮点数的<strong>运算精度</strong>并不足够准确，当需要进行高精度运算时，最好引入可靠的数学库。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0.1</span> + <span class=\"number\">0.2</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a); <span class=\"comment\">//0.30000000000000004</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"Null与Undefined\"><a href=\"#Null与Undefined\" class=\"headerlink\" title=\"Null与Undefined\"></a>Null与Undefined</h1><p>undefined实际上是由null衍生出来的。</p>\n<p><strong>undefined</strong>表示未定义，应该有值但还未赋值，连null这个值都没有赋予给它。<br><strong>null</strong>代表空值，本身是一个具体的值或空引用。</p>\n<p>null和undefined值上<strong>相等</strong>，但类型不一样。<br>null是引用类型Object，代表空对象，存的地址为空，而undefined的类型是undefined，代表未定义的值。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> == <span class=\"literal\">undefined</span>);<span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> === <span class=\"literal\">undefined</span>);<span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">null</span>);<span class=\"comment\">//object</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">undefined</span>);<span class=\"comment\">//undefined</span></span><br></pre></td></tr></table></figure>\n<p>null转为数值是0，undefined转为数值是NaN。<br>任何值和null运算，null可看做0。任何数据类型和undefined运算，结果都是NaN。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>(<span class=\"literal\">null</span>));<span class=\"comment\">//0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>(<span class=\"literal\">undefined</span>));<span class=\"comment\">//NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span>+<span class=\"number\">1</span>);<span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">undefined</span>+<span class=\"number\">1</span>);<span class=\"comment\">//NaN</span></span><br></pre></td></tr></table></figure>\n<p><strong>出现undefined的情况</strong>：</p>\n<ol>\n<li>变量被声明了，但是没有被赋值</li>\n<li>变量未声明（未定义）时</li>\n<li>调用函数时，未传参</li>\n<li>函数无返回值时</li>\n<li>访问一个对象中没有的属性</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Fun</span>(<span class=\"params\">item</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Fun</span>());<span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"title class_\">Fun</span>();<span class=\"comment\">//undefined</span></span><br></pre></td></tr></table></figure>\n<p><strong>出现null的情况</strong>：</p>\n<ol>\n<li>访问一个不存在的dom节点</li>\n<li>作为对象原型链的终点出现</li>\n</ol>\n<h1 id=\"数据类型转换\"><a href=\"#数据类型转换\" class=\"headerlink\" title=\"数据类型转换\"></a>数据类型转换</h1><p>变量的<strong>数据类型转换</strong>：将一种数据类型转换为另外一种数据类型。（通常在基本数据类型中互相转换）</p>\n<ol>\n<li><strong>显式类型转换</strong><ol>\n<li><code>toString()</code> 转换为字符串</li>\n<li><code>String()</code> 强制转换为字符串</li>\n<li><code>Number()</code> 转为数值，保留小数</li>\n<li><code>parseInt()</code> 字符串转整数,<strong>直接舍去小数部分</strong></li>\n<li><code>parseFloat()</code> 在parseInt()的基础上可以获得小数部分</li>\n<li><code>Boolean()</code> </li>\n</ol>\n</li>\n<li><strong>隐式类型转换</strong><ol>\n<li><code>isNaN()</code> </li>\n<li>自增/自减</li>\n<li>正号/负号</li>\n<li>加号(字符串拼接)</li>\n<li>其它数值运算符</li>\n<li>逻辑运算符：会先非布尔值转换为布尔值，再运算</li>\n<li>关系运算符：运算结果都是布尔值</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"转为字符串\"><a href=\"#转为字符串\" class=\"headerlink\" title=\"转为字符串\"></a>转为字符串</h2><p><code>toString()</code>:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//&quot;123&quot;</span></span><br><span class=\"line\">a = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//&quot;true&quot;</span></span><br><span class=\"line\">a = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//&quot;1,2,3&quot;</span></span><br><span class=\"line\">a = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;qx&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//&quot;[object Object]&quot;</span></span><br></pre></td></tr></table></figure>\n<p>null和undefined这没有toString()方法，调用会报错</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"literal\">null</span>; </span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//Cannot read properties of null (reading &#x27;toString&#x27;)</span></span><br><span class=\"line\">a = <span class=\"literal\">undefined</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//Cannot read properties of null (reading &#x27;toString&#x27;)</span></span><br></pre></td></tr></table></figure>\n<p>Number类型的变量，在调用toString()时，可以传入一个整数，把数字转换为指定的进制，默认转换为10进制。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">8</span>;</span><br><span class=\"line\">a = a.<span class=\"title function_\">toString</span>(<span class=\"number\">2</span>); <span class=\"comment\">//转换为二进制</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a); <span class=\"comment\">//&quot;1000&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> a);<span class=\"comment\">//string</span></span><br></pre></td></tr></table></figure>\n<p>数字不允许直接调用toString()<br><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span><span class=\"title function_\">toString</span>()<span class=\"comment\">//不允许，会把.看成小数点，小数点后面出现非数字是不允许的</span></span><br><span class=\"line\"><span class=\"number\">1.</span>.<span class=\"title function_\">toString</span>()<span class=\"comment\">//允许</span></span><br><span class=\"line\">(<span class=\"number\">1</span>).<span class=\"title function_\">toString</span>()<span class=\"comment\">//允许</span></span><br></pre></td></tr></table></figure></p>\n<p>使用<code>String()</code>强制转换为字符串。<br>对于<strong>非</strong>null和undefined的数据类型而言，实际上就是调用toString()。<br>对于null和undefined，直接转换为”null”和”undefined”。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(a));<span class=\"comment\">//&quot;123&quot;</span></span><br><span class=\"line\">a = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(a));<span class=\"comment\">//&quot;null&quot;</span></span><br><span class=\"line\">a = <span class=\"literal\">undefined</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(a));<span class=\"comment\">//&quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>\n<p>字符串拼接，隐式转换：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a+<span class=\"string\">&#x27;&#x27;</span>);<span class=\"comment\">//&quot;123&quot;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"转为数值\"><a href=\"#转为数值\" class=\"headerlink\" title=\"转为数值\"></a>转为数值</h2><p><code>Number()</code>转为数值类型</p>\n<ol>\n<li><strong>字符串转数字</strong><ol>\n<li>字符串中是纯数字，直接将其转换为数字</li>\n<li>空字符串或全是空格，转换为0</li>\n<li>字符串中包含了非数字的内容，转为NaN</li>\n</ol>\n</li>\n<li><strong>布尔值转数字</strong>：true —&gt; 1，false —&gt; 0</li>\n<li><strong>null —&gt; 0，undefined —&gt; NaN</strong></li>\n</ol>\n<p>加上<strong>正负号隐式转换</strong>。规则和Number()一样，但是改变正负性，0也会带上负号：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;123&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(+a); <span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(-a); <span class=\"comment\">//-123</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> +a);<span class=\"comment\">//number</span></span><br><span class=\"line\">a = <span class=\"literal\">null</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(+a); <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(-a); <span class=\"comment\">// -0</span></span><br></pre></td></tr></table></figure>\n<p><code>parseInt()</code> <strong>字符串转整数</strong>，布尔、null等非字符串、非数值类型都转为NaN，逐个字符转，碰见非数字字符就停止，没有提取到数值，就返回NaN。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;123abc&#x27;</span>); <span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;abc123&#x27;</span>); <span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;&#x27;</span>); <span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;       &#x27;</span>); <span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"literal\">null</span>); <span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"literal\">undefined</span>); <span class=\"comment\">//NaN</span></span><br><span class=\"line\"><span class=\"built_in\">parseInt</span>(<span class=\"literal\">true</span>); <span class=\"comment\">//NaN</span></span><br></pre></td></tr></table></figure>\n<p>parseInt()会自动截断、舍弃小数，而Number()不会。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;5.1&#x27;</span>) + <span class=\"built_in\">parseInt</span>(<span class=\"number\">5.9</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//10</span></span><br><span class=\"line\">a = <span class=\"title class_\">Number</span>(<span class=\"string\">&#x27;5.1&#x27;</span>) + <span class=\"title class_\">Number</span>(<span class=\"number\">5.9</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//11</span></span><br><span class=\"line\">a = <span class=\"built_in\">parseInt</span>(<span class=\"number\">5.1</span> + <span class=\"number\">5.9</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//11</span></span><br></pre></td></tr></table></figure>\n<p>parseInt()可以多带一个进制参数，把数值<strong>看成对应进制</strong>，再转成10进制返回。无论parseInt()里面的进制参数是多少，最终的转换结果是十进制。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;101&#x27;</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//5 二进制101就是十进制的5</span></span><br><span class=\"line\"></span><br><span class=\"line\">a = <span class=\"built_in\">parseInt</span>(<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//二进制中没有3，所以转换失败返回NaN</span></span><br></pre></td></tr></table></figure>\n<p><code>parseFloat()</code> 字符串转小数，与parseInt()相似。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">parseFloat</span>(<span class=\"string\">&#x27;123.321abc&#x27;</span>); <span class=\"comment\">//123.321</span></span><br><span class=\"line\"><span class=\"built_in\">parseFloat</span>(<span class=\"string\">&#x27;12.1a3.321&#x27;</span>); <span class=\"comment\">//12.1</span></span><br><span class=\"line\"><span class=\"built_in\">parseFloat</span>(<span class=\"string\">&#x27;12.13.321&#x27;</span>); <span class=\"comment\">//12.13</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"转为Boolean\"><a href=\"#转为Boolean\" class=\"headerlink\" title=\"转为Boolean\"></a>转为Boolean</h2><p>任何数据类型都可以转为 Boolean 布尔型。</p>\n<ol>\n<li><strong>数值型</strong>: 0 和 NaN的转为 false，其它都是 true</li>\n<li><strong>字符串</strong>: 空串转为 false，其它都是 true。全是空格的字符串，转换结果也是 true。”0”也是 true。</li>\n<li><strong>null 和 undefined</strong> 都转为 false</li>\n<li><strong>引用数据类型</strong>都转为 true，因为地址永不为空或0。空数组[]和空对象{}，也是 true</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a;</span><br><span class=\"line\"><span class=\"title class_\">Boolean</span>(a);<span class=\"comment\">//false,a未赋值，undefined</span></span><br><span class=\"line\">a = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"title class_\">Boolean</span>(a);<span class=\"comment\">//false</span></span><br><span class=\"line\">a = [];</span><br><span class=\"line\"><span class=\"title class_\">Boolean</span>(a);<span class=\"comment\">//true</span></span><br><span class=\"line\">a = &#123;&#125;;</span><br><span class=\"line\"><span class=\"title class_\">Boolean</span>(a);<span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p>使用<code>!!</code>或<code>!</code>显式转换为 Boolean 类型：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">a = !a</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//false</span></span><br><span class=\"line\">a = !!<span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p><code>isNaN()</code>判断是否是<strong>非数值类型</strong>，任何<strong>不能直接转为数值类型</strong>的数据类型都可以让这个函数返回true</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">isNaN</span>(<span class=\"string\">&#x27;123&#x27;</span>);<span class=\"comment\">//可以转为123，返回false</span></span><br><span class=\"line\"><span class=\"built_in\">isNaN</span>(<span class=\"literal\">null</span>);<span class=\"comment\">//转为0，false</span></span><br><span class=\"line\"><span class=\"built_in\">isNaN</span>(<span class=\"string\">&#x27;123abc&#x27;</span>);<span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">isNaN</span>(<span class=\"literal\">undefined</span>);<span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"运算符和运算\"><a href=\"#运算符和运算\" class=\"headerlink\" title=\"运算符和运算\"></a>运算符和运算</h1><p>各种编程语言的运算符功能都大差不差，只介绍JS中比较特殊的运算或特例。</p>\n<p>浮点数值的最高精度是 17 位小数，会有丢失精度的风险，<strong>不要直接判断两个浮点数是否相等</strong></p>\n<p><strong>Boolean + 数字 = 数字</strong>，true按1来算，false按0。<br><strong>null + 数字 = 0 + 数字</strong><br>undefined + 数字 = NaN<br>任何值和 NaN 运算的结果都是 NaN<br>任何<strong>非数值类型</strong>进行除加法以外的运算<code>-、*、/、%</code>时，都会<strong>自动用Number()转成数值类型</strong>再参与运算</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">true</span> + <span class=\"number\">1</span>; <span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"literal\">null</span> + <span class=\"number\">1</span>; <span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2</span> - <span class=\"string\">&#x27;1&#x27;</span>; <span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;2&#x27;</span>/<span class=\"string\">&#x27;1&#x27;</span>; <span class=\"comment\">//2</span></span><br></pre></td></tr></table></figure>\n<p>非布尔值进行与或运算(<code>&amp;&amp;、||</code>)时，会先将其转换为布尔值，然后再运算，但返回结果是原值。</p>\n<p><strong>与运算 &amp;&amp;</strong>的返回结果：从左到右依次运行语句，找到第一个为 false 的值，返回原值，不再往后执行。如果所有的值都为 true，则返回最后一个值。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;&#x27;</span> &amp;&amp; <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//&#x27;&#x27;,空字符串转为布尔型为false，只执行第一条语句并返回原值</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = [] &amp;&amp; <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//0，[]转为布尔型为true，直接返回第二个语句的值</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&quot;0&quot;</span> &amp;&amp; <span class=\"number\">0</span> &amp;&amp; <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//0</span></span><br></pre></td></tr></table></figure>\n<p><strong>或运算 ||</strong>的返回结果：从左到右依次运行语句，找到第一个为 true 的值，返回原值，不再往后执行。如果所有的值都为 false，则返回最后一个值。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;&#x27;</span> || <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//null</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span> || [];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//[]</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&quot;0&quot;</span> || <span class=\"number\">0</span> || <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//&quot;0&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>比较运算符</strong> <code>&gt;、&lt;、==、!= 等</code>，得到的结果都是布尔值：要么是 true，要么是 false，非数值进行比较，会将其转换为数值类型。</p>\n<p><strong>特殊情况</strong>：如果参与比较的<strong>都是字符串</strong>，则不会将其转换为数字进行比较，比较的是字符串的Unicode编码。<br>比较字符编码时，从<strong>左到右逐位</strong>进行比较，一样大则继续比较下一位，直到比较出大小。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;100&#x27;</span> &gt; <span class=\"number\">9</span> );<span class=\"comment\">//true,将&#x27;100&#x27;转为数值100进行比较</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;100&#x27;</span> &gt; <span class=\"string\">&#x27;9&#x27;</span> );<span class=\"comment\">//false,两个字符串逐位比较，9比1大，返回false</span></span><br></pre></td></tr></table></figure>\n<p><code>== 、===</code> ==进行比较时，会做<strong>隐式转换</strong>，将不同的数据类型，转为相同类型进行比较，而全等符号===不会进行转换，不同类型的数据比较一定是false。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> == <span class=\"number\">1</span>); <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span> === <span class=\"number\">1</span>); <span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span> == <span class=\"literal\">true</span>); <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span> === <span class=\"literal\">true</span>); <span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">undefined</span> == <span class=\"literal\">null</span>); <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1a&#x27;</span> &gt; <span class=\"number\">1</span>); <span class=\"comment\">// false。&#x27;1a&#x27;转成NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//NaN不和任何值相等，包括它本身</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">NaN</span> == <span class=\"title class_\">NaN</span>); <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">NaN</span> === <span class=\"title class_\">NaN</span>); <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<p>null与数字进行比较有一个Bug，不必在意，当特性就行：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> &lt; <span class=\"number\">0</span>); <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> == <span class=\"number\">0</span>); <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> &gt; <span class=\"number\">0</span>); <span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> &lt;= <span class=\"number\">0</span>); <span class=\"comment\">//true。这是一个bug</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"literal\">null</span> &gt;= <span class=\"number\">0</span>); <span class=\"comment\">//true。同上</span></span><br></pre></td></tr></table></figure>\n<p>日期大小比较</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> date1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2023</span>, <span class=\"number\">3</span>, <span class=\"number\">28</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date1);<span class=\"comment\">//Fri Sep 08 2023 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date2 = <span class=\"string\">&#x27;2023-03-27&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> date3 = <span class=\"string\">&#x27;2023/03/29&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date1 &gt; date2);<span class=\"comment\">//false，date1和date2字符串格式很不相同，比较无意义</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date3 &gt; date2);<span class=\"comment\">//true,格式基本相同，分割位置一样，字符串逐位比较大小</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"if和switch\"><a href=\"#if和switch\" class=\"headerlink\" title=\"if和switch\"></a>if和switch</h1><p>这部分各大语言也大差不差，只记录值得注意的点。</p>\n<p>case的判断逻辑是<strong>===</strong>，不是<strong>==</strong></p>\n<p>switch中的default无论放到什么位置，都会等到所有case都不匹配再执行，但一般放在最后</p>\n<p>当case或default匹配到一个值后，会执行后续所有的case，除非遇到break或执行到switch的末尾。</p>\n<h1 id=\"循环\"><a href=\"#循环\" class=\"headerlink\" title=\"循环\"></a>循环</h1><p>这部分各大语言也大差不差，只记录值得注意的点。</p>\n<p><strong>break</strong>会立即终止离它最近的<strong>循环语句</strong>，<strong>continue</strong>跳过当次循环，继续下一次循环。</p>\n<p>可以为循环语句创建一个<strong>label</strong>，来标识当前的循环。使用break、continue语句时，break label将会结束指定的循环，而不是最近的。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">one</span>: <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; <span class=\"number\">100</span>; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i&gt;j) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span> one;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);<span class=\"comment\">//1</span></span><br></pre></td></tr></table></figure>\n","categories":["学习笔记"],"tags":["JS","前端"]},{"title":"JavaScript基础笔记(2)","url":"/article/c32976c2.html","content":"<h1 id=\"JS对象简介\"><a href=\"#JS对象简介\" class=\"headerlink\" title=\"JS对象简介\"></a>JS对象简介</h1><p>尽管JavaScript里没有Java，但两者都是面向对象语言，按顺序学过java这部分也是大差不差。</p>\n<p>在JavaScript中，对象是一组<strong>无序的相关属性</strong>和<strong>方法</strong>的集合。<br>对象中的属性均是<strong>键值对</strong>，属性名是键，属性值是值。</p>\n<p><strong>new</strong>关键字可以创建对象的实例。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> chuckle = [<span class=\"string\">&#x27;轻笑&#x27;</span>, <span class=\"number\">19</span>, <span class=\"string\">&#x27;男&#x27;</span>];</span><br><span class=\"line\"><span class=\"comment\">//虽然数组也是个对象，这js中是引用类型，但这样定义chuckle，值的表示不直观</span></span><br><span class=\"line\"><span class=\"comment\">//使用对象来表示，结构会更清晰</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> chuckle = &#123;&#125;;<span class=\"comment\">//也可以new Object()来创建一个对象</span></span><br><span class=\"line\">chuckle.<span class=\"property\">name</span> = <span class=\"string\">&#x27;轻笑&#x27;</span>;</span><br><span class=\"line\">chuckle.<span class=\"property\">age</span> = <span class=\"number\">19</span>;</span><br><span class=\"line\">chuckle.<span class=\"property\">sex</span> = <span class=\"string\">&#x27;男&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(chuckle);</span><br><span class=\"line\"><span class=\"comment\">//&#123;name: &#x27;轻笑&#x27;, age: 19, sex: &#x27;男&#x27;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(chuckle.<span class=\"property\">name</span>);<span class=\"comment\">//轻笑</span></span><br></pre></td></tr></table></figure>\n<p>对象的属性值可以是任何的数据类型，也可以是个函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\">obj.<span class=\"property\">fun</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;这是一个函数&#x27;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">fun</span>);<span class=\"comment\">//获取而不执行函数</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"title function_\">fun</span>());<span class=\"comment\">//执行函数,这是一个函数</span></span><br></pre></td></tr></table></figure>\n<p>对象的属性也可以是另一个对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>(); obj1.<span class=\"property\">inObj</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>(); obj2.<span class=\"property\">name</span> = <span class=\"string\">&quot;一个对象&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">//将整个obj2对象，设置为obj1的属性，保存的是对象的地址</span></span><br><span class=\"line\">obj1.<span class=\"property\">inObj</span> = obj2;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">inObj</span>);<span class=\"comment\">//&#123;name: &#x27;一个对象&#x27;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">inObj</span>.<span class=\"property\">name</span>);<span class=\"comment\">//一个对象</span></span><br></pre></td></tr></table></figure>\n<p>对象变量保存的是对象的地址，当两个变量指向同一个对象时，两个变量都可以修改对象中的属性。</p>\n<p><strong>对象的分类</strong>:</p>\n<ol>\n<li><strong>内置对象</strong>: 由ES标准中定义的对象，如：Object、Math、Date、String、Array、Number、Boolean、Function等。</li>\n<li><strong>宿主对象</strong>: 由JS的运行环境提供的对象，如浏览器提供了BOM、DOM，console、document。</li>\n<li><strong>自定义对象</strong>: 开发者创建的对象。</li>\n</ol>\n<h1 id=\"基本包装类型\"><a href=\"#基本包装类型\" class=\"headerlink\" title=\"基本包装类型\"></a>基本包装类型</h1><p>基本数据类型string无法绑定属性和方法，但将其转换为<strong>基本包装类型</strong>，就可以。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">str.<span class=\"property\">name</span> = <span class=\"string\">&#x27;一个字符串&#x27;</span>;<span class=\"comment\">//不会报错，但无法绑定</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"property\">name</span>);<span class=\"comment\">//输出undefined</span></span><br></pre></td></tr></table></figure>\n<p>实际上，当我们对基本数据类型调用属性和方法(如str.length)时，js会自动将其临时转换为对应的基本包装类型（隐式类型转换），再调用内置方法。</p>\n<p><strong>基本包装类型</strong>包括：<strong>Number</strong>、<strong>Boolean</strong>、<strong>String</strong>，它们都属于引用数据类型，可以绑定属性和方法。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> strObj = <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">strObj.<span class=\"property\">name</span> = <span class=\"string\">&#x27;一个字符串&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(strObj.<span class=\"property\">name</span>);<span class=\"comment\">//一个字符串</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>String()</code>：将基本数据类型字符串，转换为 String 对象。</li>\n<li><code>Number()</code>：将基本数据类型的数字，转换为 Number 对象。</li>\n<li><code>Boolean()</code>：将基本数据类型的布尔值，转换为 Boolean 对象。</li>\n</ol>\n<p><strong>注意</strong>，在实际应用中一般不会使用基本数据类型的对象</p>\n<p>在底层，字符串以字符数组的形式保存</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;chuckle&#x27;</span>;<span class=\"comment\">//保存方式[&quot;c&quot;, &quot;h&quot;, &quot;u&quot;, &quot;c&quot;, &quot;k&quot;, &quot;l&quot;, &quot;e&quot;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"property\">length</span>);<span class=\"comment\">//7</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str[<span class=\"number\">2</span>]); <span class=\"comment\">//因为是数组，可以直接访问下标，字符串中的第3个字符,u</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"内置对象\"><a href=\"#内置对象\" class=\"headerlink\" title=\"内置对象\"></a>内置对象</h1><p><strong>内置对象</strong>是语言自带的一些对象，提供了最基本最常用的<strong>属性</strong>和<strong>方法</strong>。</p>\n<p><strong>Arguments</strong>(函数参数集合)，<strong>Array</strong>(数组)，<strong>Boolean</strong>(布尔对象)，<strong>Math</strong>(数学对象)，<strong>Date</strong>(日期时间)，<strong>Error</strong>(异常对象)，<strong>Function</strong>(函数构造器)，<strong>Number</strong>(数值对象)，<strong>Object</strong>(基础对象)，<strong>RegExp</strong>(正则表达式对象)，<strong>String</strong>(字符串对象)</p>\n<h1 id=\"字符串对象String\"><a href=\"#字符串对象String\" class=\"headerlink\" title=\"字符串对象String\"></a>字符串对象String</h1><p><a href=\"/article/3f7cd15d.html#String字符串\">String字符串—JavaScript基础笔记(1)</a></p>\n<p><strong>字符串的所有方法，都不会改变原字符串</strong></p>\n<ol>\n<li><code>indexOf()/lastIndexOf()</code>：获取字符串中指定内容的索引</li>\n<li><code>search()</code>：获取字符串中指定内容的索引（参数里一般是正则）</li>\n<li><code>includes()</code>：字符串中是否包含指定的内容</li>\n<li><code>startsWith()</code>：字符串是否以指定的内容开头</li>\n<li><code>endsWith()</code>：字符串是否以指定的内容结尾</li>\n<li><code>charAt()</code>和<code>str[index]</code>：返回字符串指定位置(下标)的字符</li>\n<li><code>charCodeAt(index)</code>：返回字符串指定位置的字符的 Unicode 编码</li>\n<li><code>slice()</code>：截取指定范围的字符串，可传入负值，代表倒数第几个字符（截取时包括该字符）</li>\n<li><code>substring()</code>：截取指定范围的字符串<strong>，</strong>不可**传入负值，传入负值转为0，自动调整参数的位置，如果第二个参数小于第一个，则自动交换</li>\n<li><code>substr()</code>：从起始位置截取指定长度的字符串<strong>，两个参数，起始位置，</strong>截取指定长度**</li>\n<li><code>String.fromCharCode()</code>：据字符的 Unicode 编码获取字符</li>\n<li><code>concat()</code>：拼接两个字符串，不如直接用+号</li>\n<li><code>split()</code>：字符串转换为数组 【重要】</li>\n<li><code>replace()</code>：替换字符串内容</li>\n<li><code>repeat()</code>：重复该字符串指定次数</li>\n<li><code>toUpperCase()</code> 和 <code>toLowerCase()</code>：大小写转换</li>\n<li><code>trim()</code>：去除字符串头尾的空格</li>\n</ol>\n<h2 id=\"查找字符\"><a href=\"#查找字符\" class=\"headerlink\" title=\"查找字符\"></a>查找字符</h2><p><strong>1、<code>indexOf()/lastIndexOf()</code>：获取字符串中指定内容的索引</strong></p>\n<p><code>indexOf()</code>从前向后查找，<code>lastIndexOf()</code>从后向前，用法一致。</p>\n<p><strong>功能</strong>：检索一个字符串中是否含有指定内容。如果字符串中含有该内容，则会返回其<strong>第一次出现</strong>的字符串底层数组下标（0代表在开头）；如果没有找到指定的内容，则返回 -1。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;abc cba&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;c&#x27;</span>));<span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;c&#x27;</span>));<span class=\"comment\">//4</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;a&#x27;</span>));<span class=\"comment\">//0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;a&#x27;</span>));<span class=\"comment\">//6</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;chuckle&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;uc&#x27;</span>));<span class=\"comment\">//2,代表uc第一个字符u是字符串中第三个字符</span></span><br></pre></td></tr></table></figure>\n<p>添加起始位置参数，指定查找的起始位置</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;chuckle&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;uc&#x27;</span>,<span class=\"number\">2</span>));<span class=\"comment\">//从下标2即字符串第三个字符开始找起，输出2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;uc&#x27;</span>,<span class=\"number\">3</span>));<span class=\"comment\">//从下标3即字符串第四个字符开始找起，输出-1</span></span><br></pre></td></tr></table></figure>\n<p><strong>案例</strong>：查找字符串”abcabcabc”中，所有 a 出现的位置以及次数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;abcabcabc&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"number\">0</span>;<span class=\"comment\">//记录次数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> index = -<span class=\"number\">1</span>;<span class=\"comment\">//记录位置下标，从-1开始</span></span><br><span class=\"line\"><span class=\"keyword\">do</span>&#123;</span><br><span class=\"line\">  index = str.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;a&#x27;</span>, index + <span class=\"number\">1</span>);<span class=\"comment\">//找到一个就从下一个字符下标开始找</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(index !== -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(index);<span class=\"comment\">//输出下标0,3,6</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(index !== -<span class=\"number\">1</span>);<span class=\"comment\">//找到了就接着去找，直到找不到</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、<code>search()</code>：获取字符串中指定内容的索引（参数里一般是正则）</strong></p>\n<p><strong>功能</strong>：检索一个字符串中是否含有指定内容。如果字符串中含有该内容，则会返回其<strong>第一次出现</strong>的字符串底层数组下标（0代表在开头）；如果没有找到指定的内容，则返回 -1。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;CHUCKLE&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">search</span>(<span class=\"string\">&#x27;uc&#x27;</span>)); <span class=\"comment\">//-1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">search</span>(<span class=\"regexp\">/uc/i</span>)); <span class=\"comment\">//2 正则写法，忽略大小写</span></span><br></pre></td></tr></table></figure>\n<p><strong>3、<code>includes()</code>：字符串中是否包含指定的内容</strong></p>\n<p><strong>功能</strong>：判断字符串中是否含有指定内容。有返回 true；否则返回 false。可以传入起始位置参数。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;uc&#x27;</span>)); <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;ab&#x27;</span>)); <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;ab&#x27;</span>,<span class=\"number\">5</span>)); <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<p><strong>4、<code>startsWith()</code>：字符串是否以指定的内容开头</strong></p>\n<p><strong>功能</strong>：判断字符串是否以指定的字符串开头。是返回 true；否则返回 false。可以指定起始位置下标，指定的位置则当做字符串开头。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">startsWith</span>(<span class=\"string\">&#x27;uc&#x27;</span>)); <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">startsWith</span>(<span class=\"string\">&#x27;c&#x27;</span>)); <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">startsWith</span>(<span class=\"string\">&#x27;uc&#x27;</span>,<span class=\"number\">2</span>)); <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p><strong>5、<code>endsWith()</code>：字符串是否以指定的内容结尾</strong></p>\n<p><strong>功能</strong>：判断字符串是否以指定的字符串结尾。是返回 true；否则返回 false。可以指定检索的字符串长度（检索到第几个字符）。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">endsWith</span>(<span class=\"string\">&#x27;uc&#x27;</span>)); <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">endsWith</span>(<span class=\"string\">&#x27;e&#x27;</span>)); <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">endsWith</span>(<span class=\"string\">&#x27;uc&#x27;</span>,<span class=\"number\">4</span>)); <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"获取指定位置的字符\"><a href=\"#获取指定位置的字符\" class=\"headerlink\" title=\"获取指定位置的字符\"></a>获取指定位置的字符</h2><p><strong>1、<code>charAt()</code>和<code>str[index]</code>：返回字符串指定位置(下标)的字符</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">charAt</span>(<span class=\"number\">2</span>));<span class=\"comment\">//u</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str[<span class=\"number\">2</span>]);<span class=\"comment\">//u</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、<code>charCodeAt(index)</code>：返回字符串指定位置的字符的 Unicode 编码</strong></p>\n<figure class=\"highlight js\"><figcaption><span>判断字符串中是否有非英文字符</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle轻笑&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; str.<span class=\"property\">length</span>; i++)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> char = str.<span class=\"title function_\">charCodeAt</span>(i);<span class=\"comment\">//保存该字符的Unicode编码</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(!(char &gt;= <span class=\"number\">0</span> &amp;&amp; char &lt;= <span class=\"number\">127</span>))&#123;<span class=\"comment\">//英文字符的Unicode编码在0~127</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`存在非英文,在第<span class=\"subst\">$&#123;i+<span class=\"number\">1</span>&#125;</span>个字符`</span>);<span class=\"comment\">//存在非英文,在第8个字符,存在非英文,在第9个字符</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"字符串截取\"><a href=\"#字符串截取\" class=\"headerlink\" title=\"字符串截取\"></a>字符串截取</h2><p><strong>1、<code>slice()</code>：截取指定范围的字符串</strong>，可传入负值，代表倒数第几个字符（截取时包括该字符）</p>\n<figure class=\"highlight js\"><figcaption><span>两个参数都是索引值。正数时包左不包右</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">新字符串 = str.<span class=\"title function_\">slice</span>(开始索引, 结束索引);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;qxchuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>));<span class=\"comment\">//chuckle,从下标2开始截取到最后</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>,str.<span class=\"property\">length</span>));<span class=\"comment\">//chuckle</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>, -<span class=\"number\">1</span>));<span class=\"comment\">//chuckl,从下标2开始截取到倒数第一个字符，包括，-0无效</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">slice</span>(<span class=\"number\">5</span>, <span class=\"number\">2</span>));<span class=\"comment\">//无效范围，返回空字符串</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、<code>substring()</code>：截取指定范围的字符串</strong>，<strong>不可</strong>传入负值，传入负值转为0，自动调整参数的位置，如果第二个参数小于第一个，则自动交换。</p>\n<figure class=\"highlight js\"><figcaption><span>两个参数都是索引值。包左不包右</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">新字符串 = str.<span class=\"title function_\">substring</span>(开始索引, 结束索引);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;qxchuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substring</span>(<span class=\"number\">2</span>)); <span class=\"comment\">//chuckle,从下标2开始截取到最后</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substring</span>(<span class=\"number\">2</span>,str.<span class=\"property\">length</span>)); <span class=\"comment\">//chuckle</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substring</span>(<span class=\"number\">5</span>, <span class=\"number\">2</span>)); <span class=\"comment\">//chu，自动交换位置，相当于截取下标2到5</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substring</span>(<span class=\"number\">2</span>, -<span class=\"number\">1</span>)); <span class=\"comment\">//qx，-1看作0，然后自动交换位置</span></span><br></pre></td></tr></table></figure>\n<p><strong>3、<code>substr()</code>：从起始位置截取指定长度的字符串</strong>，两个参数，起始位置，<strong>截取指定长度</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">新字符串 = str.<span class=\"title function_\">substr</span>(开始索引, 截取的长度);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;qxchuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substr</span>(<span class=\"number\">2</span>)); <span class=\"comment\">//chuckle,从下标2开始截取到最后</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substr</span>(<span class=\"number\">2</span>,<span class=\"number\">100</span>)); <span class=\"comment\">//chuckle，截取长度超过剩余长度时，只会截取剩余的字符</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">substr</span>(<span class=\"number\">100</span>, <span class=\"number\">10</span>)); <span class=\"comment\">//空字符串，截取不到任何字符</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"其它方法\"><a href=\"#其它方法\" class=\"headerlink\" title=\"其它方法\"></a>其它方法</h2><p><strong><code>String.fromCharCode()</code>：据字符的 Unicode 编码获取字符</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(<span class=\"number\">97</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//a</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>concat()</code>：拼接两个字符串，不如直接用+号</strong>，数组中也有此方法，用于两个数组的拼接，那边常用</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str1 = <span class=\"string\">&quot;qx&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> str2 = <span class=\"string\">&quot;chuckle&quot;</span>;</span><br><span class=\"line\">str2 = str1.<span class=\"title function_\">concat</span>(str2);<span class=\"comment\">//qxchuckle</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>split()</code>：字符串转换为数组 【重要】</strong></p>\n<p><strong>功能</strong>：通过指定的分隔符，将字符串拆分成数组，分隔符不会出现在数组中。不传入参数则将整个字符串作为数组的一个元素存入。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;qx,chuckle,轻笑&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>)); <span class=\"comment\">//[&#x27;qx&#x27;, &#x27;chuckle&#x27;, &#x27;轻笑&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;&#x27;</span>)); <span class=\"comment\">//[&#x27;q&#x27;, &#x27;x&#x27;, &#x27;,&#x27;, &#x27;c&#x27;, &#x27;h&#x27;, &#x27;u&#x27;, &#x27;c&#x27;, &#x27;k&#x27;, &#x27;l&#x27;, &#x27;e&#x27;, &#x27;,&#x27;, &#x27;轻&#x27;, &#x27;笑&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>()); <span class=\"comment\">//[&#x27;qx,chuckle,轻笑&#x27;]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>replace()</code>：替换字符串内容</strong></p>\n<p><strong>功能</strong>：将字符串中的指定内容，替换为一段字符串，默认只会替换第一个被匹配到的字符。如果要全局替换，需要使用正则。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">新的字符串 = str.<span class=\"title function_\">replace</span>(被替换的子串，新的子串);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;生活就像海洋，只有咕噜咕噜&quot;</span>;</span><br><span class=\"line\">str = str.<span class=\"title function_\">replace</span>(<span class=\"string\">&#x27;咕噜咕噜&#x27;</span>,<span class=\"string\">&#x27;意志坚强的人才能到达彼岸&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str);<span class=\"comment\">//生活就像海洋，只有意志坚强的人才能到达彼岸</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>repeat()</code>：重复该字符串指定次数</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle!&quot;</span></span><br><span class=\"line\">str = str.<span class=\"title function_\">repeat</span>(<span class=\"number\">2</span>);<span class=\"comment\">//重复两次</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str);<span class=\"comment\">//&#x27;chuckle!chuckle!&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>trim()</code>：去除字符串头尾的空格</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;   a   b   c   &#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str);<span class=\"comment\">//&#x27;   a   b   c   &#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"property\">length</span>);<span class=\"comment\">//15</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">trim</span>());<span class=\"comment\">//&#x27;a   b   c&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">trim</span>().<span class=\"property\">length</span>);<span class=\"comment\">//9</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>toUpperCase()</code> 和 <code>toLowerCase()</code>：大小写转换</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;abcdEFG&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">//转换成小写</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">toLowerCase</span>()); <span class=\"comment\">//abcdefg</span></span><br><span class=\"line\"><span class=\"comment\">//转换成大写</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">toUpperCase</span>()); <span class=\"comment\">//ABCDEFG</span></span><br></pre></td></tr></table></figure>\n<p><strong>html方法</strong>：不常用，多数是拼接成模板字符串返回</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">anchor</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>));<span class=\"comment\">//&lt;a name=&quot;chuckle&quot;&gt;chuckle&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">big</span>());<span class=\"comment\">//&lt;big&gt;chuckle&lt;/big&gt;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">sub</span>());<span class=\"comment\">//&lt;sub&gt;chuckle&lt;/sub&gt;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">sup</span>());<span class=\"comment\">//&lt;sup&gt;chuckle&lt;/sup&gt;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">link</span>(<span class=\"string\">&#x27;https://www.qcqx.cn/&#x27;</span>));<span class=\"comment\">//&lt;a href=&quot;https://www.qcqx.cn/&quot;&gt;chuckle&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">bold</span>());<span class=\"comment\">//&lt;b&gt;chuckle&lt;/b&gt;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"数值对象Number\"><a href=\"#数值对象Number\" class=\"headerlink\" title=\"数值对象Number\"></a>数值对象Number</h1><p><a href=\"/article/3f7cd15d.html#Number数值型\">Number数值型介绍—JavaScript基础笔记(1)</a></p>\n<ol>\n<li><code>Number.isInteger()</code>：判断是否为整数</li>\n<li><code>toFixed(num)</code>：保留小数点后num位（四舍五入），返回字符串</li>\n</ol>\n<p><strong><code>Number.isInteger()</code>：判断是否为整数</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">布尔值 = <span class=\"title class_\">Number</span>.<span class=\"title function_\">isInteger</span>(数字);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>.<span class=\"title function_\">isInteger</span>(a));<span class=\"comment\">//true</span></span><br><span class=\"line\">a = -<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>.<span class=\"title function_\">isInteger</span>(a));<span class=\"comment\">//true</span></span><br><span class=\"line\">a = <span class=\"number\">1.00</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>.<span class=\"title function_\">isInteger</span>(a));<span class=\"comment\">//true,虽然有小数点，但后面都是0，所以会被当做整数</span></span><br><span class=\"line\">a = <span class=\"number\">3.14</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Number</span>.<span class=\"title function_\">isInteger</span>(a));<span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>toFixed(num)</code>：保留小数点后num位（四舍五入）</strong>，返回字符串，将字符串转为整数可用<strong>Number()</strong>，详见<a href=\"/article/3f7cd15d.html#数据类型转换\">数据类型转换—JavaScript基础笔记(1)</a></p>\n<figure class=\"highlight js\"><figcaption><span>注意返回字符串！</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">字符串 = nb.<span class=\"title function_\">toFixed</span>(num);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nb = <span class=\"number\">3.1415926</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(nb.<span class=\"title function_\">toFixed</span>(<span class=\"number\">1</span>));<span class=\"comment\">//3.1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(nb.<span class=\"title function_\">toFixed</span>(<span class=\"number\">3</span>));<span class=\"comment\">//3.142</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(nb.<span class=\"title function_\">toFixed</span>(<span class=\"number\">4</span>));<span class=\"comment\">//3.1416</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"数学对象Math\"><a href=\"#数学对象Math\" class=\"headerlink\" title=\"数学对象Math\"></a>数学对象Math</h1><p><strong>Math</strong>不是一个构造函数，无需创建对象即可直接使用其属性和方法，它是一个工具类，里面封装了数学运算相关的属性和方法。</p>\n<ol>\n<li><code>Math.PI</code>：圆周率</li>\n<li><code>Math.abs()</code>：获取绝对值</li>\n<li><code>Math.random()</code>：生成0-1之间的随机浮点数，[0,1)</li>\n<li><code>Math.floor()</code>：向下取整（往小取值）</li>\n<li><code>Math.ceil()</code>：向上取整（往大取值）</li>\n<li><code>Math.round()</code>：四舍五入取整（正数四舍五入，负数五舍六入）</li>\n<li><code>Math.max(x, y, z)</code>：返回多个数中的最大值</li>\n<li><code>Math.min(x, y, z)</code>：返回多个数中的最小值</li>\n<li><code>Math.pow(x,y)</code>：乘方：返回 x 的 y 次幂</li>\n<li><code>Math.sqrt()</code>：开方：对一个数进行开方运算</li>\n</ol>\n<p><strong><code>Math.abs()</code>：获取绝对值</strong>，可传入字符串，自动做隐式转换。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(<span class=\"number\">10</span>));<span class=\"comment\">//10</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(-<span class=\"number\">10</span>));<span class=\"comment\">//10</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(<span class=\"string\">&#x27;-10&#x27;</span>));<span class=\"comment\">//10</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(-<span class=\"number\">3.14</span>));<span class=\"comment\">//3.14</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(<span class=\"string\">&#x27;123abc&#x27;</span>));<span class=\"comment\">//NaN</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>Math.random()</code>：生成0-1之间的随机浮点数，[0,1)</strong></p>\n<figure class=\"highlight js\"><figcaption><span>一些技巧</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//生成 [0, x) 之间的随机整数</span></span><br><span class=\"line\"><span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*x);</span><br><span class=\"line\"><span class=\"comment\">//生成 [x, y) 之间的随机整数</span></span><br><span class=\"line\"><span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*(y-x)+x)</span><br><span class=\"line\"><span class=\"comment\">//生成 [x, y]之间的随机整数</span></span><br><span class=\"line\"><span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*(y-x+<span class=\"number\">1</span>))+x;</span><br></pre></td></tr></table></figure>\n<h1 id=\"时间对象Date\"><a href=\"#时间对象Date\" class=\"headerlink\" title=\"时间对象Date\"></a>时间对象Date</h1><p><strong>Date</strong>用于处理日期和时间，Date是一个<strong>构造函数</strong>，需要<strong>new实例化</strong>后才能使用。</p>\n<p><strong>无参时获取系统时间</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date);<span class=\"comment\">//Wed Mar 29 2023 15:08:02 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> date);<span class=\"comment\">//object</span></span><br></pre></td></tr></table></figure>\n<p><strong>传递参数</strong>,意思是给时间对象Date设定一个具体的时间，基准时间为<strong>1970年1月1日 00:00:00</strong>，具体小时差别要看时区，东八区+8小时。</p>\n<figure class=\"highlight js\"><figcaption><span>使用方法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(传入毫秒数（时间戳）);<span class=\"comment\">//表示基准时间加上这个毫秒数</span></span><br><span class=\"line\"><span class=\"comment\">//至少要两个参数，不能缺少年，会自动进位，其余默认都是首时间</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(年,月,日,时,分,秒,毫秒);<span class=\"comment\">//月份是0到11之间的整数值，表示从一月到十二月</span></span><br><span class=\"line\"><span class=\"comment\">//传入时间字符串，有格式要求，星期 月 日 年 时:分:秒</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(时间字符串);</span><br><span class=\"line\"><span class=\"comment\">//Thu Jan 01 1970 08:00:00 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//传入2000毫秒，表示基准时间过2s</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2000</span>);<span class=\"comment\">//Thu Jan 01 1970 08:00:02 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"comment\">//设定日期为2023年3月，传入2代表3月</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2023</span>,<span class=\"number\">2</span>);<span class=\"comment\">//Wed Mar 01 2023 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"comment\">//传入时间字符串，有格式要求，分隔符任意,可以看到，星期不对会自动修正</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"string\">&#x27;Wed Apr 21 2023&#x27;</span>);<span class=\"comment\">//Fri Apr 21 2023 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"string\">&quot;2023/3/29 11:11:11&quot;</span>);<span class=\"comment\">//Wed Mar 29 2023 11:11:11 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure>\n<p><strong>常用方法</strong></p>\n<ol>\n<li><code>getFullYear()</code>：获取年份</li>\n<li><code>getMonth()</code>：获取月，0到11之间的整数值，表示从一月到十二月</li>\n<li><code>getDate()</code>：获取日：1-31</li>\n<li><code>getDay()</code>：获取星期：0-6，0代表星期日</li>\n<li><code>getHours()</code>：获取小时：0-23</li>\n<li><code>getMinutes()</code>：获取分钟：0-59</li>\n<li><code>getSeconds()</code>：获取秒：0-59</li>\n<li><code>getMilliseconds()</code>：获取毫秒</li>\n<li><code>setFullYear()</code>：修改日期，参数：年,月,日,时,分,秒,毫秒。返回时间戳</li>\n<li><code>toUTCString()</code>：将当日的日期（根据 UTC）转换为字符串</li>\n<li><code>toJSON()</code>：将日期转为json格式</li>\n<li><code>getTime()</code>：获取时间戳</li>\n<li><code>toLocaleString()</code> 格式化输出 2023/4/12 09:39:49</li>\n</ol>\n<figure class=\"highlight js\"><figcaption><span>举例：</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">1680076326495</span>);<span class=\"comment\">//Wed Mar 29 2023 15:52:06 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getFullYear</span>());<span class=\"comment\">//2023</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getMonth</span>());<span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getDate</span>());<span class=\"comment\">//29</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getDay</span>());<span class=\"comment\">//3</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getHours</span>());<span class=\"comment\">//15</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getMinutes</span>());<span class=\"comment\">//52</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getSeconds</span>());<span class=\"comment\">//6</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">getMilliseconds</span>());<span class=\"comment\">//495</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong><code>toUTCString()</code>：将当日的日期（根据 UTC）转换为字符串</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> d = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();<span class=\"comment\">//Wed Mar 29 2023 16:11:02 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\">d.<span class=\"title function_\">toUTCString</span>()<span class=\"comment\">//&#x27;Wed, 29 Mar 2023 08:11:02 GMT&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>setFullYear()</code>：修改日期，参数：年,月,日,时,分,秒,毫秒</strong>,返回时间戳</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> d = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2023</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> t = d.<span class=\"title function_\">setFullYear</span>(<span class=\"number\">2020</span>,<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(t);<span class=\"comment\">//1604160000000</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(t));<span class=\"comment\">//Sun Nov 01 2020 00:00:00 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>toJSON()</code>：将日期转为json格式</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> d = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2023</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> t = d.<span class=\"title function_\">toJSON</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(t);<span class=\"comment\">//2022-12-31T16:00:00.000Z</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"获取时间戳\"><a href=\"#获取时间戳\" class=\"headerlink\" title=\"获取时间戳\"></a>获取时间戳</h2><p><strong><code>getTime()</code>：获取时间戳</strong>，也就是返回从基准时间至今的毫秒数(时间戳也可以是秒数，但函数返回的是毫秒数)。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2023</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date);<span class=\"comment\">//Sun Jan 01 2023 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> time = date.<span class=\"title function_\">getTime</span>();<span class=\"comment\">//1672502400000</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(time);<span class=\"comment\">//Sun Jan 01 2023 00:00:00 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure>\n<p>还有其它方法可以获取时间戳：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> time1 = +<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time1);<span class=\"comment\">//1680076996003</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> time2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time2);<span class=\"comment\">//1680076996003</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> time3 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">valueOf</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time3);<span class=\"comment\">//1680076996003</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> time4 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>() * <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time4);<span class=\"comment\">//1680076996003</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> time5 = <span class=\"title class_\">Number</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>());</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time5);<span class=\"comment\">//1680076996003</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>获取<strong>当前时间的时间戳</strong>可以用这种方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>());<span class=\"comment\">//1680077268109</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"转为指定格式\"><a href=\"#转为指定格式\" class=\"headerlink\" title=\"转为指定格式\"></a>转为指定格式</h2><p>使用 <code>toLocaleString()</code> 简单格式化输出</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>();</span><br><span class=\"line\"><span class=\"comment\">// 2023/4/12 09:39:49</span></span><br></pre></td></tr></table></figure>\n<p>也可以通过Date的<strong>prototype属性</strong>在原型上添加自定义的属性和方法，给Date对象添加<strong>format()</strong>方法，该方法封装如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Date</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">format</span> = <span class=\"keyword\">function</span>(<span class=\"params\">fmt</span>) &#123; </span><br><span class=\"line\">  <span class=\"keyword\">var</span> o = &#123; </span><br><span class=\"line\">    <span class=\"string\">&quot;M+&quot;</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">getMonth</span>()+<span class=\"number\">1</span>,                 <span class=\"comment\">//月份 </span></span><br><span class=\"line\">    <span class=\"string\">&quot;d+&quot;</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">getDate</span>(),                    <span class=\"comment\">//日 </span></span><br><span class=\"line\">    <span class=\"string\">&quot;h+&quot;</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">getHours</span>(),                   <span class=\"comment\">//小时 </span></span><br><span class=\"line\">    <span class=\"string\">&quot;m+&quot;</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">getMinutes</span>(),                 <span class=\"comment\">//分 </span></span><br><span class=\"line\">    <span class=\"string\">&quot;s+&quot;</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">getSeconds</span>(),                 <span class=\"comment\">//秒 </span></span><br><span class=\"line\">    <span class=\"string\">&quot;q+&quot;</span> : <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>((<span class=\"variable language_\">this</span>.<span class=\"title function_\">getMonth</span>()+<span class=\"number\">3</span>)/<span class=\"number\">3</span>), <span class=\"comment\">//季度 </span></span><br><span class=\"line\">    <span class=\"string\">&quot;S&quot;</span>  : <span class=\"variable language_\">this</span>.<span class=\"title function_\">getMilliseconds</span>()             <span class=\"comment\">//毫秒 </span></span><br><span class=\"line\">  &#125;; </span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"regexp\">/(y+)/</span>.<span class=\"title function_\">test</span>(fmt)) &#123;</span><br><span class=\"line\">    fmt=fmt.<span class=\"title function_\">replace</span>(<span class=\"title class_\">RegExp</span>.<span class=\"property\">$1</span>, (<span class=\"variable language_\">this</span>.<span class=\"title function_\">getFullYear</span>()+<span class=\"string\">&quot;&quot;</span>).<span class=\"title function_\">substr</span>(<span class=\"number\">4</span> - <span class=\"title class_\">RegExp</span>.<span class=\"property\">$1</span>.<span class=\"property\">length</span>)); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> o) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;(&quot;</span>+ k +<span class=\"string\">&quot;)&quot;</span>).<span class=\"title function_\">test</span>(fmt))&#123;</span><br><span class=\"line\">      fmt = fmt.<span class=\"title function_\">replace</span>(<span class=\"title class_\">RegExp</span>.<span class=\"property\">$1</span>, (<span class=\"title class_\">RegExp</span>.<span class=\"property\">$1</span>.<span class=\"property\">length</span>==<span class=\"number\">1</span>) ? (o[k]) : ((<span class=\"string\">&quot;00&quot;</span>+ o[k]).<span class=\"title function_\">substr</span>((<span class=\"string\">&quot;&quot;</span>+ o[k]).<span class=\"property\">length</span>)));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fmt; </span><br><span class=\"line\">&#125;        </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>使用案例,分隔符任意</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">1680076326495</span>);<span class=\"comment\">//Wed Mar 29 2023 15:52:06 GMT+0800 (中国标准时间)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> time = date.<span class=\"title function_\">format</span>(<span class=\"string\">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time);<span class=\"comment\">// 2023-03-29 15:52:06</span></span><br><span class=\"line\">time = date.<span class=\"title function_\">format</span>(<span class=\"string\">&quot;yyyy/MM/dd&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time);<span class=\"comment\">// 2023/03/29</span></span><br><span class=\"line\">time = date.<span class=\"title function_\">format</span>(<span class=\"string\">&quot;yyyy年MM月dd日 hh时mm分ss秒&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(time);<span class=\"comment\">// 2023年03月29日 15时52分06秒</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>还可引入各种<strong>时间库</strong>来处理，如<a href=\"http://momentjs.cn/\">momentjs</a>、<a href=\"https://day.js.org/\">Day.js</a></p>\n<h1 id=\"数组对象Array\"><a href=\"#数组对象Array\" class=\"headerlink\" title=\"数组对象Array\"></a>数组对象Array</h1><p>下面是一个普通对象和数组对象：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span> , <span class=\"attr\">age</span>: <span class=\"number\">19</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&quot;chuckle&quot;</span>,<span class=\"string\">&quot;19&quot;</span>];</span><br></pre></td></tr></table></figure>\n<p>普通对象使用字符串作为属性名，而数组使用<strong>数字作为索引</strong>，数组适合用于存储同类型的一组数据，如列表数据。</p>\n<p>数组中的元素可以是<strong>任意的数据类型</strong>，可以是对象、函数、数组。也可以同时存储<strong>不同类型数据</strong>。</p>\n<p><strong>1、使用字面量创建数组：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = []; <span class=\"comment\">// 创建空数组</span></span><br><span class=\"line\">arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]; <span class=\"comment\">// 带初始值的数组</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、使用构造函数创建数组对象：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(); <span class=\"comment\">// 创建空数组</span></span><br><span class=\"line\">arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(<span class=\"number\">4</span>); <span class=\"comment\">// 创建大小为4的数组，初始值都为空属性</span></span><br><span class=\"line\">arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>); <span class=\"comment\">// 带初始值的数组</span></span><br></pre></td></tr></table></figure>\n<p>JS中的数组会<strong>自动扩容</strong>，当我们访问数组大小以外的下标时，会返回undefined，但可以直接给超过数组大小的下标赋值，并自动给扩容的下标赋空属性，但注意，<strong>空属性不计入数组的长度 arr.length</strong>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr); <span class=\"comment\">// [1, 2, 3]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"property\">length</span>); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr[<span class=\"number\">6</span>]);<span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">6</span>] = <span class=\"number\">7</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr); <span class=\"comment\">// [1, 2, 3, 空属性 × 3, 7]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr[<span class=\"number\">4</span>]); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"property\">length</span>); <span class=\"comment\">// 4</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"解构赋值\"><a href=\"#解构赋值\" class=\"headerlink\" title=\"解构赋值\"></a>解构赋值</h2><p>解构赋值是ES6中新增的一种赋值方式。可以方便地把数组中的元素按顺序赋值给其他多个变量。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, [<span class=\"number\">3</span>,<span class=\"number\">4</span>]];</span><br><span class=\"line\"><span class=\"keyword\">var</span> [a, b, c] = arr;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(c);<span class=\"comment\">// [3,4]</span></span><br></pre></td></tr></table></figure>\n<p>先指定变量的默认值，<strong>会被覆盖</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, [<span class=\"number\">3</span>,<span class=\"number\">4</span>]];</span><br><span class=\"line\"><span class=\"keyword\">var</span> [a, b = <span class=\"number\">0</span>, c = <span class=\"number\">0</span>, d = <span class=\"number\">0</span>] = arr;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(c);<span class=\"comment\">// [3,4]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(d);<span class=\"comment\">// 0,数组中无第四个元素，保持原值</span></span><br></pre></td></tr></table></figure>\n<p>ES6中新增的<strong>扩展运算符</strong><code>...</code>打包<strong>剩余的数据</strong>作为一个<strong>新数组</strong>。<strong>打包时</strong>扩展运算符只能写在最后。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> [a, ...b] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b); <span class=\"comment\">// [2, 3]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"数组属性和方法\"><a href=\"#数组属性和方法\" class=\"headerlink\" title=\"数组属性和方法\"></a>数组属性和方法</h2><p><code>arr.length</code>：<strong>数组的长度</strong>，数组中元素的个数</p>\n<p><strong>数组的方法：</strong></p>\n<ol>\n<li><strong>类型相关方法：</strong><ol>\n<li><code>Array.isArray()</code>：判断是否为数组</li>\n<li><code>toString()</code>：将数组转换为字符串</li>\n<li><code>join()</code>：将数组转换为字符串,可以指定分隔符</li>\n<li><code>Array.from()</code>：将<strong>伪数组</strong>或可遍历对象转为真数组</li>\n<li><code>Array.of(a,b,c)</code>：将多个值按顺序转为字符串</li>\n<li>字符串的方法：<code>split()</code>：将字符串按指定的分隔符，组装为数组</li>\n</ol>\n</li>\n<li><strong>元素的添加和删除：</strong><ol>\n<li><code>push()</code>：从数组<strong>尾部插入</strong>任意数量元素，返回<strong>新数组的长度</strong>，<strong>改变原数组</strong></li>\n<li><code>pop()</code>：删除数组中<strong>最后一个</strong>元素，返回被删除的元素，<strong>改变原数组</strong></li>\n<li><code>unshift()</code>：从数组<strong>头部插入</strong>任意数量元素，返回<strong>新数组的长度</strong>，<strong>改变原数组</strong></li>\n<li><code>shift()</code>：删除数组中<strong>第一个</strong>元素，返回被删除的元素，<strong>改变原数组</strong></li>\n<li><code>splice()</code>：从数组中删除<strong>指定的</strong>任意数量元素，返回<strong>被删除元素</strong>组成的新数组，<strong>改变原数组</strong></li>\n<li><code>slice()</code>：从数组中提取<strong>指定的</strong>任意数量元素，返回<strong>新数组</strong>，<strong>不改变原数组</strong></li>\n<li><code>concat()</code>：合并多个数组，返回合并后的新数组，<strong>不改变原数组</strong></li>\n<li><code>fill()</code>：用固定的值<strong>填充数组</strong>，返回新数组，<strong>改变原数组</strong></li>\n</ol>\n</li>\n<li><strong>数组排序：</strong><ol>\n<li><code>reverse()</code>：反转数组，返回反转后的数组，<strong>改变原数组</strong></li>\n<li><code>sort()</code>：排序，元素默认按照<strong>Unicode编码</strong>，从小到大进行排序，<strong>改变原数组</strong></li>\n</ol>\n</li>\n<li><strong>查找数组元素：</strong><ol>\n<li><code>indexOf()</code>：<strong>从前往后</strong>搜索数组中的元素，并返回它<strong>首次</strong>所在位置的索引。</li>\n<li><code>lastIndexOf()</code>：<strong>从后往前</strong>搜索数组中的元素，并返回它<strong>首次</strong>所在位置的索引。</li>\n<li><code>includes()</code>：判断数组是否包含一个指定的值，返回<strong>布尔</strong></li>\n<li><code>find(function())</code>：返回<strong>第一个</strong>符合传入测试（函数）条件的数组元素。</li>\n<li><code>findIndex(function())</code>：返回<strong>第一个</strong>符合传入测试（函数）条件的数组元素的<strong>索引</strong>。</li>\n<li><code>every(function())</code>：检测数组<strong>所有元素</strong>是否<strong>都</strong>符合指定(函数)条件，返回<strong>布尔</strong></li>\n<li><code>some(function())</code>：检测数组是否<strong>存在</strong>符合指定(函数)条件的元素，返回<strong>布尔</strong></li>\n<li><code>valueOf()</code>：返回数组本身，意义不大，数组名就代表该数组了</li>\n</ol>\n</li>\n<li><strong>遍历数组：</strong><ol>\n<li><code>for循环</code>遍历，大多数语言对于数组通用的遍历方法</li>\n<li><code>forEach()</code>传入一个<strong>回调函数</strong>作为参数，它由我们创建但是不由我们调用，数组中有几个元素，该回调函数就会执行几次，没用返回值</li>\n<li><code>for of</code>，ES6新增循环遍历数组方法</li>\n<li><code>map()</code>，遍历数组，并对数组中的每一项进行加工。</li>\n<li><code>filter()</code>：数组中的每一项运行回调函数，回调函数返回结果是<strong>true</strong>的项（符合条件的项），<strong>组成新数组返回，不改变原数组</strong></li>\n<li><code>reduce()</code>：参数是接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值返回</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"类型相关方法\"><a href=\"#类型相关方法\" class=\"headerlink\" title=\"类型相关方法\"></a>类型相关方法</h3><p><strong><code>Array.isArray()</code>：判断是否为数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(a));<span class=\"comment\">//true</span></span><br><span class=\"line\">a = &#123;&#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(a));<span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>toString()</code>：将数组转换为字符串</strong>，每一项用逗号分割。</p>\n<p>大多数的数据类型都可以使用.toString()方法，将其转换为字符串。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">1</span>,[<span class=\"number\">2</span>,<span class=\"number\">3</span>],&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;chuckle&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">19</span>&#125;,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;&#125;];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">toString</span>());<span class=\"comment\">//1,2,3,[object Object],function()&#123;&#125;</span></span><br></pre></td></tr></table></figure>\n<p>还可以使用<code>String()</code>将数组转换为字符串</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">1</span>,[<span class=\"number\">2</span>,<span class=\"number\">3</span>],&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;chuckle&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">19</span>&#125;,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;&#125;];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(a));<span class=\"comment\">//1,2,3,[object Object],function()&#123;&#125;</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>join()</code>：将数组转换为字符串,可以指定分隔符</strong>，默认为逗号分割。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">1</span>,[<span class=\"number\">2</span>,<span class=\"number\">3</span>],&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;chuckle&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">19</span>&#125;,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;&#125;];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">join</span>());<span class=\"comment\">//1,2,3,[object Object],function()&#123;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27; &#x27;</span>));<span class=\"comment\">//1 2,3 [object Object] function()&#123;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;|&#x27;</span>));<span class=\"comment\">//1|2,3|[object Object]|function()&#123;&#125;</span></span><br></pre></td></tr></table></figure>\n<p>可以使用<code>JSON.stringify()</code>将某个对象转换成 JSON 字符串形式，数组中的空属性会转为null。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [];</span><br><span class=\"line\">arr[<span class=\"number\">5</span>] = <span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr); <span class=\"comment\">// [空属性 × 5, 6]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr)); <span class=\"comment\">// [null,null,null,null,null,6]</span></span><br></pre></td></tr></table></figure>\n<p><strong>字符串的方法：<code>split()</code>：将字符串按指定的分隔符，组装为数组</strong>，默认为逗号分割，找不到指定分隔符时也会用逗号分割</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;qx,chuckle,轻笑&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>());<span class=\"comment\">//[&#x27;qx,chuckle,轻笑&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;&#x27;</span>));<span class=\"comment\">//[&#x27;q&#x27;, &#x27;x&#x27;, &#x27;,&#x27;, &#x27;c&#x27;, &#x27;h&#x27;, &#x27;u&#x27;, &#x27;c&#x27;, &#x27;k&#x27;, &#x27;l&#x27;, &#x27;e&#x27;, &#x27;,&#x27;, &#x27;轻&#x27;, &#x27;笑&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;-&#x27;</span>));<span class=\"comment\">//[&#x27;qx,chuckle,轻笑&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;c&#x27;</span>));<span class=\"comment\">// [&#x27;qx,&#x27;, &#x27;hu&#x27;, &#x27;kle,轻笑&#x27;]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>Array.from()</code>：将伪数组或可遍历对象转为真数组</strong></p>\n<p><strong>伪数组</strong>也有length属性，可以使用索引对数据进行操作，但是没有<strong>真数组</strong>的方法，因为该对象的原型不指向Array，需要将伪转真才能调用数组的方法。</p>\n<p>伪数组一般不会直接创建，而是通过一些js操作得到，通过浏览器方法获取标签、字符串、接受实参的函数arguments得到参数的伪数组，因为伪数组具有长度和索引，所以可以使用循环语句遍历。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;chuckle&quot;</span>;</span><br><span class=\"line\">str.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;qx&#x27;</span>);<span class=\"comment\">//报错str.push is not a function</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(str);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//[&#x27;c&#x27;, &#x27;h&#x27;, &#x27;u&#x27;, &#x27;c&#x27;, &#x27;k&#x27;, &#x27;l&#x27;, &#x27;e&#x27;]</span></span><br><span class=\"line\">a.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;qx&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// [&#x27;c&#x27;, &#x27;h&#x27;, &#x27;u&#x27;, &#x27;c&#x27;, &#x27;k&#x27;, &#x27;l&#x27;, &#x27;e&#x27;, &#x27;qx&#x27;]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>Array.of(a,b,c)</code>：将多个值按顺序转为字符串</strong>，和<code>new Array()</code>差不多，区别是只有一个参数时，在<strong>new Array()</strong>表示数组的长度，而在<strong>of()</strong>仍然代表数组的元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">of</span>(<span class=\"number\">1</span>, [<span class=\"number\">2</span>,<span class=\"number\">3</span>], <span class=\"string\">&#x27;qx&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [1, Array(2), &#x27;qx&#x27;]</span></span><br><span class=\"line\">arr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">of</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [3]</span></span><br><span class=\"line\">arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [null,null,null]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"元素的添加和删除\"><a href=\"#元素的添加和删除\" class=\"headerlink\" title=\"元素的添加和删除\"></a>元素的添加和删除</h3><p><strong><code>push()</code>：</strong>从数组<strong>尾部插入</strong>任意数量元素，返回<strong>新数组的长度</strong>，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">push</span>(<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"string\">&#x27;123&#x27;</span>));<span class=\"comment\">// 6</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1, 2, 3, 4, 5, &#x27;123&#x27;]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>pop()</code>：</strong>删除数组中<strong>最后一个</strong>元素，返回<strong>被删除</strong>的元素，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">pop</span>());<span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1,2]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>unshift()</code>：</strong>从数组<strong>头部插入</strong>任意数量元素，返回<strong>新数组的长度</strong>，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">unshift</span>(<span class=\"string\">&#x27;0123&#x27;</span>,<span class=\"number\">0</span>));<span class=\"comment\">// 5</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [&quot;0123&quot;,0,1,2,3]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>shift()</code>：</strong>删除数组中<strong>第一个</strong>元素，返回<strong>被删除</strong>的元素，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">shift</span>());<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [2,3]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>splice()</code>：</strong>从数组中删除<strong>指定的</strong>任意数量元素，返回<strong>被删除元素</strong>组成的新数组，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><figcaption><span>语法，索引值为负代表从倒数第几个开始删</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">新数组 = 原数组.<span class=\"title function_\">splice</span>(起始索引);</span><br><span class=\"line\">新数组 = 原数组.<span class=\"title function_\">splice</span>(起始索引, 需要删除的个数);</span><br><span class=\"line\">新数组 = 原数组.<span class=\"title function_\">splice</span>(起始索引, 需要删除的个数, 新的元素<span class=\"number\">1</span>, 新的元素<span class=\"number\">2.</span>..);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">splice</span>(<span class=\"number\">1</span>));<span class=\"comment\">// 删除下标1后的所有元素，[2, 3, 4, 5]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">splice</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>));<span class=\"comment\">// 从下标1开始删两个元素，包括下标1，[2, 3]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1,4,5]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">splice</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"string\">&#x27;a&#x27;</span>,<span class=\"string\">&#x27;b&#x27;</span>));<span class=\"comment\">// 删完后再从删除的起始位置插入&#x27;a&#x27;,&#x27;b&#x27;元素，[2, 3]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1,&quot;a&quot;,&quot;b&quot;,4,5]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">splice</span>(-<span class=\"number\">2</span>));<span class=\"comment\">// 从倒数第2个元素开始删后面的所有元素，[4, 5]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1,2,3]</span></span><br></pre></td></tr></table></figure>\n<p>搭配<code>indexOf()</code>，删除指定内容的元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">splice</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"number\">3</span>), <span class=\"number\">1</span>));<span class=\"comment\">// 删除3这个元素，[3]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">// [1,2,4,5]</span></span><br></pre></td></tr></table></figure>\n<p><code>slice()</code>：从数组中提取<strong>指定的</strong>任意数量元素，返回<strong>新数组</strong>，<strong>不改变原数组</strong></p>\n<figure class=\"highlight js\"><figcaption><span>语法，负数代表倒数索引</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">新数组 = 原数组.<span class=\"title function_\">slice</span>(开始位置的索引);</span><br><span class=\"line\">新数组 = 原数组.<span class=\"title function_\">slice</span>(开始位置的索引, 结束位置的索引);<span class=\"comment\">//提取的元素中，包含开始位置，不包含结束位置</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">slice</span>()); <span class=\"comment\">// 不带参数提取所有元素,[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>)); <span class=\"comment\">// 从下标2提取后面所有元素，[&#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">slice</span>(-<span class=\"number\">2</span>)); <span class=\"comment\">// 提取最后两个元素,[&#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>,<span class=\"number\">3</span>)); <span class=\"comment\">// 提取[1,3)索引的元素,[&#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">slice</span>(<span class=\"number\">3</span>,<span class=\"number\">1</span>)); <span class=\"comment\">// 范围内无元素，提取为空数组,[]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>concat()</code>：</strong>合并多个数组，返回合并后的新数组，<strong>不改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr3 = [<span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr1.<span class=\"title function_\">concat</span>(arr2,arr3));<span class=\"comment\">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr1);<span class=\"comment\">// 不改变原数组 [1, 2, 3]</span></span><br></pre></td></tr></table></figure>\n<p><strong>数组合并的另一种方式：</strong>使用扩展运算符<code>...</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">0</span>, ...arr1, ...arr2, <span class=\"number\">7</span>];<span class=\"comment\">//[0, 1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>fill()</code>：</strong>用固定的值<strong>填充数组</strong>，返回新数组，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 数组中每一个元素都替换为该值</span></span><br><span class=\"line\">新数组 = 数组.<span class=\"title function_\">fill</span>(固定值);</span><br><span class=\"line\"><span class=\"comment\">//从起始位置开始填充</span></span><br><span class=\"line\">新数组 = 数组.<span class=\"title function_\">fill</span>(固定值, 起始索引);</span><br><span class=\"line\"><span class=\"comment\">//从起始位置到结束位置填充，左闭右开</span></span><br><span class=\"line\">新数组 = 数组.<span class=\"title function_\">fill</span>(固定值, 起始索引, 结束索引);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(<span class=\"number\">6</span>).<span class=\"title function_\">fill</span>(<span class=\"number\">0</span>)<span class=\"comment\">//创建一个元素均为0，长度为6的数组</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [0, 0, 0, 0, 0, 0]</span></span><br><span class=\"line\">arr.<span class=\"title function_\">fill</span>(<span class=\"string\">&#x27;a&#x27;</span>,<span class=\"number\">2</span>);<span class=\"comment\">//索引2后的所有元素填充为&#x27;a&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [0, 0, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;]</span></span><br><span class=\"line\">arr.<span class=\"title function_\">fill</span>(<span class=\"string\">&#x27;b&#x27;</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>);<span class=\"comment\">//索引[2,4)的元素填充为&#x27;b&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [0, 0, &#x27;b&#x27;, &#x27;b&#x27;, &#x27;a&#x27;, &#x27;a&#x27;]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"数组排序\"><a href=\"#数组排序\" class=\"headerlink\" title=\"数组排序\"></a>数组排序</h3><p><code>reverse()</code>：反转数组，返回反转后的数组，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>, <span class=\"string\">&#x27;e&#x27;</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">reverse</span>());<span class=\"comment\">// [&#x27;e&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [&#x27;e&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span></span><br></pre></td></tr></table></figure>\n<p><code>sort()</code>：排序，元素默认按照<strong>Unicode编码</strong>（逐个字符比较，非字符串先隐式转换为字符串），从小到大进行排序，返回排序后的新数组，<strong>改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;e&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>];<span class=\"comment\">// 乱序</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">sort</span>());<span class=\"comment\">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr);<span class=\"comment\">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br></pre></td></tr></table></figure>\n<p>当数组内元素是数字时，不能直接使用sort()排序，因为默认是按逐个字符的Unicode编码进行排序</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">7</span>, <span class=\"number\">3</span>, <span class=\"number\">11</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"comment\">//11排到了3的前面，没有按我们所想的从小到大排</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">sort</span>());<span class=\"comment\">//[1, 11, 3, 4, 5, 7]</span></span><br></pre></td></tr></table></figure>\n<p>对于非字符串排序（<strong>数字的排序</strong>），需要传入一个比较函数，有两个参数 a 和 b（可以是数组中<strong>任意元素</strong>）</p>\n<p><code>arr.sort(Fun(a, b))</code>，a：<strong>第一个</strong>用于比较的元素，b：<strong>第二个</strong>用于比较的元素，数组按照<strong>比较函数的返回值</strong>进行排序，而不是Unicode编码。</p>\n<p>JS规定了<strong>Fun(a, b)返回值</strong>的效果：</p>\n<ol>\n<li>返回值<strong>小于0</strong>，让a排b<strong>前面</strong></li>\n<li>返回值<strong>大于0</strong>，让a排b<strong>后面</strong></li>\n<li>返回值<strong>等于0</strong>，a,b的相对位置<strong>不变</strong></li>\n</ol>\n<p>对于[7, 3, 11, 4, 1, 5]这个数组，比较11和4时，不带比较函数，会按Unicode编码从小到大排序，11会排在4前面，带比较函数后，因为a-b=7大于零，所以会让4排11前面。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//实现整体升序(小到大)</span></span><br><span class=\"line\">arr.<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a - b);</span><br><span class=\"line\"><span class=\"comment\">//实现整体降序(大到小)</span></span><br><span class=\"line\">arr.<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> b - a);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>实际用用</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">7</span>, <span class=\"number\">3</span>, <span class=\"number\">11</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\">arr.<span class=\"title function_\">sort</span>();<span class=\"comment\">//[1, 11, 3, 4, 5, 7]</span></span><br><span class=\"line\">arr.<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a - b);<span class=\"comment\">// [1, 3, 4, 5, 7, 11]</span></span><br><span class=\"line\">arr.<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> b - a);<span class=\"comment\">// [11, 7, 5, 4, 3, 1]</span></span><br></pre></td></tr></table></figure>\n<p><strong>Fun(a, b)</strong>具体比较什么，什么情况返回大于0的数，什么时候返回小于0，需要自己去编写，所以可以实现商品的按价格排序：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//这个数组中存放了几个商品对象，试着让它们按价格升序排序</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> commodityList = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;biscuit&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">price</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Coke&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">price</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;toy&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">price</span>: <span class=\"number\">8</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;bread&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">price</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\">commodityList.<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 比较价格，规范起见，都进行parseInt()转换，也可以用parseFloat()，看业务需要</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(a.<span class=\"property\">price</span>) - <span class=\"built_in\">parseInt</span>(b.<span class=\"property\">price</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(commodityList));</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>输出如下</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">[ </span><br><span class=\"line\">  &#123;<span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;Coke&quot;</span>,<span class=\"string\">&quot;price&quot;</span>:<span class=\"number\">3</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;bread&quot;</span>,<span class=\"string\">&quot;price&quot;</span>:<span class=\"number\">5</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;toy&quot;</span>,<span class=\"string\">&quot;price&quot;</span>:<span class=\"number\">8</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;biscuit&quot;</span>,<span class=\"string\">&quot;price&quot;</span>:<span class=\"number\">10</span>&#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<h3 id=\"查找数组元素\"><a href=\"#查找数组元素\" class=\"headerlink\" title=\"查找数组元素\"></a>查找数组元素</h3><p><strong><code>indexOf()</code>：</strong> <strong>从前往后</strong>搜索数组中的元素，并返回它<strong>首次</strong>所在位置的索引。<br><strong><code>lastIndexOf()</code>：</strong> <strong>从后往前</strong>搜索数组中的元素，并返回它<strong>首次</strong>所在位置的索引。</p>\n<p>找到元素返回其索引，没找到返回<strong>-1</strong>，<strong>严格类型约束</strong>，类似===。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"string\">&#x27;2&#x27;</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"number\">1</span>));<span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;1&#x27;</span>));<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;2&#x27;</span>));<span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"number\">2</span>));<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"number\">3</span>));<span class=\"comment\">// -1</span></span><br></pre></td></tr></table></figure>\n<p>可以指定第二个参数，指定查找的起始位置，包括该位置</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>];</span><br><span class=\"line\"><span class=\"comment\">//正着从数组一半开始找</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"number\">1</span>, <span class=\"built_in\">parseInt</span>(arr.<span class=\"property\">length</span>/<span class=\"number\">2</span>)));<span class=\"comment\">// 6</span></span><br><span class=\"line\"><span class=\"comment\">//倒着从数组一半开始找</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">lastIndexOf</span>(<span class=\"number\">1</span>, <span class=\"built_in\">parseInt</span>(arr.<span class=\"property\">length</span>/<span class=\"number\">2</span>)));<span class=\"comment\">// 0</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>includes()</code>：</strong>判断数组是否包含一个指定的值，<strong>严格类型约束</strong>，返回<strong>布尔</strong>，可以加上第二个参数规定查找的起始位置。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">includes</span>(<span class=\"number\">1</span>)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;1&#x27;</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">includes</span>(<span class=\"number\">2</span>, <span class=\"number\">2</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"number\">2</span>)); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>find(function())</code>：</strong>返回<strong>第一个</strong>符合传入测试（函数）条件的数组元素。<br><strong><code>findIndex(function())</code>：</strong>返回<strong>第一个</strong>符合传入测试（函数）条件的数组元素的<strong>索引</strong>。</p>\n<p>找到符合条件的第一个元素就停止查找，没找到返回<strong>find()返回undefined</strong>，<strong>findIndex()返回-1</strong></p>\n<figure class=\"highlight js\"><figcaption><span>找到大于30的第一个元素</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>, <span class=\"number\">60</span>];</span><br><span class=\"line\"><span class=\"comment\">//用find</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">find</span>(<span class=\"function\">(<span class=\"params\">item, index, array</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// item是元素内容，index是该元素索引，array是该数组</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> item &gt; <span class=\"number\">30</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);<span class=\"comment\">// 40</span></span><br><span class=\"line\"><span class=\"comment\">//用findIndex</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">findIndex</span>(<span class=\"function\">(<span class=\"params\">item, index, array</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// item是元素内容，index是该元素索引，array是该数组</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> item &gt; <span class=\"number\">30</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);<span class=\"comment\">// 3</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><code>every(function())</code>：检测数组<strong>所有元素</strong>是否<strong>都</strong>符合指定(函数)条件，返回<strong>布尔</strong>，有一项返回 false 立刻停止遍历。<br><code>some(function())</code>：检测数组是否<strong>存在</strong>符合指定(函数)条件的元素，返回<strong>布尔</strong>，有一项返回 true 立刻停止遍历。</p>\n<p><strong>every()：</strong>全部真，才为真，<strong>some()：</strong>一个真，就为真，</p>\n<figure class=\"highlight js\"><figcaption><span>every举例</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>, <span class=\"string\">&#x27;40&#x27;</span>, <span class=\"string\">&#x27;50&#x27;</span>, <span class=\"string\">&#x27;60&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">every</span>(<span class=\"function\">(<span class=\"params\">item, index, array</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// item是元素内容，index是该元素索引，array是该数组</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> item &gt; <span class=\"number\">0</span>;<span class=\"comment\">// 判断数组中元素是否都大于0，字符串会隐式转为数值</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);<span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>some举例</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>, <span class=\"string\">&#x27;40&#x27;</span>, <span class=\"string\">&#x27;50&#x27;</span>, <span class=\"string\">&#x27;60&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">some</span>(<span class=\"function\">(<span class=\"params\">item, index, array</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// item是元素内容，index是该元素索引，array是该数组</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> item &gt; <span class=\"number\">30</span>;<span class=\"comment\">// 判断是否有大于0的元素，字符串会隐式转为数值</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);<span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"遍历数组\"><a href=\"#遍历数组\" class=\"headerlink\" title=\"遍历数组\"></a>遍历数组</h3><p><strong><code>for循环</code>遍历</strong>，大多数语言对于数组通用的遍历方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//1 2 3 4 5</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>\n<p>这不够优雅，JS有更简单便捷遍历数组的方法</p>\n<p><strong><code>forEach()</code></strong>传入一个<strong>回调函数</strong>作为参数，它由我们创建但是不由我们调用，数组中有几个元素，该回调函数就会执行几次，没用返回值</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">//做些事情</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><strong>回调函数中传递三个参数：</strong></p>\n<ol>\n<li><strong>参数1（item）：</strong>当前正在遍历的元素</li>\n<li><strong>参数2（index）：</strong>当前正在遍历的元素的索引</li>\n<li><strong>参数3（array）：</strong>正在遍历的数组</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;index&#125;</span>:<span class=\"subst\">$&#123;item&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//0:1 1:2 2:3 3:4 4:5</span></span><br></pre></td></tr></table></figure>\n<p>在<strong>forEach()</strong>的回调函数中<strong>不能通过参数1（item）直接修改数组中的元素</strong>，但元素是一个对象时，可以访问并修改该对象的属性，这是因为数组中存放的是该对象的引用（地址）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\titem += <span class=\"number\">1</span>;<span class=\"comment\">//试图让数组中的元素都加1 </span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[1,2,3,4,5]很显然，做不到</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [&#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;qx&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span>&#125;];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\titem = &#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span>&#125;<span class=\"comment\">//试图修改数组中的元素</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[&#123;&quot;name&quot;:&quot;qx&quot;,&quot;age&quot;:19&#125;]很显然，做不到</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [&#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;qx&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span>&#125;];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\titem.<span class=\"property\">name</span> = <span class=\"string\">&#x27;chuckle&#x27;</span>;<span class=\"comment\">//试图访问该对象的属性并修改</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[&#123;&quot;name&quot;:&quot;chuckle&quot;,&quot;age&quot;:19&#125;]很显然，这是可以的</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>如果要修改数组中的元素，需<strong>通过参数2（index）和3（array）</strong>，<code>array[index]</code>来访问数组元素并修改</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\tarray[index] += <span class=\"number\">1</span>;<span class=\"comment\">//试图让数组中的元素都加1 </span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[2,3,4,5,6]可以做到</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [&#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;qx&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span>&#125;];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\tarray[index] = &#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span>&#125;<span class=\"comment\">//试图修改数组中的元素</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[&#123;&quot;name&quot;:&quot;chuckle&quot;,&quot;age&quot;:19&#125;]可以做到</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [&#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;qx&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span>&#125;];</span><br><span class=\"line\">arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item, index, array</span>) &#123;</span><br><span class=\"line\">\tarray[index].<span class=\"property\">name</span> = <span class=\"string\">&#x27;chuckle&#x27;</span>;<span class=\"comment\">//试图访问该对象的属性并修改</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));<span class=\"comment\">//[&#123;&quot;name&quot;:&quot;chuckle&quot;,&quot;age&quot;:19&#125;]可以做到</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>纯粹只是遍历数组，可以用forEach()，但同时要修改元素时，最好使用<strong>map()</strong>，避免一些低级错误</p>\n<p><strong><code>for of</code></strong>，ES6新增循环遍历数组方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> arr) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//item是元素的拷贝，无法直接修改item来修改元素值</span></span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1 2 3 4 5</span></span><br></pre></td></tr></table></figure>\n<p><strong><code>for in</code></strong>用于遍历无序的对象的属性，而不是有序的数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"string\">&#x27;19&#x27;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> obj) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//key是属性名，obj[key]可以修改属性值</span></span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`属性名：<span class=\"subst\">$&#123;key&#125;</span>，值：<span class=\"subst\">$&#123;obj[key]&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//属性名：name，值：chuckle</span></span><br><span class=\"line\"><span class=\"comment\">//属性名：age，值：19</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong><code>map()</code></strong>，遍历数组，并对数组中的每一项进行加工。</p>\n<p>对数组中每一项运行回调函数，返回每一项加工后的结果，组成的新数组，<strong>不改变原数组</strong>。</p>\n<figure class=\"highlight js\"><figcaption><span>语法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> newArr = arr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index, array</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// item是元素内容，index是该元素索引，array是该数组</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> newItem;<span class=\"comment\">//返回该项加工后的结果</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> newArr = arr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index, array</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> item += <span class=\"number\">1</span>;<span class=\"comment\">//返回每一项加一</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(newArr));<span class=\"comment\">//[2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>\n<p><strong>常用案例：</strong>将 A 数组(通常存对象)中某个属性的值，存储到 B 数组中。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;张三&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;李四&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;王五&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//把属性name都提取出来</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newArr = arr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> item.<span class=\"property\">name</span>);<span class=\"comment\">//返回每个item的name属性</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(newArr));<span class=\"comment\">//[&quot;张三&quot;,&quot;李四&quot;,&quot;王五&quot;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//重新组一个对象，改键名</span></span><br><span class=\"line\">newArr = arr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">  <span class=\"attr\">myName</span>: item.<span class=\"property\">name</span>,</span><br><span class=\"line\">  <span class=\"attr\">myAge</span>: item.<span class=\"property\">age</span>,</span><br><span class=\"line\">&#125;));<span class=\"comment\">//把属性拿出来重新组一个对象</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(newArr));</span><br><span class=\"line\"><span class=\"comment\">//[&#123;&quot;myName&quot;:&quot;张三&quot;,&quot;myAge&quot;:19&#125;,&#123;&quot;myName&quot;:&quot;李四&quot;,&quot;myAge&quot;:18&#125;,&#123;&quot;myName&quot;:&quot;王五&quot;,&quot;myAge&quot;:20&#125;]</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong><code>filter()</code>：</strong>数组中的每一项运行回调函数，回调函数返回结果是<strong>true</strong>的项（符合条件的项），<strong>组成新数组返回，不改变原数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> newArr = arr.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> item &gt; <span class=\"number\">4</span>;<span class=\"comment\">//item &gt; 4回调函数返回true，filter()就把该元素放进新数组里</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(newArr));<span class=\"comment\">//[7,6,7]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;张三&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;李四&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;王五&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"comment\">//筛选出年龄大于18的同学</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newArr = arr.<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> item.<span class=\"property\">age</span> &gt; <span class=\"number\">18</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(newArr));<span class=\"comment\">//[&#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:19&#125;,&#123;&quot;name&quot;:&quot;王五&quot;,&quot;age&quot;:20&#125;]</span></span><br><span class=\"line\"><span class=\"comment\">//再用map()筛选出名字</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> resultArr = newArr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> item.<span class=\"property\">name</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(resultArr));<span class=\"comment\">//[&quot;张三&quot;,&quot;王五&quot;]</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong><code>reduce()</code>：</strong>参数是接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值返回</p>\n<p><strong>reduce() 对于空数组不会执行回调函数</strong></p>\n<figure class=\"highlight js\"><figcaption><span>语法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item, index, array</span>) =&gt;</span> &#123;&#125;, initialValue);</span><br></pre></td></tr></table></figure>\n<p><strong>回调函数参数解释：</strong></p>\n<ol>\n<li><strong>prev</strong>：必填，<strong>上一次</strong>调用回调函数时的<strong>返回值</strong></li>\n<li><strong>item</strong>：必填，当前正在处理的<strong>数组元素</strong></li>\n<li><strong>index</strong>：可选，当前正在处理的数组元素<strong>下标</strong></li>\n<li><strong>array</strong>：可选，<strong>该数组</strong></li>\n<li><strong>initialValue</strong>：可选，作为第一次调用回调函数时<strong>传给prev</strong>的值，最好手动初始化为0</li>\n</ol>\n<p><strong>举例 1、数组求和：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev + item;<span class=\"comment\">// 累计求和</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`总和:<span class=\"subst\">$&#123;result&#125;</span>`</span>); <span class=\"comment\">// 总和:21</span></span><br></pre></td></tr></table></figure>\n<p><strong>举例 2、统计某个元素出现的次数：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>, <span class=\"number\">3</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//统计函数，传入数组arr和要统计的value，返回value出现的次数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">arrCount</span>(<span class=\"params\">arr, value</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//判断当前项item是否等于value，是则让prev计数加一并返回</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev += item === value ? <span class=\"number\">1</span> : <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">arrCount</span>(arr, <span class=\"number\">6</span>)); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">arrCount</span>(arr, <span class=\"number\">7</span>)); <span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>举例 3、找到最大的元素：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">3</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//传入数组arr,返回最大元素(首次找到)的下标</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">maxValue</span>(<span class=\"params\">arr</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//prev初始值为0，默认下标0的元素最大，每一项与arr[prev]比较，大于就更新prev为当前下标index</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev = item &gt; arr[prev] ? index : prev;</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">maxValue</span>(arr));<span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr[<span class=\"title function_\">maxValue</span>(arr)]);<span class=\"comment\">// 7</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":["学习笔记"],"tags":["JS","前端"]},{"title":"JavaScript基础笔记(3)","url":"/article/7d8b8b34.html","content":"<h1 id=\"JS函数简介\"><a href=\"#JS函数简介\" class=\"headerlink\" title=\"JS函数简介\"></a>JS函数简介</h1><p>使用<strong>function</strong>关键字定义函数对象，函数的typeof类型也是<strong>function</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hello</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;hello&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> hello)<span class=\"comment\">//function</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(fun <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Object</span>)<span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p>使用<strong>函数表达式</strong>创建<strong>匿名函数</strong>，即将匿名函数赋值给一个变量</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fun = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;匿名函数&quot;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>();<span class=\"comment\">//匿名函数</span></span><br></pre></td></tr></table></figure>\n<p>函数是对象，也可以new出来，但一般不用这种形式，Function里面的<strong>参数都必须是字符串格式</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fun = <span class=\"keyword\">new</span> <span class=\"title class_\">Function</span>(<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;console.log(a + b);&#x27;</span>);</span><br><span class=\"line\"><span class=\"title function_\">fun</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>); <span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n<p>使用<strong>return</strong>终止函数或返回一些数据，默认返回undefined</p>\n<p><strong>函数名</strong>就是整个函数，JS加载的时候，只加载函数名，不加载函数体</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(fun);<span class=\"comment\">//输出fun()&#123;console.log(&quot;hello&quot;);&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fun</span>());<span class=\"comment\">//先执行函数，再输出返回值</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"函数的调用\"><a href=\"#函数的调用\" class=\"headerlink\" title=\"函数的调用\"></a>函数的调用</h2><p><strong>1、</strong>调用函数可以函数名调用，可以用<strong>call()</strong>方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>)&#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;hello&#x27;</span>); &#125;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>(); <span class=\"comment\">// hello</span></span><br><span class=\"line\">fun.<span class=\"title function_\">call</span>(); <span class=\"comment\">// hello</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、</strong>在对象中保存多个函数，通过对象的方法来调用，函数作为<strong>对象的属性</strong>保存，这个函数就是<strong>对象的方法</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">fun1</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;函数一&quot;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">fun2</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;函数二&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">fun1</span>();<span class=\"comment\">// 函数一</span></span><br><span class=\"line\">obj.<span class=\"title function_\">fun2</span>();<span class=\"comment\">// 函数二</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>3、立即执行函数</strong>，在定义后立即执行</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;立即执行函数&#x27;</span>);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"comment\">//立即执行函数</span></span><br></pre></td></tr></table></figure>\n<p><strong>4、</strong>通过<strong>构造函数</strong>调用</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;这是一个函数&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Fun</span>();<span class=\"comment\">// 这是一个函数</span></span><br></pre></td></tr></table></figure>\n<p><strong>5、绑定事件函数</strong>，触发事件后立即执行的函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> btn = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;btn&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//绑定事件</span></span><br><span class=\"line\">btn.<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;点击按钮后，要做的事情&#x27;</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><strong>6、定时函数</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setInterval</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">1000</span>);<span class=\"comment\">//每1000ms执行一次</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"形参和实参\"><a href=\"#形参和实参\" class=\"headerlink\" title=\"形参和实参\"></a>形参和实参</h2><p><strong>形参：</strong>函数在定义时要求传入的一些参数<br><strong>实参：</strong>调用函数时传入的一些参数</p>\n<p>实参将<strong>按顺序传递</strong>给函数中对应的形参</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">a, b</span>)&#123;<span class=\"comment\">//该函数需要两个形参</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a + b);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">//调用时传入两个实参</span></span><br><span class=\"line\"><span class=\"title function_\">fun</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)<span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n<p>实参和形参，数量可以不同，调用函数时，解析器不会检查实参的数量。</p>\n<p><strong>实参多余形参：</strong>忽略多余的实参<br><strong>实参少余形参：</strong>没有接收到值的形参默认为undefined，undefined参与运算为NaN</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">a, b</span>)&#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a + b); &#125;;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)<span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"title function_\">fun</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)<span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"title function_\">fun</span>(<span class=\"number\">1</span>)<span class=\"comment\">// NaN</span></span><br></pre></td></tr></table></figure>\n<p>调用函数时，解析器也不会检查实参类型，实参可以是<strong>任意数据类型</strong></p>\n<h2 id=\"类数组对象arguments\"><a href=\"#类数组对象arguments\" class=\"headerlink\" title=\"类数组对象arguments\"></a>类数组对象arguments</h2><p>在调用函数时，浏览器每次都会传递进两个隐含的参数：（箭头函数没有自己的this和arguments。）</p>\n<ol>\n<li>函数的上下文对象 <strong>this</strong></li>\n<li>封装实参的对象 <strong>arguments</strong></li>\n</ol>\n<p>arguments是一个类数组对象（伪数组），不是一个真正的数组，除了length属性、可以通过索引获取元素之外没有任何数组属性和方法。</p>\n<p><code>Array.from()</code>能将伪数组转为真数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">a, b</span>)&#123; </span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">arguments</span>);<span class=\"comment\">// Arguments(2) [1, 2, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"variable language_\">arguments</span>));<span class=\"comment\">// [1, 2]</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">arguments</span>);<span class=\"comment\">// object，arguments 的原型是 Object，而数组的原型是 Array</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> a + b;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>);</span><br></pre></td></tr></table></figure>\n<p><strong>案例：</strong>将传入的实参进行求和，无论实参的个数有多少：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> prev + item;<span class=\"comment\">// 累计求和</span></span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> sum = <span class=\"title function_\">fun</span>(<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sum); <span class=\"comment\">// 21</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>arguments.callee</strong>返回正在执行的函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">arguments</span>.<span class=\"property\">callee</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>();<span class=\"comment\">// 返回了fun这个函数对象， fun() &#123;console.log(arguments.callee);&#125;</span></span><br></pre></td></tr></table></figure>\n<p>通过<strong>arguments</strong>修改传入的实参</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">a, b</span>)&#123; </span><br><span class=\"line\">    <span class=\"comment\">//修改传入的最后一个参数为0</span></span><br><span class=\"line\">    <span class=\"variable language_\">arguments</span>[<span class=\"variable language_\">arguments</span>.<span class=\"property\">length</span>-<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a + b;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fun</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>));<span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"作用域\"><a href=\"#作用域\" class=\"headerlink\" title=\"作用域\"></a>作用域</h1><p>变量或函数的作用范围。作用域在函数定义时，就确定。<br><strong>全局作用域</strong>：作用于整个script标签内，或作用于一个独立的JS文件<br><strong>函数作用域</strong>：作用于函数部<br><strong>块级作用域</strong>：ES6新增，作用于一个区块{}内</p>\n<p>在全局作用域中有一个全局对象 <strong>window</strong>(<del>和微软没有半毛钱关系</del>)，它代表的是浏览器的窗口，由浏览器创建。</p>\n<p>创建的<strong>全局变量</strong>都会作为 window 对象的<strong>属性</strong>保存。<br>创建的<strong>全局函数</strong>都会作为 window 对象的<strong>方法</strong>保存。</p>\n<p>变量如果未经声明(没有var、let、const)就赋值，是<strong>全局变量</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> [a, b] = [<span class=\"number\">0</span>, <span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 0</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>);<span class=\"comment\">// 1,访问全局变量a</span></span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">// 报错Uncaught ReferenceError:b is not defined</span></span><br></pre></td></tr></table></figure>\n<p><strong>连续赋值</strong>时，除了第一个声明的变量之外，后面的变量都是全局变量</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = b = <span class=\"number\">1</span>; <span class=\"comment\">// 连续赋值，a是函数作用域变量，b是全局变量</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 报错Uncaught ReferenceError: a is not defined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"变量、函数提升\"><a href=\"#变量、函数提升\" class=\"headerlink\" title=\"变量、函数提升\"></a>变量、函数提升</h2><p><strong>全局作用域的预处理：</strong>JS在解析代码之前，将当前 JS 代码中所有变量的定义和函数的定义，放到所有代码的最前面，先进行声明但不进行赋值，默认都是undefined。</p>\n<p>任何变量，如果<strong>未经声明</strong>(没有var、let、const)就赋值，此变量是属于 window 的属性，而且<strong>不会做变量提升</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">//报错Uncaught ReferenceError:b is not defined</span></span><br><span class=\"line\">b = <span class=\"number\">1</span>;<span class=\"comment\">//赋值但没定义，相当于window.b，不进行变量提升</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">//1</span></span><br></pre></td></tr></table></figure>\n<p>其它作用域也有类似的预处理，这就是<strong>变量提升</strong>，即将变量声明提升到它所在作用域的最开始的部分。</p>\n<p><strong>函数的声明提前（函数提升）：</strong><br>使用<strong>函数声明</strong>的形式创建的函数<strong>function fun(){}</strong>，<strong>会</strong>被函数提升，可以提前调用函数，能正常执行。<br>使用<strong>函数表达式</strong>创建的函数<strong>var fun = function(){}</strong>，<strong>不会</strong>被函数提升，但属于变量提升，不能提前调用，会被认为不是一个函数。</p>\n<p>函数的形参就相当于在函数作用域中声明了变量。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fun1</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>));<span class=\"comment\">// 3，提前调用可以正常执行函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun1</span>(<span class=\"params\">a, b</span>)&#123; <span class=\"keyword\">return</span> a + b; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">fun2</span>();<span class=\"comment\">//报错Uncaught TypeError: fun2 is not a function</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> fun2 = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>函数提升优先于变量提升</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">fun</span>(); <span class=\"comment\">// 先函数提升，所以输出B</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 函数提升</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;B&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(fun);<span class=\"comment\">// ƒ fun() &#123;console.log(&#x27;B&#x27;);&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 变量提升，此时相当于重新声明fun变量</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> fun = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;A&#x27;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">fun</span>(); <span class=\"comment\">// A</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>函数的嵌套：</strong>会出现<strong>作用域链</strong>，在嵌套函数中，变量会从内到外逐层寻找它的定义（查找时，采用就近原则）。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 外部函数</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">fun</span>();<span class=\"comment\">//函数提升，提前调用也正常执行</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 内部函数</span></span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">//先找到var  a = 1</span></span><br><span class=\"line\">        <span class=\"comment\">//输出undefined，因为实际代码中变量的调用在变量声明之前，属于变量提升，默认值为undefined</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span>  a = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">//fun()若内部函数在此执行，则会输出 1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>();</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"this指向\"><a href=\"#this指向\" class=\"headerlink\" title=\"this指向\"></a>this指向</h1><p><a href=\"https://www.ruanyifeng.com/blog/2018/06/javascript-this.html\">JavaScript的this原理—阮一峰</a></p>\n<p><code>this</code> 即‘当前’，指的是<strong>函数运行时所在的环境</strong>，它永远指向函数的真实调用者，如果没有调用者，就指向全局对象window。</p>\n<figure class=\"highlight js\"><figcaption><span>foo()绑定给多个对象</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>:<span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">foo</span>:foo</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">    <span class=\"attr\">foo</span>:foo</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">obj1.<span class=\"title function_\">foo</span>();<span class=\"comment\">// 1</span></span><br><span class=\"line\">obj2.<span class=\"title function_\">foo</span>();<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"title function_\">foo</span>();<span class=\"comment\">// -1</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">foo</span>();<span class=\"comment\">// -1</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>this在<strong>函数调用时</strong>绑定，函数执行时会创建一个活动记录，这个记录里包含了该函数中定义的参数，也包含函数在哪里被调用（调用栈）,this就是其中的一个属性。</p>\n<h2 id=\"绑定规则\"><a href=\"#绑定规则\" class=\"headerlink\" title=\"绑定规则\"></a>绑定规则</h2><ol>\n<li><strong>默认绑定：</strong>把this绑定到<strong>全局对象window</strong>，以函数的形式而非对象的方法（包括普通函数、定时器函数、立即执行函数）调用时。</li>\n<li><strong>对象中的this：隐式绑定（上下文绑定）</strong>对象内部方法的this指向调用此方法的对象，谁调用就指向谁</li>\n<li><strong>构造函数中的this：</strong>构造函数中的this指向构造函数下创建的实例对象，构造函数返回创建的对象。</li>\n<li><strong>以事件绑定函数的形式调用时，this指向绑定事件的对象</strong></li>\n<li><strong>箭头函数中的this：</strong>指向函数作用域所用的对象</li>\n</ol>\n<p><strong>1、默认绑定：</strong>把this绑定到<strong>全局对象window</strong>，以函数的形式而非对象的方法（包括普通函数、定时器函数、立即执行函数）调用时。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);<span class=\"comment\">// 输出this指的是谁</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span>++;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">fun</span>();<span class=\"comment\">//输出 Window、0、1</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">fun</span>();<span class=\"comment\">//输出 Window、0、1</span></span><br><span class=\"line\"><span class=\"comment\">//fun代码块中，this指的都是window，而a变量是全局变量，即是window的属性，所以this.a访问的是window.a</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、对象中的this：隐式绑定（上下文绑定）</strong>对象内部方法的this指向调用此方法的对象，谁调用就指向谁</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">0</span>;<span class=\"comment\">// 先把对象中的a值改为0</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);<span class=\"comment\">// 输出this指的是谁</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span>++;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"comment\">//注意是函数名，因为函数名就代表了这个函数</span></span><br><span class=\"line\">    <span class=\"attr\">fun</span>: fun<span class=\"comment\">//将fun绑定给obj对象的fun属性，此时fun的this指向obj这个真实调用者</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">fun</span>();<span class=\"comment\">//输出 obj对象&#123;a: 1, fun: ƒ&#125;、0、1</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>多层对象</strong>时，内部方法this指向离被调用函数最近的对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);<span class=\"comment\">// 输出this指的是谁</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span>++;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"comment\">//注意是函数名，因为函数名就代表了这个函数</span></span><br><span class=\"line\">    <span class=\"attr\">fun</span>: fun,<span class=\"comment\">//将fun绑定给obj1对象的fun属性</span></span><br><span class=\"line\">    <span class=\"attr\">obj2</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">a</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">        <span class=\"attr\">fun</span>: fun</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj1.<span class=\"title function_\">fun</span>();<span class=\"comment\">//输出 obj1对象&#123;a: 0, obj2: &#123;…&#125;, fun: ƒ&#125;、1，2</span></span><br><span class=\"line\">obj1.<span class=\"property\">obj2</span>.<span class=\"title function_\">fun</span>();<span class=\"comment\">//输出 obj2对象&#123;a: 0, fun: ƒ&#125;、2，3</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>上面代码中，若obj2中没有a属性，this.a是undefined，即无论对象嵌套多少层，this只会指向<strong>直接调用该函数</strong>的对象（离被调用函数最近的对象）</p>\n<p><strong>this永远指向函数的真实调用者</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">foo</span> = fun2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun2</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">fun</span>: <span class=\"keyword\">new</span> <span class=\"title function_\">fun</span>().<span class=\"property\">foo</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">fun</span>();<span class=\"comment\">// 1，多次引用的传递，实际上是obj调用了fun2</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>隐式绑定的丢失:</strong>通过赋值，导致隐式绑定的丢失。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">fun</span>: fun</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">fun</span>();<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = obj.<span class=\"property\">fun</span>;</span><br><span class=\"line\"><span class=\"title function_\">foo</span>();<span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>上面代码中，obj的fun属性引用了fun函数的引用内存地址，在obj.fun()调用函数时，fun函数中的this会动态绑定对象(当前函数的直接调用者，即obj对象)，将obj.fun的引用地址赋值给了foo那么foo也引用了fun函数的引用内存地址，使用foo()时，fun函数中的this也会动态绑定对象(当前函数的直接调用者，即window对象)。</p>\n<p><strong>3、构造函数中的this：</strong>构造函数中的this指向构造函数下创建的实例对象，构造函数返回创建的对象。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Fun</span>(<span class=\"params\">name, age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;<span class=\"comment\">// 让构造函数创建的实例对象中的name属性等于传入的实参name</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> fun = <span class=\"keyword\">new</span> <span class=\"title class_\">Fun</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>, <span class=\"number\">19</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(fun);<span class=\"comment\">//Fun &#123;name: &#x27;chuckle&#x27;, age: 19&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> fun);<span class=\"comment\">// object构造函数返回创建的对象</span></span><br></pre></td></tr></table></figure>\n<p><strong>4、以事件绑定函数的形式调用时，this指向绑定事件的对象</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> btn = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;btn&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//绑定事件</span></span><br><span class=\"line\">btn.<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);<span class=\"comment\">//this指向带有btn id的整个标签</span></span><br><span class=\"line\">    <span class=\"comment\">//&lt;button id=&quot;btn&quot;&gt;&lt;/button&gt;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>5、箭头函数中的this：</strong>指向函数作用域所用的对象</p>\n<p><strong>箭头函数的重要特征</strong>：箭头函数<strong>没有</strong>自己的this和arguments，但它会继承自己<strong>定义时</strong>所处的<strong>外层执行环境的this指向</strong>，指向当前<strong>定义时所在的对象</strong>，call()、apply()、bind()等方法<strong>无法改变</strong>箭头函数继承的this指向。</p>\n<p>简单地说，箭头函数会找它的上一级作用域。如果父级作用域还是箭头函数，就再往上找，一层层找，直到找到this指向的对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">fun</span>: <span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//obj是一个全局变量，fun是一个箭头函数，在定义时指向这个全局变量的作用域，即window对象</span></span><br><span class=\"line\">obj.<span class=\"title function_\">fun</span>();<span class=\"comment\">//Window &#123;window: Window, self: Window, document: document, name: &#x27;&#x27;, location: Location, …&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>多层对象时，仍然指向最外部对象定义时所在的环境</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">obj2</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">a</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">        <span class=\"attr\">fun</span>: <span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//obj2是obj1的属性，obj是一个全局变量，所以定义时箭头函数this仍然指向window对象</span></span><br><span class=\"line\">obj1.<span class=\"property\">obj2</span>.<span class=\"title function_\">fun</span>();<span class=\"comment\">//Window &#123;window: Window, self: Window, document: document, name: &#x27;&#x27;, location: Location, …&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>用构造函数创建对象，创建出来的对象中的箭头函数和普通函数，都指向构造函数创建出来的对象，但一个是在定义时指向obj对象，一个是在调用时指向obj对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Fun</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">fun</span> = <span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">foo</span> = foo;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Fun</span>();</span><br><span class=\"line\">obj.<span class=\"title function_\">fun</span>();<span class=\"comment\">//Fun &#123;fun: ƒ, foo: ƒ&#125;</span></span><br><span class=\"line\">obj.<span class=\"title function_\">foo</span>();<span class=\"comment\">//Fun &#123;fun: ƒ, foo: ƒ&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> obj);<span class=\"comment\">// object</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>普通函数中的箭头函数：</strong></p>\n<p>箭头函数的外层如果有普通函数，那么箭头函数的this就是这个外层的普通函数的this，箭头函数的外层如果没有普通函数，那么箭头函数的this就是全局变量window。</p>\n<p>或者说，<strong>普通函数中的箭头函数的this被绑定到该函数执行的作用域上</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj=&#123;</span><br><span class=\"line\">\t<span class=\"attr\">birth</span>:<span class=\"number\">1990</span>,</span><br><span class=\"line\">\t<span class=\"attr\">getAge</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//对象内部方法的this指向调用此方法的对象</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> b = <span class=\"variable language_\">this</span>.<span class=\"property\">birth</span>;<span class=\"comment\">// 1990</span></span><br><span class=\"line\">        <span class=\"comment\">//箭头函数的this就是这个外层的普通函数的this，所以在定义时就指向obj</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> <span class=\"title function_\">fn</span> = (<span class=\"params\"></span>)=&gt;<span class=\"number\">2023</span>-<span class=\"variable language_\">this</span>.<span class=\"property\">birth</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">obj.<span class=\"title function_\">getAge</span>();<span class=\"comment\">//33</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> birth = <span class=\"number\">2000</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj=&#123;</span><br><span class=\"line\">\t<span class=\"attr\">birth</span>:<span class=\"number\">1990</span>,</span><br><span class=\"line\">\t<span class=\"attr\">getAge</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t\tfn = <span class=\"function\">()=&gt;</span><span class=\"number\">2023</span>-<span class=\"variable language_\">this</span>.<span class=\"property\">birth</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">obj.<span class=\"title function_\">getAge</span>();<span class=\"comment\">//33</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = obj.<span class=\"property\">getAge</span>;<span class=\"comment\">//发生隐式绑定的丢失，函数的作用域从obj对象变为全局window</span></span><br><span class=\"line\"><span class=\"title function_\">foo</span>();<span class=\"comment\">// 23，</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"改变this指向的方法\"><a href=\"#改变this指向的方法\" class=\"headerlink\" title=\"改变this指向的方法\"></a>改变this指向的方法</h2><p>JS在Function的porpertype属性上提供了3个方法来强行修改<strong>函数内部</strong>的this指向，不想改变this指向则<strong>传入null或this</strong>，这三个方法都<strong>不会改变原函数的指向（动态的）</strong></p>\n<ol>\n<li><code>call()</code>：传入多个参数，第一个是要修改的this的指向，剩下的会传给函数当参数，然后会执行这个函数</li>\n<li><code>apply()</code>：传入两个参数，第一个是要修改的this的指向，第二个是一个数组，它保存了要传入函数的多个参数，然后会执行这个函数</li>\n<li><code>bind()</code>：传入多个参数，第一个是要修改的this的指向，剩下的会传给函数当参数，不会执行这个函数，但会返回<strong>指定this和指定实参的原函数拷贝</strong>（一个改变了this指向和已经传入了参数的新函数）</li>\n</ol>\n<p><strong>1、<code>call()</code>：</strong>传入多个参数，第一个是要修改的this的指向，剩下的会传给函数当参数，然后会执行这个函数</p>\n<figure class=\"highlight js\"><figcaption><span>语法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">fun.<span class=\"title function_\">call</span>(想要将<span class=\"variable language_\">this</span>指向的对象, 函数实参<span class=\"number\">1</span>, 函数实参<span class=\"number\">2</span>);</span><br></pre></td></tr></table></figure>\n<p>通过call()调用函数，不改变指向</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);<span class=\"comment\">// window</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//将this的指向又传给this，指向没有被改变</span></span><br><span class=\"line\">fun.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"title function_\">fun</span>(); <span class=\"comment\">// 1</span></span><br><span class=\"line\">fun.<span class=\"title function_\">call</span>(); <span class=\"comment\">// 1</span></span><br><span class=\"line\">fun.<span class=\"title function_\">call</span>(<span class=\"variable language_\">window</span>); <span class=\"comment\">// 1</span></span><br><span class=\"line\">fun.<span class=\"title function_\">call</span>(<span class=\"literal\">null</span>); <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>通过call()改变this指向</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">0</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fun</span>(); <span class=\"comment\">// window 1</span></span><br><span class=\"line\">fun.<span class=\"title function_\">call</span>(obj); <span class=\"comment\">// obj 0</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>2、<code>apply()</code>：</strong>传入两个参数，第一个是要修改的this的指向，第二个是一个数组，它保存了要传入函数的多个参数，然后会执行这个函数</p>\n<figure class=\"highlight js\"><figcaption><span>语法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">fun.<span class=\"title function_\">apply</span>(想要将<span class=\"variable language_\">this</span>指向的对象, [函数实参<span class=\"number\">1</span>, 函数实参<span class=\"number\">2</span>]);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">19</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);<span class=\"comment\">// 输出obj对象&#123;name: &#x27;chuckle&#x27;, age: 19&#125;</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);<span class=\"comment\">//chuckle</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;<span class=\"comment\">//改变obj的name属性为传入的实参</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);<span class=\"comment\">//qx</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">fun.<span class=\"title function_\">apply</span>(obj, [<span class=\"string\">&#x27;qx&#x27;</span>]);<span class=\"comment\">//传一个实参，也需要传数组</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj);<span class=\"comment\">//&#123;name: &#x27;qx&#x27;, age: 19&#125;,name被改变</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>通过apply()求数组的最大值：</p>\n<p>数组本身没有求最大值的方法，但是数学对象中有<strong>Math.max</strong>(数字1，数字2…)，apply可以传入一个数组作为其参数，不改变其指向即可</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> maxValue = <span class=\"title class_\">Math</span>.<span class=\"property\">max</span>.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, arr);<span class=\"comment\">// 不改变执行，传入一个数组作为参数</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(maxValue);<span class=\"comment\">// 6</span></span><br></pre></td></tr></table></figure>\n<p><strong>3、<code>bind()</code>：</strong>传入多个参数，第一个是要修改的this的指向，剩下的会传给函数当参数，不会执行这个函数，但会返回<strong>指定this和指定实参的原函数拷贝</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">0</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">a</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span> + a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = fun.<span class=\"title function_\">bind</span>(obj, <span class=\"number\">10</span>); <span class=\"comment\">//返回指定this和指定实参的原函数拷贝</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> result);<span class=\"comment\">// function</span></span><br><span class=\"line\"><span class=\"title function_\">result</span>(<span class=\"number\">10</span>);<span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"title function_\">result</span>(<span class=\"number\">20</span>);<span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = fun.<span class=\"title function_\">bind</span>(obj);</span><br><span class=\"line\"><span class=\"title function_\">result</span>(<span class=\"number\">10</span>);<span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"title function_\">result</span>(<span class=\"number\">20</span>);<span class=\"comment\">// 20</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"内存回收机制\"><a href=\"#内存回收机制\" class=\"headerlink\" title=\"内存回收机制\"></a>内存回收机制</h1><p>JS具有内存自动回收机制，周期性的找出不再继续使用的变量，然后释放其占用的内存。</p>\n<p>在闭包中，如果引用了外部的变量，则无法进行释放和回收，造成<strong>内存泄漏</strong></p>\n<p><strong>常见内存泄漏：</strong>全局变量、闭包、Dom元素的引用、定时器</p>\n<p>IE回收不了闭包里面引用的变量，但2023年了，主流浏览器都能回收闭包内不再使用的变量，<a href=\"https://www.cnblogs.com/rubylouvre/p/3345294.html\">js闭包测试—司徒正美</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\"><span class=\"comment\">//for循环中是块级作用域，每执行一次循环，j就会被自动回收，所以不会报错（const 不能重新赋值）</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> j = <span class=\"string\">&#x27;局部变量&#x27;</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(j);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"闭包\"><a href=\"#闭包\" class=\"headerlink\" title=\"闭包\"></a>闭包</h1><p>如果<strong>外部作用域</strong>有权访问另外一个<strong>函数内部的局部变量</strong>时，那就产生了<strong>闭包</strong>。这个内部函数称之为<strong>闭包函数</strong></p>\n<p><strong>函数</strong>和<strong>函数内部能访问到的变量</strong>的总和，就是一个闭包。</p>\n<p>闭包是JS函数作用域的副产品，因为JS的函数内部可以使用函数外部的变量。</p>\n<p><strong>闭包的生命周期:</strong><br><strong>产生：</strong>内部函数被声明时就产生了。<br><strong>死亡：</strong>嵌套的内部函数成为垃圾对象时。（比如fun = null，就可以让 fun 成为垃圾对象）</p>\n<p><strong>闭包的作用：</strong>将函数内部的变量(局部变量)能被外部访问，隐藏一些变量，延长局部变量的生命周期</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> <span class=\"title function_\">fun2</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//获取到一个能访问fun1内部的变量的函数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = <span class=\"title function_\">fun1</span>();</span><br><span class=\"line\"><span class=\"comment\">//在fun1函数的外部，执行了内部函数fun2，并访问到了fun1的内部变量a</span></span><br><span class=\"line\"><span class=\"title function_\">result</span>();<span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>上面的代码中，通过一些操作，让外部作用域（即全局作用域）有权访问函数fun1中的局部变量，在fun1中就产生了闭包，函数fun1是闭包函数，闭包是fun2和fun2所能访问到的变量a。</p>\n<p><strong>延长局部变量的生命周期：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fun1执行完一次，局部变量就立即销毁，下次调用a还是0;</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">  a++;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fun1</span>();<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"title function_\">fun1</span>();<span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 由于产生了闭包，fun2函数还要继续调用变量a，所以fun1函数中的变量a不会立即销毁，仍然保留在内存中。</span></span><br><span class=\"line\"><span class=\"comment\">// 只有等所有函数把变量a调用完了，变量a才会销毁。</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">fun2</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    a++;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fun2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = <span class=\"title function_\">fun1</span>();</span><br><span class=\"line\"><span class=\"title function_\">result</span>();<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"title function_\">result</span>();<span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>隐藏一些变量：</strong></p>\n<p>打游戏时通常有血条和蓝条，我们当然不希望用户window.blood就能修改血量。将血量变量blood放进匿名函数中，在函数内部去声明一些修改血量的代码再赋给全局变量，就能在匿名函数外部通过这些函数去修改血量，但不能直接访问血量。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">!<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//匿名函数</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> blood = <span class=\"number\">10</span>;<span class=\"comment\">// 血量</span></span><br><span class=\"line\">    <span class=\"comment\">// 扣若干滴血,默认扣1</span></span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"property\">reduceBlood</span> = <span class=\"function\">(<span class=\"params\">a</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        a ? blood -= a : blood -= <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"title function_\">checkBlood</span>();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 增加若干滴血,默认加1</span></span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"property\">increaseBlood</span> = <span class=\"function\">(<span class=\"params\">a</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        a ? blood += a : blood += <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"title function_\">checkBlood</span>();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 查询血量</span></span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"property\">checkBlood</span> = <span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`血量还有<span class=\"subst\">$&#123;blood&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;();</span><br><span class=\"line\"><span class=\"comment\">// 先连续扣血</span></span><br><span class=\"line\"><span class=\"title function_\">reduceBlood</span>();<span class=\"comment\">// 血量还有9</span></span><br><span class=\"line\"><span class=\"title function_\">reduceBlood</span>(<span class=\"number\">5</span>);<span class=\"comment\">// 血量还有4</span></span><br><span class=\"line\"><span class=\"comment\">//再加血</span></span><br><span class=\"line\"><span class=\"title function_\">increaseBlood</span>();<span class=\"comment\">// 血量还有5</span></span><br><span class=\"line\"><span class=\"title function_\">increaseBlood</span>(<span class=\"number\">5</span>);<span class=\"comment\">// 血量还有10</span></span><br><span class=\"line\"><span class=\"comment\">//查询血量</span></span><br><span class=\"line\"><span class=\"title function_\">checkBlood</span>(); <span class=\"comment\">// 血量还有10</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>封装JS模块:</strong>定义具有特定功能的JS模块，将所有的数据和功能都封装在一个函数内部，只向外暴露指定的对象或方法。模块的调用者，只能调用模块暴露的对象或方法来实现对应的功能</p>\n<p>如果不想将这三个函数直接赋给全局变量，也可以让函数返回一个装有三个方法的对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Blood</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//匿名函数</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> blood = <span class=\"number\">10</span>;<span class=\"comment\">// 血量</span></span><br><span class=\"line\">    <span class=\"comment\">// 扣若干滴血,默认扣1</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">reduceBlood</span> = (<span class=\"params\">a</span>)=&gt;&#123;</span><br><span class=\"line\">        a ? blood -= a : blood -= <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"title function_\">checkBlood</span>();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 增加若干滴血,默认加1</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">increaseBlood</span> = (<span class=\"params\">a</span>)=&gt;&#123;</span><br><span class=\"line\">        a ? blood += a : blood += <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"title function_\">checkBlood</span>();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 查询血量</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">checkBlood</span> = (<span class=\"params\"></span>)=&gt;&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`血量还有<span class=\"subst\">$&#123;blood&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 返回一个对象，包含三个方法</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"attr\">reduceBlood</span>: reduceBlood,</span><br><span class=\"line\">        <span class=\"attr\">increaseBlood</span>: increaseBlood,</span><br><span class=\"line\">        <span class=\"attr\">checkBlood</span>: checkBlood</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> figure1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Blood</span>();</span><br><span class=\"line\"><span class=\"keyword\">var</span> figure2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Blood</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">figure1.<span class=\"title function_\">checkBlood</span>(); <span class=\"comment\">// 血量还有10</span></span><br><span class=\"line\">figure2.<span class=\"title function_\">checkBlood</span>(); <span class=\"comment\">// 血量还有10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//可以看到，figure1和figure2是独立的,两个闭包函数是互不影响</span></span><br><span class=\"line\"><span class=\"comment\">//减少1的血量不会减少2，血量不会互相干扰</span></span><br><span class=\"line\">figure1.<span class=\"title function_\">reduceBlood</span>(<span class=\"number\">5</span>);<span class=\"comment\">// 血量还有5</span></span><br><span class=\"line\">figure2.<span class=\"title function_\">reduceBlood</span>();<span class=\"comment\">// 血量还有9</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 人物死亡需要重新创建角色，记得回收闭包</span></span><br><span class=\"line\"><span class=\"comment\">// figure1 = null;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"面向对象概述\"><a href=\"#面向对象概述\" class=\"headerlink\" title=\"面向对象概述\"></a>面向对象概述</h1><p>Java中已经学习过了什么是面向对象,这里不再扯概念。</p>\n<p>JS是基于<strong>原型</strong>的面向对象，JS中的对象（Object）是依靠<strong>构造器</strong>（constructor）和<strong>原型</strong>（prototype）构造出来的</p>\n<p>在ES6中，新引入了<strong>类</strong>（Class）和<strong>继承</strong>（Extends）来实现面向对象</p>\n<p><strong>面向对象的编程思想：</strong>对代码和数据进行封装，并以对象调用的方式，对外提供统一的调用接口</p>\n<p>调用对象的属性：<code>obj.name</code>或<code>obj[&#39;name&#39;]</code></p>\n<h2 id=\"对象的创建\"><a href=\"#对象的创建\" class=\"headerlink\" title=\"对象的创建\"></a>对象的创建</h2><p><strong>创建对象：</strong></p>\n<p><strong>1、对象字面量{}</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">19</span>,</span><br><span class=\"line\">    <span class=\"attr\">obj2</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">a</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">        <span class=\"attr\">b</span>: <span class=\"number\">2</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">foo</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`我的名字<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.name&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">foo</span>();<span class=\"comment\">// 我的名字chuckle</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">name</span>);<span class=\"comment\">// chuckle</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj[<span class=\"string\">&#x27;name&#x27;</span>]);<span class=\"comment\">// chuckle</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>2、工厂模式 new Object()</strong> 大量创建同种对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createPerson</span>(<span class=\"params\">name, age</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//创建一个新的对象</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\">    <span class=\"comment\">//向对象中添加属性</span></span><br><span class=\"line\">    obj.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    obj.<span class=\"property\">age</span> = age;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> obj;<span class=\"comment\">// 返回这个对象的引用</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = <span class=\"title function_\">createPerson</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>, <span class=\"number\">19</span>);<span class=\"comment\">// &#123;name: &#x27;chuckle&#x27;, age: 19&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = <span class=\"title function_\">createPerson</span>(<span class=\"string\">&#x27;qx&#x27;</span>, <span class=\"number\">18</span>);<span class=\"comment\">// &#123;name: &#x27;qx&#x27;, age: 18&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// 所以创建的对象都是 Object 这个类型</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> obj1);<span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> obj2);<span class=\"comment\">// object</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>3、构造函数</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\">name, age</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//构造函数中this指的是当前对象实例</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">foo</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>, <span class=\"number\">19</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(p1);<span class=\"comment\">// Person &#123;name: &#x27;chuckle&#x27;, age: 19, foo: ƒ&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> p1);<span class=\"comment\">// object</span></span><br><span class=\"line\">p1.<span class=\"title function_\">foo</span>();<span class=\"comment\">// chuckle</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"构造函数\"><a href=\"#构造函数\" class=\"headerlink\" title=\"构造函数\"></a>构造函数</h2><p><strong>构造函数：</strong>是一种特殊的函数，主要用来创建和初始化对象，也就是为对象的成员变量赋初始值。</p>\n<p>创建构造函数时，里面的属性和方法前必须加this，this就表示当前要构造的对象。</p>\n<p>普通函数是直接调用，而构造函数需要使用 new 关键字来调用。</p>\n<p><strong>构造函数的执行流程：</strong></p>\n<ol>\n<li>立刻创建一个对象</li>\n<li>将新建的对象设置为函数中this，使得在构造函数中可以使用this来引用新建的对象</li>\n<li>遂行执行函数中的代码，给这个新对象添加属性和方法</li>\n<li>将新建的对象作为返回值返回(构造函数中无需return)</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 构造函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Student</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name; <span class=\"comment\">//this指的是构造函数中的对象实例</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> stu = <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>);<span class=\"comment\">// Student &#123;name: &#x27;chuckle&#x27;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//上面的代码相当于：</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Student</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\">    obj.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> obj;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> stu = <span class=\"title class_\">Student</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>);<span class=\"comment\">// &#123;name: &#x27;chuckle&#x27;&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>静态成员和实例成员：</strong><br><strong>1、静态成员</strong>:构造函数本身上添加的成员，静态成员只能通过构造函数访问，不能通过对象访问<br><strong>2、实例成员</strong>:构造函数内部通过this添加的成员，实例成员只能通过实例化的对象进行访问</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Student</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name; <span class=\"comment\">//this指的是构造函数中的对象实例</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Student</span>.<span class=\"property\">sName</span> = <span class=\"string\">&#x27;qx&#x27;</span>;<span class=\"comment\">// 添加静态成员</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> stu = <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>(<span class=\"string\">&#x27;chuckle&#x27;</span>);<span class=\"comment\">// 通过构造函数创建实例对象</span></span><br><span class=\"line\"><span class=\"comment\">// 实例成员只能通过实例化的对象进行访问</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(stu.<span class=\"property\">name</span>);<span class=\"comment\">// chuckle</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Student</span>.<span class=\"property\">name</span>);<span class=\"comment\">// Student,函数的name是它的函数名</span></span><br><span class=\"line\"><span class=\"comment\">// 静态成员只能通过构造函数访问，不能通过对象访问</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(stu.<span class=\"property\">sName</span>);<span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Student</span>.<span class=\"property\">sName</span>);<span class=\"comment\">// qx</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>类、实例</strong><br>使用<strong>同一个</strong>构造函数创建的对象，都称为一类对象，也将<strong>构造函数称为类</strong>。通过一个构造函数创建的对象，称为该<strong>类的实例</strong>。</p>\n<p>使用 <strong>instanceof</strong> 可以检查一个对象是否为一个类的实例。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Dog</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> <span class=\"title class_\">Dog</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Person</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(dog <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Person</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">//所有的对象都是Object的实例，所有类都是Object的子类。</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Object</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"对象的基本操作\"><a href=\"#对象的基本操作\" class=\"headerlink\" title=\"对象的基本操作\"></a>对象的基本操作</h2><ol>\n<li><strong>向对象中添加属性：</strong><code>对象.属性名 = 属性值</code></li>\n<li><strong>获取对象中的属性：</strong><code>对象.属性名</code></li>\n<li><strong>修改对象的属性值：</strong><code>对象.属性名 = 新值</code></li>\n<li><strong>删除对象的属性：</strong><code>delete 对象.属性名</code></li>\n<li><strong>in 运算符：</strong><code>属性名 in 对象</code>检查一个对象中是否含有指定的属性</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;&#125;;<span class=\"comment\">// 创建</span></span><br><span class=\"line\">obj.<span class=\"property\">name</span> = <span class=\"string\">&#x27;chuckle&#x27;</span>;<span class=\"comment\">// 添加</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">name</span>);<span class=\"comment\">// chuckle</span></span><br><span class=\"line\">obj.<span class=\"property\">name</span> = <span class=\"string\">&#x27;qx&#x27;</span>;<span class=\"comment\">// 修改</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">name</span>);<span class=\"comment\">// qx</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> obj.<span class=\"property\">name</span>;<span class=\"comment\">// 删除</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;name&#x27;</span> <span class=\"keyword\">in</span> obj);<span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"遍历对象\"><a href=\"#遍历对象\" class=\"headerlink\" title=\"遍历对象\"></a>遍历对象</h2><p>遍历对象时，要根据对象的结构配合使用多种方法，通常还需要配合数组的遍历方法</p>\n<p><strong>1、<code>for-in</code>遍历对象的属性，再使用</strong><code>对象[属性名]</code><strong>获取属性值</strong></p>\n<p><strong>for-of</strong>用于遍历数组的元素，直接获取元素。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">student</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;chuckle&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;qx&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">teacher</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;张三&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">37</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;李四&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">35</span> &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//第一层循环获取student和teacher两个属性</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);<span class=\"comment\">//输出属性名</span></span><br><span class=\"line\">    <span class=\"comment\">//obj[i]获取属性值，是数组，遍历数组使用for-of，虽然用for-in也行，这里都作展示</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> j <span class=\"keyword\">of</span> obj[i])&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;j.name&#125;</span>:<span class=\"subst\">$&#123;j.age&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// for(let j in obj[i])&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     console.log(`$&#123;obj[i][j].name&#125;:$&#123;obj[i][j].age&#125;`);</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">student</span><br><span class=\"line\">chuckle:19</span><br><span class=\"line\">qx:18</span><br><span class=\"line\">teacher</span><br><span class=\"line\">张三:37</span><br><span class=\"line\">李四:35</span><br></pre></td></tr></table></figure>\n<p><strong>2、<code>Object.keys</code>返回对象自身属性名组成的数组，<code>Object.values</code>返回对象自身属性值组成的数组</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">student</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;chuckle&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;qx&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">teacher</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;张三&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">37</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;李四&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">35</span> &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(obj).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key);<span class=\"comment\">//输出属性名</span></span><br><span class=\"line\">    obj[key].<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;key.name&#125;</span>:<span class=\"subst\">$&#123;key.age&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(obj).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    value.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;key.name&#125;</span>:<span class=\"subst\">$&#123;key.age&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">student</span><br><span class=\"line\">chuckle:19</span><br><span class=\"line\">qx:18</span><br><span class=\"line\">teacher</span><br><span class=\"line\">张三:37</span><br><span class=\"line\">李四:35</span><br><span class=\"line\"></span><br><span class=\"line\">chuckle:19</span><br><span class=\"line\">qx:18</span><br><span class=\"line\">张三:37</span><br><span class=\"line\">李四:35</span><br></pre></td></tr></table></figure>\n<p><strong>3、<code>Object.entries()</code>返回Object.keys与Object.values的结合体，一个嵌套的数组，数组内包括了属性名与属性值，下标0存储属性名</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">student</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;chuckle&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">19</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;qx&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">teacher</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;张三&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">37</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;李四&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">35</span> &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(obj).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item[<span class=\"number\">0</span>]);<span class=\"comment\">//输出属性名</span></span><br><span class=\"line\">    <span class=\"comment\">//属性值仍是数组，接着遍历，数组中存着对象，直接去访问对象的属性拿到属性值输出</span></span><br><span class=\"line\">    item[<span class=\"number\">1</span>].<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">         <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;item.name&#125;</span>:<span class=\"subst\">$&#123;item.age&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">student</span><br><span class=\"line\">chuckle:19</span><br><span class=\"line\">qx:18</span><br><span class=\"line\">teacher</span><br><span class=\"line\">张三:37</span><br><span class=\"line\">李四:35</span><br></pre></td></tr></table></figure>\n<p><strong>4、<code>Object.getOwnPropertyNames()</code>与Object.keys差不多</strong>，不同的是会返回对象的所有属性，包括了不可枚举属性，如数组对象的length</p>\n<p><strong>5、<code>Object.getOwnPropertySymbols()</code>返回对象内的所有Symbol属性的数组</strong>，对象初始化的时候，内部不包含任何Symbol属性</p>\n<h2 id=\"对象访问器\"><a href=\"#对象访问器\" class=\"headerlink\" title=\"对象访问器\"></a>对象访问器</h2><p>JS提供了Getter（<strong>get</strong>关键字）和 Setter（<strong>set</strong>关键字） 来定义对象访问器（属性访问器）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">19</span>,</span><br><span class=\"line\">    <span class=\"keyword\">get</span> <span class=\"title function_\">getAge</span>() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">age</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"keyword\">set</span> <span class=\"title function_\">setAge</span>(<span class=\"params\">age</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">getAge</span>);<span class=\"comment\">// 19</span></span><br><span class=\"line\">obj.<span class=\"property\">setAge</span> = <span class=\"number\">20</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">getAge</span>);<span class=\"comment\">// 20</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>使用 getter 和 setter 可以确保更好的<strong>数据质量</strong>，一些会随时间而变等的属性（如年龄），实际无需静态地存储在对象中，且可以对数据进行加工处理，类似数据库中的视图的功能</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">birthYear</span>: <span class=\"number\">2003</span>,</span><br><span class=\"line\">    <span class=\"keyword\">get</span> <span class=\"title function_\">age</span>() &#123;</span><br><span class=\"line\"><span class=\"comment\">//年龄不适合直接存储在对象中，我们可以存储生日，而年龄属性则作为一个getter进行处理后再返回</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>  <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getFullYear</span>() - <span class=\"variable language_\">this</span>.<span class=\"property\">birthYear</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"><span class=\"comment\">//如果去修改年龄，实际上应该修改birth出生年份</span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> <span class=\"title function_\">age</span>(<span class=\"params\">age</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">birthYear</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getFullYear</span>() - age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">age</span>);<span class=\"comment\">// 20，对象中实际上没有age</span></span><br><span class=\"line\">obj.<span class=\"property\">age</span> = <span class=\"number\">19</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">age</span>);<span class=\"comment\">// 19</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">birthYear</span>);<span class=\"comment\">// 2004</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"Object对象\"><a href=\"#Object对象\" class=\"headerlink\" title=\"Object对象\"></a>Object对象</h1><p>JavaScript中的对象其实就是一组数据和功能的集合。</p>\n<p><strong>Object对象</strong>是所有对象的祖宗，其他对象都继承自Object，即其它对象都是Object的实例</p>\n<p>每个Object类型的实例<strong>共有的属性和实例方法</strong>（定义在Object原型对象Object.prototype上的方法。可以被Object实例直接使用）：</p>\n<ol>\n<li><strong>constructor：</strong>保存用于创建当前对象的构造函数。</li>\n<li><strong>__proto__：</strong>隐式原型，指向的Object原型对象（父对象，所有类型的对象都有这个属性）</li>\n<li><strong><code>hasOwnProperty()</code>：</strong>检测实例中是否有指定属性。</li>\n<li><strong><code>isPrototypeOf()</code>：</strong>判断传入的对象是否是当前对象的原型</li>\n<li><strong><code>propertyIsEnumerble()</code>：</strong>检查指定属性能否使用for-in来枚举遍历</li>\n<li><strong><code>toLocaleString()</code>：</strong>返回对象的字符串表示</li>\n<li><strong><code>toString()</code>：</strong>返回对象的字符串表示</li>\n<li><strong><code>valueOf()</code>：</strong>返回对象的字符串，数值，或布尔表示。通常和toString() 返回的值相同。</li>\n</ol>\n<p><strong>静态方法：</strong>直接定义在Object对象的方法，<code>Object.</code>直接调用</p>\n<p><strong>控制对象状态的方法：</strong></p>\n<ol>\n<li><strong><code>preventExtensions()</code>：</strong>防止对象扩展</li>\n<li><strong><code>isExtensible()</code>：</strong>判断对象是否可扩展</li>\n<li><strong><code>seal()</code>：</strong>禁止对象配置</li>\n<li><strong><code>isSealed()</code>：</strong>判断一个对象是否可配置</li>\n<li><strong><code>freeze()</code>：</strong>冻结一个对象</li>\n<li><strong><code>isFrozen()</code>：</strong>判断一个对象是否被冻结</li>\n</ol>\n<p><strong>对象属性模型的相关方法</strong></p>\n<ol>\n<li><strong><code>keys()</code>：</strong>返回对象自身属性名组成的数组</li>\n<li><strong><code>getOwnPropertyNames()</code>：</strong>与keys()差不多，但返回对象所有属性的数组，包括了不可枚举属性，如数组对象的length</li>\n<li><strong><code>getOwnPropertyDescriptor()</code>：</strong>获取某个属性的描述对象，参数(对象,属性名的字符串)</li>\n<li><strong><code>defineProperty()</code>：</strong>通过描述对象，定义或修改某个属性。给对象添加一个属性并指定该属性的配置</li>\n<li><strong><code>defineProperties()</code>：</strong>通过描述对象，定义多个属性。</li>\n<li><strong><code>hasOwn()</code>：</strong>判断是否为自身的属性</li>\n</ol>\n<p><strong>原型链相关方法</strong></p>\n<ol>\n<li><strong><code>is()</code>：</strong>比较两个值是否严格相等，严格比较</li>\n<li><strong><code>create()</code>：</strong>指定原型对象和属性，返回一个新的对象</li>\n<li><strong><code>values()</code>：</strong>返回对象自身属性值组成的数组</li>\n<li><strong><code>entries()</code>：</strong>返回一个数组，元素是对象自身的（不含继承的）所有可遍历属性的键值对数组</li>\n<li><strong><code>fromEntries()</code>：</strong>将一个键值对数组转为对象。</li>\n<li><strong><code>assign()</code>：</strong>对象的合并，复制一个或者多个对象来创建一个对象，浅拷贝，将源对象的所有可枚举的自身属性，复制到目标对象</li>\n<li><strong><code>getPrototypeOf()</code>：</strong>获取对象的原型对象(Prototype对象)</li>\n<li><strong><code>setPrototypeOf()</code>：</strong>设置对象的原型对象</li>\n</ol>\n<p><code>Object.keys(obj).length</code>获取对象的长度</p>\n<p><code>Object.prototype.toString.call()</code>可以在任意值(对象)上调用这个方法，以判断这个值的类型</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//[object Number]第一个值代表是对象，第二个值表示该值的构造函数即类型</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"number\">2</span>); <span class=\"comment\">// &quot;[object Number]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;[object String]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">true</span>); <span class=\"comment\">// &quot;[object Boolean]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">undefined</span>); <span class=\"comment\">// &quot;[object Undefined]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">null</span>); <span class=\"comment\">// &quot;[object Null]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"title class_\">Math</span>); <span class=\"comment\">// &quot;[object Math]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(&#123;&#125;); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>([]); <span class=\"comment\">// &quot;[object Array]&quot;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h1><p><strong>JSON</strong>（JavaScript Object Notation），即JavaScript对象表示法，它是一种<strong>数据交换的文本格式</strong>，使用JS语法来描述数据对象，而不是一种编程语言。</p>\n<p>大多数语言都支持对json的解析。JS中可以原生地把json转为object对象。</p>\n<p><strong>数据结构：</strong>Object、Array<br><strong>基本类型：</strong>string，number，true，false，null(json无法表示undefined)</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"comment\">//这是一个json</span></span><br><span class=\"line\"><span class=\"keyword\">null</span><span class=\"comment\">//也可是一个json</span></span><br><span class=\"line\"><span class=\"number\">1</span><span class=\"comment\">//也可是一个json</span></span><br><span class=\"line\"><span class=\"comment\">//下面也是一个json</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span> </span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;chuckle&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">\t<span class=\"attr\">&quot;age&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;19&quot;</span> </span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//一个常见的json</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;student&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;chuckle&quot;</span><span class=\"punctuation\">,</span> <span class=\"attr\">&quot;age&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">19</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qx&quot;</span><span class=\"punctuation\">,</span> <span class=\"attr\">&quot;age&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;teacher&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;张三&quot;</span><span class=\"punctuation\">,</span> <span class=\"attr\">&quot;age&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">37</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;李四&quot;</span><span class=\"punctuation\">,</span> <span class=\"attr\">&quot;age&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">35</span> <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>对象和 json 没有长度，json.length 的打印结果是 undefined</p>\n<p><strong>使用for-in遍历json：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//将json存在变量中</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> json = &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;student&quot;</span>: [</span><br><span class=\"line\">    &#123; <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;chuckle&quot;</span>, <span class=\"string\">&quot;age&quot;</span>: <span class=\"number\">19</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;qx&quot;</span>, <span class=\"string\">&quot;age&quot;</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"string\">&quot;teacher&quot;</span>: [</span><br><span class=\"line\">    &#123; <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;张三&quot;</span>, <span class=\"string\">&quot;age&quot;</span>: <span class=\"number\">37</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;李四&quot;</span>, <span class=\"string\">&quot;age&quot;</span>: <span class=\"number\">35</span> &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> json) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> j <span class=\"keyword\">in</span> json[i])&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;json[i][j].name&#125;</span>:<span class=\"subst\">$&#123;json[i][j].age&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">student</span><br><span class=\"line\">chuckle:19</span><br><span class=\"line\">qx:18</span><br><span class=\"line\">teacher</span><br><span class=\"line\">张三:37</span><br><span class=\"line\">李四:35</span><br></pre></td></tr></table></figure>\n<p>for-in获取json对象的<strong>属性</strong>：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> json = &#123; <span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;chuckle&quot;</span>, <span class=\"string\">&quot;age&quot;</span>:<span class=\"number\">19</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> json) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// name</span></span><br><span class=\"line\"><span class=\"comment\">// age</span></span><br></pre></td></tr></table></figure>\n<p>for-in获取json对象的<strong>属性的值</strong>：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> json = &#123; <span class=\"string\">&quot;name&quot;</span>:<span class=\"string\">&quot;chuckle&quot;</span>, <span class=\"string\">&quot;age&quot;</span>:<span class=\"number\">19</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> json) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(json[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// chuckle</span></span><br><span class=\"line\"><span class=\"comment\">// 19</span></span><br></pre></td></tr></table></figure>\n<p>前端收到的api通常也是json格式，如一言api：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;code&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">200</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;一言&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;content&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;总觉得跟你在一起，不管多高的地方都可以到达。&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong><code>JSON.parse()</code></strong> 将数据转换为 JavaScript 对象<br><strong><code>JSON.stringify()</code></strong> 将 JavaScript 对象转换为字符串</p>\n<h1 id=\"Map对象\"><a href=\"#Map对象\" class=\"headerlink\" title=\"Map对象\"></a>Map对象</h1><p>Map对象保存键值对，元素会保持其插入时的顺序。</p>\n<p>Map的键可以是任意数据类型，包括函数、对象或任意基本类型。</p>\n<p>在需要进行很多新增操作，且需要储存许多数据的时候，使用 Map 会更高效</p>\n<figure class=\"highlight js\"><figcaption><span>创建一个Map</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> m = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\"><span class=\"comment\">//或传入一个嵌套数组</span></span><br><span class=\"line\">m = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>([</span><br><span class=\"line\">    [<span class=\"string\">&#x27;x&#x27;</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">    [<span class=\"string\">&#x27;y&#x27;</span>, <span class=\"number\">2</span>]</span><br><span class=\"line\">]);</span><br></pre></td></tr></table></figure>\n<p>Object与Map增删改查基本操作。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> o = &#123;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> m = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\"><span class=\"comment\">//添加</span></span><br><span class=\"line\">o.<span class=\"property\">x</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">m.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;x&#x27;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">//修改</span></span><br><span class=\"line\">o.<span class=\"property\">x</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\">m.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;x&#x27;</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">//递增</span></span><br><span class=\"line\">o.<span class=\"property\">x</span>++;</span><br><span class=\"line\">m.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;x&#x27;</span>, m.<span class=\"title function_\">get</span>(<span class=\"string\">&#x27;x&#x27;</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">//获取</span></span><br><span class=\"line\">o.<span class=\"property\">x</span>;</span><br><span class=\"line\">m.<span class=\"title function_\">get</span>(<span class=\"string\">&#x27;x&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//删除</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> o.<span class=\"property\">x</span>;</span><br><span class=\"line\">map.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;x&#x27;</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>Map的键值对个数可以通过size属性获取</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> m = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">m.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;x&#x27;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">m.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;y&#x27;</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(m);<span class=\"comment\">//Map(2) &#123;&#x27;x&#x27; =&gt; 1, &#x27;y&#x27; =&gt; 2&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(m.<span class=\"property\">size</span>);<span class=\"comment\">//2</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Map的方法\"><a href=\"#Map的方法\" class=\"headerlink\" title=\"Map的方法\"></a>Map的方法</h2><p><strong>基本方法：</strong></p>\n<ol>\n<li><strong><code>get()</code>：</strong>获取元素</li>\n<li><strong><code>set()</code>：</strong>设置元素</li>\n<li><strong><code>has()</code>：</strong>检查是否有指定key</li>\n<li><strong><code>clear()</code>：</strong>清空map</li>\n<li><strong><code>delete()</code>：</strong>删除指定元素</li>\n</ol>\n<p><strong>遍历方法：</strong></p>\n<ol>\n<li><strong><code>keys()</code>：</strong>提取键并返回<strong>键</strong>的迭代器MapIterator对象</li>\n<li><strong><code>values()</code>：</strong>提取值并返回<strong>值</strong>的迭代器MapIterator对象</li>\n<li><strong><code>entries()</code>：</strong>提取键值对并返回取<strong>键值对</strong>的迭代器MapIterator对象</li>\n<li><strong><code>forEach()</code>：</strong>传入回调函数(value, key)=&gt;{}</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> m = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>([</span><br><span class=\"line\">    [<span class=\"string\">&#x27;x&#x27;</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">    [<span class=\"string\">&#x27;y&#x27;</span>, <span class=\"number\">2</span>]</span><br><span class=\"line\">]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(m.<span class=\"title function_\">keys</span>());<span class=\"comment\">//MapIterator &#123;&#x27;x&#x27;, &#x27;y&#x27;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(m.<span class=\"title function_\">values</span>());<span class=\"comment\">// MapIterator &#123;1, 2&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(m.<span class=\"title function_\">entries</span>());<span class=\"comment\">// MapIterator &#123;&#x27;x&#x27; =&gt; 1, &#x27;y&#x27; =&gt; 2&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//迭代器可以用for-of遍历</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [key, value] <span class=\"keyword\">of</span> m.<span class=\"title function_\">entries</span>()) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key, value);<span class=\"comment\">//x 1, y 2</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">m.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">value, key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key, value);<span class=\"comment\">//x 1, y 2</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"Set对象\"><a href=\"#Set对象\" class=\"headerlink\" title=\"Set对象\"></a>Set对象</h1><p><strong>Set</strong>是<strong>唯一值</strong>的集合，与map类似，map存放的是键值对，而set只存放唯一值。</p>\n<p><strong>创建set对象：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span><br><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]);</span><br></pre></td></tr></table></figure>\n<p>set对象与数组也很像，可以互相转换</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr1);<span class=\"comment\">//数组转为set对象，会去重</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [...s];<span class=\"comment\">//set对象转为数组</span></span><br></pre></td></tr></table></figure>\n<p>可利用set值唯一的特性做<strong>数组去重、并集、交集、差集</strong>操作</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1、去重</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>]);</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [...s];<span class=\"comment\">//[1,2,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2、并集</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...arr1, ...arr2]); <span class=\"comment\">// &#123;1, 2, 3, 4&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [...s];<span class=\"comment\">// [1,2,3,4]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//3、交集，arr1和arr2共有的元素</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> s1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr1);<span class=\"comment\">//把数组转为set对象方便操作</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> s2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr2);</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr1.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> s2.<span class=\"title function_\">has</span>(x));<span class=\"comment\">//[2, 3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//4、差集,arr1去除arr2中的元素</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> s1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr1);<span class=\"comment\">//把数组转为set对象方便操作</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> s2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr2);</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = arr1.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> !s2.<span class=\"title function_\">has</span>(x));<span class=\"comment\">//[1]</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>Set值个数可以通过size属性获取</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(s);<span class=\"comment\">//Set(3) &#123;1, 2, 3&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(s.<span class=\"property\">size</span>);<span class=\"comment\">//3</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Set的方法\"><a href=\"#Set的方法\" class=\"headerlink\" title=\"Set的方法\"></a>Set的方法</h2><ol>\n<li><strong><code>add()</code>：</strong>添加新元素</li>\n<li><strong><code>delete()</code>：</strong>删除指定元素</li>\n<li><strong><code>clear()</code>：</strong>清空所有元素</li>\n<li><strong><code>has()</code>：</strong>判断是否存在某值</li>\n<li><strong><code>forEach()</code>：</strong>遍历每个元素，传入回调函数</li>\n<li><strong><code>keys()</code>：</strong>返回一个 Iterator 对象，这个对象以插入Set 对象的顺序包含了原 Set 对象里的每个元素</li>\n<li><strong><code>values()</code>：</strong>同keys()</li>\n<li><strong><code>entries()</code>：</strong>返回 [value, value] 形式的数组迭代器对象，value 是给定集合中的每个元素，迭代器对象元素的顺序即集合对象中元素插入的顺序</li>\n</ol>\n<p><strong>add()、delete()、clear()、has() ：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]);</span><br><span class=\"line\">s.<span class=\"title function_\">add</span>(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(s);<span class=\"comment\">//Set(4) &#123;1, 2, 3, 4&#125;</span></span><br><span class=\"line\">s.<span class=\"title function_\">delete</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">s.<span class=\"title function_\">has</span>(<span class=\"number\">2</span>);<span class=\"comment\">//false</span></span><br><span class=\"line\">s.<span class=\"title function_\">clear</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(s.<span class=\"property\">size</span>);<span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>keys()、values() ：</strong>返回一个 Iterator 对象，这个对象以插入Set 对象的顺序包含了原 Set 对象里的每个元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]);</span><br><span class=\"line\"><span class=\"keyword\">var</span> setIter = s.<span class=\"title function_\">values</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter);<span class=\"comment\">//SetIterator &#123;1, 2, 3&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter.<span class=\"title function_\">next</span>().<span class=\"property\">value</span>); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter.<span class=\"title function_\">next</span>().<span class=\"property\">value</span>); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter.<span class=\"title function_\">next</span>().<span class=\"property\">value</span>); <span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n<p><strong>entries() ：</strong>返回 [value, value] 形式的数组迭代器对象，value 是给定集合中的每个元素，迭代器对象元素的顺序即集合对象中元素插入的顺序</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]);</span><br><span class=\"line\"><span class=\"keyword\">var</span> setIter = s.<span class=\"title function_\">entries</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter);<span class=\"comment\">//SetIterator &#123;1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 3&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter.<span class=\"title function_\">next</span>().<span class=\"property\">value</span>); <span class=\"comment\">// [1, 1]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter.<span class=\"title function_\">next</span>().<span class=\"property\">value</span>); <span class=\"comment\">// [2, 2]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(setIter.<span class=\"title function_\">next</span>().<span class=\"property\">value</span>); <span class=\"comment\">// [3, 3]</span></span><br></pre></td></tr></table></figure>\n<p><strong>forEach() ：</strong>遍历每个元素，传入回调函数，参数：回调函数、thisArg执行回调函数时可以当作this来使用。<br>回调函数参数：值（key）、值（value）、set对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]);</span><br><span class=\"line\">s.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key,value,set</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key,value);<span class=\"comment\">//1 1, 2 2, 3 3</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h1 id=\"浅拷贝和深拷贝\"><a href=\"#浅拷贝和深拷贝\" class=\"headerlink\" title=\"浅拷贝和深拷贝\"></a>浅拷贝和深拷贝</h1><p><strong>浅拷贝：</strong>只拷贝最外面一层的数据；更深层次的对象，只拷贝引用，浅拷贝的时候，是属于传址，而非传值。<br><strong>深拷贝：</strong>拷贝多层数据；每一层级别的数据都会拷贝，深拷贝会把对象里所有的数据重新复制到新的内存空间，是最彻底的拷贝。</p>\n<p><strong>区分深拷贝与浅拷贝：</strong>B复制了A，修改A，B也一样被修改是浅拷贝，B没变，是深拷贝。</p>\n<figure class=\"highlight js\"><figcaption><span>浅拷贝举例</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a;<span class=\"comment\">// 浅拷贝，传地址</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a===b);<span class=\"comment\">// 指向地址相同，true</span></span><br><span class=\"line\">a[<span class=\"number\">0</span>]=<span class=\"number\">1</span>;<span class=\"comment\">// 修改a</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b[<span class=\"number\">0</span>]);<span class=\"comment\">// 1，b也改变</span></span><br></pre></td></tr></table></figure>\n<p>通过<code>Object.assign()</code>实现浅拷贝:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">19</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = <span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2);<span class=\"comment\">//&#123;name: &#x27;chuckle&#x27;, age: 19&#125;</span></span><br><span class=\"line\">obj2.<span class=\"property\">name</span> = <span class=\"string\">&quot;qx&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">name</span>);<span class=\"comment\">//qx,修改obj2，obj1也会被修改</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"实现深拷贝\"><a href=\"#实现深拷贝\" class=\"headerlink\" title=\"实现深拷贝\"></a>实现深拷贝</h2><p><strong>通过<code>for-in</code>递归实现深拷贝</strong>，即递归遍历整个对象，找到简单值，将值复制</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">19</span>,</span><br><span class=\"line\">    <span class=\"attr\">test</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">    <span class=\"attr\">obj</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&#x27;giggles&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">age</span>: <span class=\"number\">18</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">deepCopy</span>(obj2,obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2);<span class=\"comment\">//&#123;name: &#x27;chuckle&#x27;, age: 19, test: Array(3), obj: &#123;…&#125;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//修改obj2，不影响原来的obj1</span></span><br><span class=\"line\">obj2.<span class=\"property\">name</span> = <span class=\"string\">&#x27;qx&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">name</span>);<span class=\"comment\">//&#x27;chuckle&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2.<span class=\"property\">name</span>);<span class=\"comment\">//&#x27;qx&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepCopy</span>(<span class=\"params\">newObj, oldObj</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//遍历属性名或数组下标</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> oldObj) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取属性值 oldObj[key]</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> item = oldObj[key];<span class=\"comment\">//依次获取属性值</span></span><br><span class=\"line\">        <span class=\"comment\">//下面进行创建属性与属性值的复制</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (item <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 判断这个值是否是数组</span></span><br><span class=\"line\">            newObj[key] = [];</span><br><span class=\"line\">            <span class=\"title function_\">deepCopy</span>(newObj[key], item);<span class=\"comment\">//递归</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Object</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 判断这个值是否是对象</span></span><br><span class=\"line\">            newObj[key] = &#123;&#125;;</span><br><span class=\"line\">            <span class=\"title function_\">deepCopy</span>(newObj[key], item);<span class=\"comment\">//递归</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 简单数据类型，直接赋值</span></span><br><span class=\"line\">            newObj[key] = item;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>通过JSON对象的<strong>parse</strong>和<strong>stringify</strong>方法实现<strong>深拷贝</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepClone</span>(<span class=\"params\">obj</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> str = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(obj);<span class=\"comment\">//将对象转为字符串这个基本类型</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(str);<span class=\"comment\">//再将字符串转为新对象，新对象与原对象就没有关系了</span></span><br><span class=\"line\">&#125;    </span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">19</span>,</span><br><span class=\"line\">    <span class=\"attr\">test</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">    <span class=\"attr\">obj</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&#x27;giggles&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">age</span>: <span class=\"number\">18</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = <span class=\"title function_\">deepClone</span>(obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2);<span class=\"comment\">//&#123;name: &#x27;chuckle&#x27;, age: 19, test: Array(3), obj: &#123;…&#125;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//修改obj2，不影响原来的obj1</span></span><br><span class=\"line\">obj2.<span class=\"property\">name</span> = <span class=\"string\">&#x27;qx&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">name</span>);<span class=\"comment\">//&#x27;chuckle&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2.<span class=\"property\">name</span>);<span class=\"comment\">//&#x27;qx&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>数组等对象的<code>slice()</code>不是完全的<strong>深拷贝</strong>，因为数组中存的是对象的引用地址，slice()只将地址拷贝了过去</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">0</span>, <span class=\"number\">1</span>, [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>], <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a.<span class=\"title function_\">slice</span>();</span><br><span class=\"line\"><span class=\"comment\">//修改b的第一层不影响a</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a[<span class=\"number\">0</span>]);<span class=\"comment\">// 0</span></span><br><span class=\"line\">b[<span class=\"number\">0</span>] = <span class=\"number\">9</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a[<span class=\"number\">0</span>]);<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b[<span class=\"number\">0</span>]);<span class=\"comment\">// 9</span></span><br><span class=\"line\"><span class=\"comment\">//修改嵌套的多层数组有影响</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a[<span class=\"number\">2</span>][<span class=\"number\">0</span>]);<span class=\"comment\">// 1</span></span><br><span class=\"line\">b[<span class=\"number\">2</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a[<span class=\"number\">2</span>][<span class=\"number\">0</span>]);<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b[<span class=\"number\">2</span>][<span class=\"number\">0</span>]);<span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"迭代器Iterator\"><a href=\"#迭代器Iterator\" class=\"headerlink\" title=\"迭代器Iterator\"></a>迭代器Iterator</h1><p>迭代以从一个数据集中按照一定的顺序，不断取出数据的过程。</p>\n<p><strong>迭代与遍历的区别：</strong></p>\n<ol>\n<li>迭代强调依次取数据的过程，不保证把所有的数据都取完</li>\n<li>遍历强调的是要把所有的数据依次全部取出</li>\n</ol>\n<p>迭代器是能调用<code>next()</code>实现迭代的一种对象，该方法返回一个具有两个属性的对象（value：可迭代对象迭代至此的值，done：布尔，是否已经取出所有数据）</p>\n<p>通过可迭代对象中的迭代器工厂函数<code>Symbol.iterator</code>来生成迭代器。每次生存的迭代器之间互不干扰。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arrIter = arr[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arrIter);<span class=\"comment\">// Array Iterator &#123;&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\"> <span class=\"keyword\">var</span> next = arrIter.<span class=\"title function_\">next</span>();</span><br><span class=\"line\"> <span class=\"keyword\">var</span> value = next.<span class=\"property\">value</span>;</span><br><span class=\"line\"> <span class=\"keyword\">var</span> done = next.<span class=\"property\">done</span>;</span><br><span class=\"line\"> <span class=\"keyword\">if</span>(done)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">break</span>;</span><br><span class=\"line\"> &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value);<span class=\"comment\">// 1 2 3 4</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>迭代器对象可作为可迭代对象，<strong>for-of</strong>遍历可迭代对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arrIter = arr[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">of</span> arrIter) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);<span class=\"comment\">// 1 2 3 4</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>如果可迭代对象在迭代期间被修改了，迭代器得到的结果也是修改后的。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arrIter = arr[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">of</span> arrIter) &#123;</span><br><span class=\"line\">    arr[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);<span class=\"comment\">// 1 2 0 4</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>当迭代到 <strong>done: true</strong> 时迭代器会处于一种完成但并不完成的状态，还能重复调用 next()，结果都是 <strong>{ value: undefined, done: true }</strong></p>\n<h1 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h1><p><strong>正则表达式：</strong>用某种模式去匹配一类字符串的公式，<a href=\"https://c.runoob.com/front-end/854/\">正则表达式在线测试</a></p>\n<p><strong>正则表达式主体和修饰符：</strong></p>\n<figure class=\"highlight md\"><figcaption><span>修饰符，修饰符用于执行区分大小写和全局匹配，顺序：/gim</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">i：不区分大小写的匹配</span><br><span class=\"line\">g：全局匹配（匹配所有匹配而非在找到第一个匹配后停止）</span><br><span class=\"line\">m：多行匹配</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>方括号 和 | ，表示或，匹配某个范围内的字符</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">[abc] 匹配方括号之间的任何字符</span><br><span class=\"line\">[^abc] 任何不在方括号之间的字符</span><br><span class=\"line\">[0-9] 匹配 0 到 9 的数字。</span><br><span class=\"line\">[a-z] 匹配从小写 a 到小写 z 的字符</span><br><span class=\"line\">(aa|bb|cc) 匹配aa或bb或cc</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>元字符，拥有特殊含义的字符</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">.(点号) 匹配单个字符，除了换行和行结束符</span><br><span class=\"line\">\\w 匹配数字、字母及下划线。</span><br><span class=\"line\">\\W 匹配非单词字符</span><br><span class=\"line\">\\d 匹配数字</span><br><span class=\"line\">\\D 匹配非数字字符</span><br><span class=\"line\">\\s 匹配空白字符</span><br><span class=\"line\">\\S 匹配非空白字符</span><br><span class=\"line\">\\b 匹配单词边界</span><br><span class=\"line\">\\B 匹配非单词边界</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>特殊转义符</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">\\n 匹配换行符 </span><br><span class=\"line\">\\r 匹配回车符 </span><br><span class=\"line\">\\t 匹配制表符 </span><br><span class=\"line\">\\f 匹配换页符 </span><br><span class=\"line\">\\v 匹配垂直制表符 </span><br><span class=\"line\">\\0 匹配null字符</span><br><span class=\"line\">\\\\ 匹配\\</span><br><span class=\"line\">\\&quot; 匹配 &quot;</span><br><span class=\"line\">\\&#x27; 匹配 &#x27;</span><br><span class=\"line\">\\xxx 匹配以八进制数 xxx 规定的字符</span><br><span class=\"line\">\\xdd 匹配以十六进制数 dd 规定的字符</span><br><span class=\"line\">\\uxxxx 匹配以十六进制数 xxxx 规定的 Unicode 字符</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight md\"><figcaption><span>量词，限定符，定位符</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">+</span> 重复1次或更多次</span><br><span class=\"line\"><span class=\"bullet\">*</span> 重复任意次数</span><br><span class=\"line\">&#123;n&#125; 重复n次</span><br><span class=\"line\">&#123;n,&#125; 重复n次或更多次（最少n次)</span><br><span class=\"line\">&#123;n,m&#125; 重复n到m次</span><br><span class=\"line\">^ 限定开始位置的字符</span><br><span class=\"line\">$ 限定结尾位置的字符，如果在正则表达式中同时使用^和$符号，则要求字符串必须完全符合正则表达式</span><br><span class=\"line\">? 非贪婪模式，找到到第一个就不再往后匹配，正则默认贪婪匹配，在同一个匹配项中，尽量匹配更多所搜索的字符</span><br><span class=\"line\">?=n 匹配其后有紧接指定字符串 n 的字符串</span><br><span class=\"line\">?!n 匹配其后没有紧接指定字符串 n 的字符串</span><br><span class=\"line\">?&lt;=n 找到n但不匹配n</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"RegExp对象\"><a href=\"#RegExp对象\" class=\"headerlink\" title=\"RegExp对象\"></a>RegExp对象</h2><p>在js中，正则表达式也是对象，<strong>RegExp</strong>是一个预定义了属性和方法的正则表达式对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"regexp\">/正则表达式主体/</span>修饰符(可选);<span class=\"comment\">// re = /Hello/g</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;正则表达式&quot;</span>); <span class=\"comment\">// 参数是字符串</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;正则表达式&quot;</span>, <span class=\"string\">&quot;匹配模式&quot;</span>); <span class=\"comment\">// 两个参数都是字符串</span></span><br></pre></td></tr></table></figure>\n<p><strong>RegExp对象的属性和方法：</strong></p>\n<ol>\n<li><strong>global：</strong>    判断是否设置了 “g” 修饰符</li>\n<li><strong>ignoreCase：</strong>判断是否设置了 “i” 修饰符</li>\n<li><strong>multiline：</strong>判断是否设置了 “m” 修饰符</li>\n<li><strong>lastIndex：</strong>规定下次匹配的起始位置</li>\n<li><strong>source：</strong>返回正则表达式的匹配模式</li>\n<li><strong><code>test()</code>：</strong>判断指定字符串是否符合正则规则，返回布尔</li>\n<li><strong><code>exec()</code>：</strong>返回一个数组，存放正则匹配的结果。无匹配返回 null</li>\n<li><strong><code>toString()</code>：</strong>返回正则表达式的字符串。</li>\n</ol>\n<p><code>exec()</code>在 regexp 的属性 lastIndex 指定的字符处开始检索字符串，当它找到了与表达式相匹配的文本时，在匹配之后，它将把 regexp 的 lastIndex 属性设置为匹配文本后的第一个字符所在位置（调用test()也会改变lastIndex），可以通过反复地调用 exec() 方法来遍历字符串中的所有匹配文本，当 exec() 再也找不到匹配的文本时，它将返回 null，并且把属性 lastIndex 重置为 0</p>\n<p><strong>返回值：</strong>匹配到的文本的数组，数组有四个属性，index 匹配文本第一个字符的位置，input 需匹配的原字符串，groups 当初中命名的分组时匹配到的分组对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str=<span class=\"string\">&quot;Hello world! Hello china!&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"regexp\">/hello/gi</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"property\">lastIndex</span>);<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"title function_\">test</span>(str));<span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"property\">lastIndex</span>);<span class=\"comment\">// 5</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"title function_\">exec</span>(str));<span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">//[&#x27;Hello&#x27;, index: 13, input: &#x27;Hello world! Hello china!&#x27;, groups: undefined]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"property\">lastIndex</span>);<span class=\"comment\">// 18</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>检查一个字符串是否是一个合法手机号</p>\n<p>以1开头（^1 表示1开头）<br>第二位是3~9之间任意数字[3-9]<br>三位以后任意9位数字[0-9]{9}重复9次的0-9</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;15123456789&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"regexp\">/^1[3-9][0-9]&#123;9&#125;$/</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"title function_\">test</span>(str));<span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>判断字符串是否为电子邮件</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;916017604@qq.com&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"regexp\">/^\\w&#123;3,&#125;(\\.\\w+)*@[A-z0-9]+(\\.[A-z]&#123;2,5&#125;)&#123;1,2&#125;$/</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(re.<span class=\"title function_\">test</span>(str));<span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p><strong>支持正则表达式的 String 对象的方法：</strong></p>\n<ol>\n<li><strong><code>search()</code></strong> 使用表达式来搜索匹配，然后返回匹配的位置</li>\n<li><strong><code>replace()</code></strong> 返回模式被替换处修改后的字符串，不改变原字符串，返回替换后的字符串</li>\n<li><strong><code>match()</code></strong> 返回匹配到的字符串的数组</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;你好世界&quot;</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> n = str.<span class=\"title function_\">match</span>(<span class=\"regexp\">/你好/</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(n[<span class=\"number\">0</span>]);<span class=\"comment\">// 你好</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/世界/</span>, <span class=\"string\">&#x27;太阳系&#x27;</span>));<span class=\"comment\">// 你好太阳系</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>提取电话号码</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;我的电话号码是15123456789&quot;</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> n = str.<span class=\"title function_\">match</span>(<span class=\"regexp\">/1[3-9][0-9]&#123;9&#125;/</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(n[<span class=\"number\">0</span>]);<span class=\"comment\">// 15123456789</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>替换url内的域名</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&quot;http://127.0.0.1:4000/&quot;</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"regexp\">/(?&lt;=(http|https):\\/\\/).+?(?=\\/)/g</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> n = str.<span class=\"title function_\">replace</span>(re, <span class=\"string\">&#x27;www.qcqx.cn&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(n);<span class=\"comment\">// http://www.qcqx.cn/</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"原型与原型链\"><a href=\"#原型与原型链\" class=\"headerlink\" title=\"原型与原型链\"></a>原型与原型链</h1><p><strong>省流：</strong><br>原型其实就是一个对象，实例继承原型对象的属性，通过继承的这种方式，new出来的实例也有了这个属性</p>\n<p>对象的构造函数有一个 <strong>prototype</strong> 的属性，通过这个属性就能访问到原型</p>\n<p>对象有一个 <strong>__proto__</strong> 属性，指向构造函数的 <strong>prototype</strong> 的属性，所以也可以访问到原型</p>\n<p>构造函数也有 <strong>__proto__</strong> 属性，也是对象，因为所有函数都是 Function 构造的，所以都等于 Function.prototype</p>\n<p>原型也是对象，也有 <strong>__proto__</strong> 属性，通常浏览器称之为 <strong>[[Prototype]]</strong> ，它指向原型的原型，像单链表的next指针一样，构成原型链，直到Object构造函数，因为 Object 对象的原型 Object.prototype.<strong>proto</strong> 为空null没有下一个原型了，Object.prototype是原型的终点</p>\n<p>原型与原型链其实是为了实现继承，原型就像java中的类，由构造函数构造的对象都继承了这个构造函数原型的属性和方法，当然，每个对象后续都可以添加自己的属性和方法来覆盖继承自原型的属性和方法。</p>\n<p>原型链中每个节点是构造函数的原型，每个节点有一个循环：构造函数的 prototype 属性指向它的原型，原型的 constructor 属性指向它的构造函数</p>\n<p>普通对象也可以利用 Object.create() 作为新生成对象的原型。</p>\n<h2 id=\"原型\"><a href=\"#原型\" class=\"headerlink\" title=\"原型\"></a>原型</h2><p>每个 JS 对象一定对应一个原型对象，并从这个原型对象继承属性和方法。</p>\n<p><strong>对象</strong>只有隐式原型 <strong>__proto__</strong><br><strong>函数</strong>有隐式原型 <strong>__proto__</strong> ，还有显式原型 <strong>prototype</strong></p>\n<p><strong>对象</strong>的 <strong>__proto__</strong> 指向 <strong>其构造函数.prototype</strong>，或者说 <strong>对象.__proto__</strong> 等于 <strong>其构造函数.prototype</strong> 保存的东西是一样的<br><strong>函数</strong>的 <strong>__proto__</strong> 都指向<strong>Function.prototype</strong>，因为所有函数都是由Function构造的，值为 ƒ(){[native code]}</p>\n<p><strong>函数</strong>的 <strong>prototype</strong> 指向一个对象，就是通常所说的原型对象，一定有两个属性，<strong>constructor</strong> 指向构造函数本身，<strong>[[Prototype]]</strong>就是__proto__，它连接起一个个原型，构成<strong>原型链</strong>，Object 对象的原型 Object.prototype.<strong>proto</strong> 为空null</p>\n<p><strong>两种获取对象隐式原型的方式：</strong>对象的<strong>__proto__</strong> 属性（非标准），<code>Object.getPrototypeOf()</code>方法(标准)<br><strong>获取显式原型：</strong>构造函数.prototype</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">__proto__</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(obj));</span><br><span class=\"line\"><span class=\"comment\">//&#123;constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, …&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//    constructor: ƒ Object()</span></span><br><span class=\"line\"><span class=\"comment\">//    __proto__: null 原型的__proto__指向下一个原型，而Object对象的原型 Object.prototype.__proto__ 为空null</span></span><br><span class=\"line\"><span class=\"comment\">//    原型上还有各种方法，所有Object和Object的子类都会继承这些属性和方法</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\">__proto__</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>);</span><br><span class=\"line\"><span class=\"comment\">//ƒ () &#123; [native code] &#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>只有一个Object对象不够直观，新建一个构造函数，new一个Person对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person.<span class=\"property\">__proto__</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(person));</span><br></pre></td></tr></table></figure>\n<p>下面的输出就是Person对象的原型，可以发现原型上并没有a属性，在构造函数中通过this直接定义实例成员，会作为实例对象的属性，而不是出现在原型上再被对象继承。</p>\n<figure class=\"highlight js\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">constructor</span>: ƒ&#125;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: ƒ <span class=\"title class_\">Person</span>()</span><br><span class=\"line\">    [[<span class=\"title class_\">Prototype</span>]]: <span class=\"title class_\">Object</span></span><br></pre></td></tr></table></figure>\n<p>这个原型上只有两个属性，我们可以在原型上添加属性和方法，所有对象都会继承这些属性和方法，哪怕是在这之前已经实例化的对象。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\"><span class=\"comment\">//在原型上添加属性和方法</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(person).<span class=\"property\">a</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(person).<span class=\"property\">b</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(person));</span><br></pre></td></tr></table></figure>\n<p>可以看到原型上出现了a属性，值为0</p>\n<figure class=\"highlight js\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">a</span>: <span class=\"number\">0</span>, <span class=\"attr\">constructor</span>: ƒ&#125;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: ƒ <span class=\"title class_\">Person</span>()</span><br><span class=\"line\">    [[<span class=\"title class_\">Prototype</span>]]: <span class=\"title class_\">Object</span></span><br></pre></td></tr></table></figure>\n<p>试着在实例化对象中使用继承来的a、b属性</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\"><span class=\"comment\">//在原型上添加属性和方法</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(person).<span class=\"property\">a</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">getPrototypeOf</span>(person).<span class=\"property\">b</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">//使用继承来的a、b属性</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person.<span class=\"property\">a</span>);<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person.<span class=\"property\">__proto__</span>.<span class=\"property\">a</span>);<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person.<span class=\"property\">b</span>);<span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>person.a 输出 1，访问的是实例成员a，也就是说对象的属性可以覆盖继承来的同名属性</p>\n<figure class=\"highlight js\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>再看原型中的的 constructor 属性，它指向该原型对应的构造函数，可以在控制台中展开</p>\n<p><img src=https://cdn.chuckle.top/images/43-2.webp width=\"45%\"></p>\n<p>构成了一个循环：构造函数的 prototype 属性指向它的原型，原型的 constructor 属性指向它的构造函数</p>\n<h2 id=\"原型链\"><a href=\"#原型链\" class=\"headerlink\" title=\"原型链\"></a>原型链</h2><p>原型是原型链上的节点，各个原型通过 <strong>__proto__</strong> 相连接，对象可以继承原型链上从Object构造函数开始至该对象构造函数的所有原型的属性和方法，即继承了其所有父级的所有属性和方法，且逐层可以覆盖</p>\n<p><strong>制造原型链：</strong></p>\n<p><strong>直接操作prototype属性：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Parent</span>(<span class=\"params\"></span>)&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Child</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span>=<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Parent</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">b</span> = <span class=\"number\">2</span>;<span class=\"comment\">// 在原型上添加属性</span></span><br><span class=\"line\"><span class=\"title class_\">Parent</span>.<span class=\"property\">c</span> = <span class=\"number\">0</span>;<span class=\"comment\">//在构造函数上添加静态成员</span></span><br><span class=\"line\"><span class=\"comment\">// 通过原型的__proto__连接起两个原型，表示Child继承Parent</span></span><br><span class=\"line\"><span class=\"title class_\">Child</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">__proto__</span> = <span class=\"title class_\">Parent</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span></span><br><span class=\"line\"><span class=\"comment\">// 也可以通过setPrototypeOf设置原型的原型，来连接两个原型</span></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">setPrototypeOf</span>(<span class=\"title class_\">Child</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>,<span class=\"title class_\">Parent</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> child = <span class=\"keyword\">new</span> <span class=\"title class_\">Child</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">a</span>);<span class=\"comment\">// 1,访问实例成员</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">b</span>);<span class=\"comment\">// 2,通过原型链继承自Parent原型上的b属性</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">c</span>);<span class=\"comment\">// undefined，不能通过原型链访问原型对应构造函数的静态成员</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>可以在控制台展开 <strong>[[Prototype]]</strong> 属性来查看原型链</p>\n<p><img src=https://cdn.chuckle.top/images/43-3.webp width=\"50%\"></p>\n<p>通过 <code>Object.create()</code> 建立原型链，在Vue源码中 Object.create() 的使用频率非常高</p>\n<p><code>Object.create()</code> 用于创建一个新对象，使用现有的对象来作为新创建对象的原型</p>\n<p>原型和普通对象都有<strong>proto</strong>和constructor属性，且作用都一样，利用Object.create()可以将一个普通对象作为新对象的原型</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Parent</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">p</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Parent</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">b</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> parent =  <span class=\"keyword\">new</span> <span class=\"title class_\">Parent</span>();</span><br><span class=\"line\">parent.<span class=\"property\">a</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用现有的对象来作为新创建对象的原型</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> child = <span class=\"title class_\">Object</span>.<span class=\"title function_\">create</span>(parent);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">b</span>);<span class=\"comment\">// 2,通过原型链继承自Parent原型上的b属性</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">p</span>);<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">a</span>);<span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>将原型与构造函数的循环、原型与原型的链、构造函数的实例组成一张图：</p>\n<p><img src=https://cdn.chuckle.top/images/43-4.webp width=\"100%\"></p>\n","categories":["学习笔记"],"tags":["JS","前端"]},{"title":"JavaScript笔记DOM操作","url":"/article/6c6d4353.html","content":"<h1 id=\"DOM简介\"><a href=\"#DOM简介\" class=\"headerlink\" title=\"DOM简介\"></a>DOM简介</h1><p>HTML是一种纯文本格式的文件，也就是文档，<a href=\"/article/1475187a.html\">HTML基础笔记</a></p>\n<p><strong>DOM：</strong>Document Object Model 文档对象模型，将 HTML 文档结构化表示</p>\n<p>DOM 让网页 HTML 中的元素以树的方式呈现，并提供了访问、操控 DOM 树中各个节点的API，是为了让 JS 操作 HTML 元素而制定的一个规范，如今可看作是 JS 的一部分</p>\n<p>每个载入浏览器的 HTML 文档都会成为 Document 对象，Document 对象是 Window 对象的一部分，可通过 window.document 或 document 对其进行访问</p>\n<figure class=\"highlight html\"><figcaption><span>获取DOM对象</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;Content-Type&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>一个div<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">document</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">document</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>控制台输出：获取到了网页所有元素，整个html文档</p>\n<p><img src=https://cdn.chuckle.top/images/44-2.webp width=\"70%\"></p>\n<p><strong>DOM树：</strong><br>网页中的一切元素都是 DOM 树中的节点</p>\n<p><img src=https://cdn.chuckle.top/images/44-3.webp width=\"80%\"></p>\n<p><strong>节点类型：</strong></p>\n<ol>\n<li><strong>文档节点：</strong>文档本身，整个 document 文档</li>\n<li><strong>元素节点：</strong>所有 HTML 标签元素，<head> <body> <div> <span></li>\n<li><strong>属性节点：</strong>所有标签元素内的属性，id、class、href、name</li>\n<li><strong>文本节点：</strong>标签元素内的文本</li>\n<li><strong>注释节点：</strong>HTML中的注释，&lt;!— 注释 —></li>\n</ol>\n<h1 id=\"获取DOM元素\"><a href=\"#获取DOM元素\" class=\"headerlink\" title=\"获取DOM元素\"></a>获取DOM元素</h1><p><strong>获取dom节点对象的方法：</strong></p>\n<ol>\n<li><code>getElementById(&#39;id名&#39;)</code> 根据id获取<strong>第一个dom对象</strong>（通常id唯一）</li>\n<li><code>getElementsByClassName(&#39;class类名&#39;)</code> 根据class名获取<strong>dom对象数组 NodeList</strong></li>\n<li><code>getElementsByTagName(&#39;标签名&#39;)</code> 根据标签名获取<strong>dom对象数组</strong></li>\n<li><code>getElementsByName(&#39;name名&#39;)</code> 根据name属性值获取<strong>dom对象数组</strong>，一般不用</li>\n<li><code>querySelector(&#39;CSS选择器&#39;)</code> 查找匹配指定CSS选择器的<strong>第一个dom对象</strong></li>\n<li><code>querySelectorAll(&#39;CSS选择器&#39;)</code> 查找匹配指定CSS选择器的所有元素，返回<strong>dom对象数组</strong></li>\n</ol>\n<p>获取到的dom对象数组都是伪数组</p>\n<p>JS获取的都是对象，使用<code>console.dir()</code>能更直观地看一个对象。</p>\n<h2 id=\"操作元素的内容\"><a href=\"#操作元素的内容\" class=\"headerlink\" title=\"操作元素的内容\"></a>操作元素的内容</h2><p>获取到dom对象后，通过两个<strong>属性</strong>就能获取、修改元素中的内容</p>\n<ol>\n<li><code>innerText</code> <strong>不解析</strong>标签</li>\n<li><code>innerHTML</code> <strong>解析</strong>标签，通常用这个</li>\n</ol>\n<p>使用 += 保留元素中原有内容，并在元素中末尾添加新内容</p>\n<h2 id=\"操作元素的属性\"><a href=\"#操作元素的属性\" class=\"headerlink\" title=\"操作元素的属性\"></a>操作元素的属性</h2><p>获取到dom对象后，直接访问<strong>属性</strong>（如src、href、id、class）就能进行修改或赋值</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;1.webp&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;一张图片&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">const</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;img&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">  img.<span class=\"property\">src</span> = <span class=\"string\">&quot;2.webp&quot;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"操控元素样式\"><a href=\"#操控元素样式\" class=\"headerlink\" title=\"操控元素样式\"></a>操控元素样式</h2><p><strong>1、通过 style 属性控制元素样式：</strong>css带有 - 连接符的属性，在js中采用小驼峰命名法获取</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">const</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">box.<span class=\"property\">style</span>.<span class=\"property\">background</span> = <span class=\"string\">&#x27;blue&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">box.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&#x27;green&#x27;</span>;<span class=\"comment\">//background-color</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><strong>2、通过类名控制元素样式：</strong>直接修改style属性过于麻烦，可以先把样式写给一个类，再将类名赋给 <strong>className</strong> 属性，+= 保留原有类名</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"selector-class\">.box1</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"selector-class\">.box2</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">88</span>, <span class=\"number\">164</span>, <span class=\"number\">192</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">const</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.box1&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">  box.<span class=\"property\">className</span> += <span class=\"string\">&#x27; box2&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>使用 += 号来保留原有class还是不够规范</p>\n<p>可以使用 <strong>classList</strong> 属性来添加、删除、切换(有就删除，没有就加上)类名</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 添加一个类名</span></span><br><span class=\"line\">元素.<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;类名&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 删除一个类名</span></span><br><span class=\"line\">元素.<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;类名&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 切换一个类名</span></span><br><span class=\"line\">元素.<span class=\"property\">classList</span>.<span class=\"title function_\">toggle</span>(<span class=\"string\">&#x27;类名&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"操作表单元素\"><a href=\"#操作表单元素\" class=\"headerlink\" title=\"操作表单元素\"></a>操作表单元素</h2><p>input 标签框内的文本存放在其value属性中，获取即可</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ipt = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ipt.<span class=\"property\">value</span>);</span><br></pre></td></tr></table></figure>\n<p>操作 input 的 type 属性，来控制输入框样式</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ipt = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\">ipt.<span class=\"property\">type</span> = <span class=\"string\">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure>\n<p>一些布尔值的属性(赋任意值都代表true)，disabled、checked、selected，添加上就有效果</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ipt = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\">ipt.<span class=\"property\">checked</span> = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"自定义属性\"><a href=\"#自定义属性\" class=\"headerlink\" title=\"自定义属性\"></a>自定义属性</h2><p><strong>标准属性：</strong>标签自带的属性，class、id、title等</p>\n<p><strong>自定义属性：</strong>H5的新东西,以 data- 开头，格式 <strong>data-自定义后缀</strong> ，<code>对象.dataset.自定义后缀</code> 获取</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;123456&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">const</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(box.<span class=\"property\">dataset</span>.<span class=\"property\">id</span>);<span class=\"comment\">//123456</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"定时器\"><a href=\"#定时器\" class=\"headerlink\" title=\"定时器\"></a>定时器</h1><p><strong>1、间歇函数</strong> <code>setInterval()</code> 每隔一段时间自动执行一段代码</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setInterval</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;,<span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"built_in\">setInterval</span>(fun,<span class=\"number\">1000</span>);</span><br></pre></td></tr></table></figure>\n<p>清除间歇函数定时器 <code>clearInterval()</code> ：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> itv = <span class=\"built_in\">setInterval</span>(fun,<span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"built_in\">clearInterval</span>(itv);</span><br></pre></td></tr></table></figure>\n<p><strong>2、延时函数</strong> <code>setTimeout()</code> 延时一段时间后执行代码</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;,<span class=\"number\">1000</span>);</span><br></pre></td></tr></table></figure>\n<p>清除延时函数定时器 <code>clearTimeout()</code></p>\n<h1 id=\"事件\"><a href=\"#事件\" class=\"headerlink\" title=\"事件\"></a>事件</h1><p><strong>DOM事件：</strong>在文档或浏览器窗口中产生的一系列交互，如拖动元素、点击按钮、提交表单等。</p>\n<p>JavaScript 以<strong>事件驱动</strong>为核心，通过监听事件或给事件绑定JS，可以在事件发生时执行特定 JS 以完成交互。</p>\n<details class=\"folding-tag\" ><summary> 常见事件 </summary>\n              <div class='content'>\n              <p><p>这里都是事件名，属性名一般在事件名前加 on</p></p><p><p><strong>鼠标事件：</strong></p></p><ol><li><strong>click</strong> 鼠标左键/键盘回车</li><li><strong>dbclick</strong> 双击鼠标左键</li><li><strong>mouseenter</strong> 光标移入元素，不冒泡</li><li><strong>mouseleave</strong> 光标移出元素，不冒泡</li><li><strong>mouseover</strong> 光标移入元素，冒泡</li><li><strong>mouseout</strong> 光标移出元素，冒泡</li><li><strong>mousedown</strong> 按下任意鼠标键</li><li><strong>mouseup</strong> 释放任意鼠标键</li><li><strong>mousewheel</strong> 鼠标滚轮滚动</li><li><strong>mousemove</strong> 光标在元素上移动</li></ol><p><strong>用户界面事件：</strong></p><ol><li><strong>load</strong> 页面或资源加载完成</li><li><strong>unload</strong> 卸载完成</li><li><strong>error</strong> JS出错或资源加载失败</li><li><strong>select</strong> 选中文字</li><li><strong>resize</strong> 调整窗口大小</li><li><strong>scroll</strong> 包含滚动条的元素</li></ol><p><strong>焦点事件：</strong></p><ol><li><strong>blur</strong> 失去焦点，不冒泡</li><li><strong>focus</strong> 获得焦点，不冒泡</li><li><strong>focusout</strong> 失去焦点，冒泡</li><li><strong>focusin</strong> 获得焦点，冒泡</li></ol><p><strong>键盘和输入事件：</strong></p><ol><li><strong>keydown</strong> 按下键盘某个键</li><li><strong>keyup</strong> 释放键盘某个键</li><li><strong>input</strong> 当输入框文本改变时立即触发</li><li><strong>change</strong> 当输入框内容发生改变,失去焦点时触发</li><li><strong>textInput</strong> 文本输入</li></ol><p><strong>HTML5事件：</strong></p><ol><li><strong>contextmenu</strong> 右键菜单</li><li><strong>beforeunload</strong> 页面卸载之前</li><li><strong>DOMContentLoaded</strong> DOM树构建完成</li><li><strong>readystatechange</strong> 加载状态变化</li><li><strong>hashchange</strong> URL散列值变化</li></ol>\n              </div>\n            </details>\n<p><strong>事件的三要素：</strong>事件源、事件、事件驱动程序</p>\n<p><strong>事件源：</strong>触发事件的元素，获取事件源，即获取DOM节点<br><strong>事件：</strong>JS定义的各种事件<br><strong>事件驱动程序：</strong>触发事件后进行的操作</p>\n<h2 id=\"事件监听\"><a href=\"#事件监听\" class=\"headerlink\" title=\"事件监听\"></a>事件监听</h2><p>使用 <code>addEventListener</code> 监听事件</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">元素对象.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;事件类型&#x27;</span>, 执行的函数)</span><br></pre></td></tr></table></figure>\n<p>可以重复绑定。</p>\n<h2 id=\"事件对象\"><a href=\"#事件对象\" class=\"headerlink\" title=\"事件对象\"></a>事件对象</h2><p>事件对象存放了事件触发时的相关信息，如鼠标点击的位置坐标、键盘按下了哪个键</p>\n<p>事件绑定的回调函数的第一个参数就是事件对象event、e</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">元素.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;事件&#x27;</span>,<span class=\"function\">(<span class=\"params\">e</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">lig</span>(e);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><strong>事件对象常见属性：</strong></p>\n<ol>\n<li><strong>type</strong> 当前事件类型</li>\n<li><strong>clientX 、 clientY</strong> 获取光标相对于浏览器可见窗口左上角的位置</li>\n<li><strong>offsetX 、 offsetY</strong> 获取光标相对于当前DOM元素左上角的位置</li>\n<li><strong>key</strong> 当前按下的键盘键的值</li>\n</ol>\n<figure class=\"highlight js\"><figcaption><span>监听是否按下回车</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ipt = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\">ipt.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(e.<span class=\"property\">key</span> == <span class=\"string\">&#x27;Enter&#x27;</span>)&#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;回车&#x27;</span>); &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"常用事件\"><a href=\"#常用事件\" class=\"headerlink\" title=\"常用事件\"></a>常用事件</h2><p><strong>1、焦点事件 focus blur</strong> 见案例-搜索框下拉栏</p>\n<p><strong>2、键盘事件 keydown keyup input</strong> 见案例-评论发布、字数统计</p>\n<p><strong>3、mouseover 与 mouseenter</strong><br>mouseover/mouseout 有冒泡效果，mouseenter/mouseleave 没有冒泡效果</p>\n<p>使用mouseover，有冒泡效果，所以鼠标从监听的元素到其子元素，虽然子元素没用绑定鼠标进入事件，但该事件会冒泡到父元素的同名事件，所以也会触发进入</p>\n<p>通常用 mouseenter/mouseleave</p>\n<p><strong>4、加载事件 load、DOMContentLoaded</strong><br><strong>load</strong> 监听某个元素内的所有资源（dom、css、img）加载完毕</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//等待页面所有资源加载完毕，再执行回调函数</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;load&#x27;</span>, <span class=\"function\">()=&gt;</span>&#123;&#125;)</span><br><span class=\"line\"><span class=\"comment\">//等待图片加载完毕</span></span><br><span class=\"line\">img.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;load&#x27;</span>, <span class=\"function\">()=&gt;</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>DOMContentLoaded</strong> 监听HTML文档加载完毕该事件就被触发，不等待css等其它资源</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;DOMContentLoaded&#x27;</span>, <span class=\"function\">()=&gt;</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>5、滚动事件 scroll</strong><br>当某个元素的滚动条滚动时，触发该事件，不冒泡</p>\n<p>通常配合元素的 <strong>scrollTop</strong> 和 <strong>scrollLeft</strong> 两个属性，获取的是<strong>数字型</strong>，不带单位，但意思是像素px，可读写，可让js去控制滚动</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//整个页面卷去的高度，document.documentElement获取html标签</span></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span></span><br><span class=\"line\"><span class=\"comment\">//元素被卷去的高度</span></span><br><span class=\"line\">div.<span class=\"property\">scrollTop</span></span><br></pre></td></tr></table></figure>\n<p>这两个属性都用来获取被卷去的大小，即元素随着滚动超出可视窗口的大小（单位px）<br><strong>scrollTop</strong> 滚动条往下，元素向上移动，即获取该元素向上移动超出可视区域的高度<br><strong>scrollLeft</strong> 滚动条往右，元素向左移动，即获取该元素向左移动超出可视区域的宽度</p>\n<p>获取页面滚动高度的时候优先考虑使用 window.pageYOffset 然后在使用scrollTop</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> _scrollLeft = <span class=\"variable language_\">window</span>.<span class=\"property\">scrollX</span> || <span class=\"variable language_\">window</span>.<span class=\"property\">pageXOffset</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollLeft</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> _scrollTop = <span class=\"variable language_\">window</span>.<span class=\"property\">scrollY</span> || <span class=\"variable language_\">window</span>.<span class=\"property\">pageYOffset</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span></span><br></pre></td></tr></table></figure>\n<p><strong>一些小案例：</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> n = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n &gt;= <span class=\"number\">100</span>) &#123; <span class=\"comment\">// 页面滚动高度超过100px进行一些操作</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 页面滚动高度小于100px进行恢复操作</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><figcaption><span>回到顶部</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> backTop = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#backTop&#x27;</span>)</span><br><span class=\"line\">backTop.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// document.documentElement.scrollTop = 0</span></span><br><span class=\"line\">  <span class=\"comment\">// window.scrollTo(x, y)</span></span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>5、窗口尺寸变化事件 resize</strong><br>浏览器窗口大小发生变化的时候触发的事件</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"function\">()=&gt;</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>6、移动端触摸事件 touchstart touchend touchmove</strong></p>\n<p><strong>touchstart</strong> 手指触摸到元素时触发<br><strong>touchend</strong> 手指从元素离开时触发<br><strong>touchmove</strong> 手指在元素上滑动时触发</p>\n<h2 id=\"事件流\"><a href=\"#事件流\" class=\"headerlink\" title=\"事件流\"></a>事件流</h2><p><strong>事件流：</strong>事件完整执行过程中的流动路径</p>\n<p>两个阶段：<strong>捕获</strong>阶段、<strong>冒泡</strong>阶段</p>\n<p>捕获阶段从父节点到子，冒泡阶段从子到父</p>\n<p>处理函数默认在冒泡阶段执行，从子节点到父节点，依次向上调用所有父级元素的<strong>同名事件</strong>。</p>\n<p><strong>让处理函数在捕获阶段触发：</strong>冒泡阶段不再触发</p>\n<figure class=\"highlight js\"><figcaption><span>传入第三个参数true</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">元素.<span class=\"title function_\">addEventListener</span>(事件类型, 处理函数, <span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure>\n<p><strong>阻止冒泡：</strong><br>默认存在冒泡模式，子元素触发事件也会触发父级同名事件，阻止冒泡能把事件限制在当前元素内</p>\n<p><code>stopPropagation()</code> <strong>阻止事件流动</strong>传播，不仅能阻止冒泡也能阻止捕获</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">事件对象.<span class=\"title function_\">stopPropagation</span>();</span><br></pre></td></tr></table></figure>\n<h2 id=\"解绑事件\"><a href=\"#解绑事件\" class=\"headerlink\" title=\"解绑事件\"></a>解绑事件</h2><p><code>removeEventListener()</code> 对某个元素解绑某个处理函数，匿名、箭头函数无法被解绑</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">元素.<span class=\"title function_\">removeEventListener</span>(事件类型, 处理函数);</span><br><span class=\"line\">btn.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, fn);</span><br></pre></td></tr></table></figure>\n<h2 id=\"事件委托\"><a href=\"#事件委托\" class=\"headerlink\" title=\"事件委托\"></a>事件委托</h2><p><strong>事件委托：</strong>一种技巧，减少事件注册次数，提高程序性能。</p>\n<p>事件冒泡可以用来实现事件委托，给父元素注册事件，当触发子元素的时候，会冒泡到父元素身上，从而触发父元素的事件。</p>\n<p><strong>案例：</strong>当多个子元素需要注册点击事件时，可以将点击事件注册到父元素上，再由父元素的事件对象e去找被点击的子元素，<code>e.target</code> 就能找到实际触发事件的子元素，再用其className、id、tagName 来确定业务上应该要触发事件的子元素。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ul = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;ul&#x27;</span>);</span><br><span class=\"line\">ul.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (e.<span class=\"property\">target</span>.<span class=\"property\">tagName</span> === <span class=\"string\">&#x27;LI&#x27;</span>) &#123;</span><br><span class=\"line\">        e.<span class=\"property\">target</span>.<span class=\"property\">style</span>.<span class=\"property\">color</span> = <span class=\"string\">&#x27;red&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"阻止元素默认行为\"><a href=\"#阻止元素默认行为\" class=\"headerlink\" title=\"阻止元素默认行为\"></a>阻止元素默认行为</h2><p>使用 <code>e.preventDefault()</code> 阻止元素默认行为</p>\n<figure class=\"highlight js\"><figcaption><span>让a标签点击不跳转链接</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//&lt;a href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;a&#x27;</span>)</span><br><span class=\"line\">a.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    e.<span class=\"title function_\">preventDefault</span>()</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h1 id=\"元素的属性、方法\"><a href=\"#元素的属性、方法\" class=\"headerlink\" title=\"元素的属性、方法\"></a>元素的属性、方法</h1><p>获取到元素后常用的属性和方法</p>\n<h2 id=\"元素的尺寸与位置\"><a href=\"#元素的尺寸与位置\" class=\"headerlink\" title=\"元素的尺寸与位置\"></a>元素的尺寸与位置</h2><p>获取元素的宽高：<strong>clientWidth</strong>、<strong>clientHeight</strong>两个属性，不包含padding、border，<strong>offsetWidth</strong>、<strong>offsetHeight</strong>包含padding、border</p>\n<p>获取窗口的宽高：<code>document.documentElement.clientWidth</code></p>\n<p><strong>offsetTop</strong>、<strong>offsetLeft</strong>获取元素距离自己最近一位带有定位的祖先元素的左、上位置</p>\n<p><code>getBoundingClientRect()</code> 获取元素的大小和相对于<strong>可视窗口</strong>的位置，返回一个对象里面有width、height、top等属性</p>\n<h2 id=\"元素节点操作\"><a href=\"#元素节点操作\" class=\"headerlink\" title=\"元素节点操作\"></a>元素节点操作</h2><p><strong>1、关系查找元素节点</strong>，以元素节点之间的关系进行查找，父找子、子找父、找兄弟</p>\n<p>查找最近一级的<strong>父节点</strong>：<code>子元素.parentNode</code></p>\n<p>查找最近一级的所有<strong>子节点</strong>，返回伪数组：<code>父元素.children</code><br><code>firstElementChild</code> 第一个子节点<br><code>lastElementChild</code> 最后一个子节点</p>\n<p><strong>上一个</strong>兄弟节点：<code>previousElementSibling</code><br><strong>下一个</strong>兄弟节点：<code>nextElementSibling</code></p>\n<p><strong>2、创建节点</strong></p>\n<p><code>document.createElement(&#39;标签名&#39;)</code></p>\n<p><strong>3、增加节点：</strong></p>\n<p><code>appendChild(插入的元素)</code> 在指定节点的子节点列表<strong>末尾</strong>添加新的子节点</p>\n<p><code>insertBefore(插入的元素,[放到哪个元素的前面])</code> 在节点的子节点列表<strong>任意位置前</strong>插入新的节点，默认在子节点列表的<strong>末尾</strong>插入</p>\n<p><strong>4、克隆节点</strong></p>\n<p><code>元素.cloneNode(布尔)</code> 参数为true，后代节点也会被克隆，false克隆时不包含后代节点(即只克隆标签)，默认false</p>\n<p><strong>5、删除节点</strong></p>\n<p><code>父元素.removeChild(子元素)</code> 通过父节点删除子节点</p>\n<h1 id=\"BOM\"><a href=\"#BOM\" class=\"headerlink\" title=\"BOM\"></a>BOM</h1><p><strong>BOM</strong> (Browser Object Model ) 是浏览器对象模型，提供了一些属性与方法</p>\n<h2 id=\"window对象\"><a href=\"#window对象\" class=\"headerlink\" title=\"window对象\"></a>window对象</h2><p>window对象是一个全局对象，是BOM的顶层对象，也是js中最顶级的对象，document、alert()、console、定时器等都是其属性和方法</p>\n<p>所有通过var定义在全局作用域中的变量、函数都会变成window对象的属性和方法</p>\n<p>window对象下的属性和方法调用的时候可以省略window</p>\n<h2 id=\"location对象\"><a href=\"#location对象\" class=\"headerlink\" title=\"location对象\"></a>location对象</h2><p>location拆分并保存了URL地址的各个组成部分</p>\n<p>常见属性和方法</p>\n<ol>\n<li><strong>href</strong> 获取完整的URL地址，也可以赋值进行地址跳转</li>\n<li><strong>search</strong> 获取地址中携带的参数，?后面的部分</li>\n<li><strong>hash</strong> 获取地址中的哈希值，#后面的部分</li>\n<li><code>reload()</code> 刷新当前页面，传入参数true表示强制刷新</li>\n</ol>\n<h2 id=\"navigator对象\"><a href=\"#navigator对象\" class=\"headerlink\" title=\"navigator对象\"></a>navigator对象</h2><p>navigator保存了浏览器的相关信息</p>\n<p>常见属性和方法</p>\n<ol>\n<li><strong>userAgent</strong> 获取浏览器的类型、版本</li>\n</ol>\n<h2 id=\"history对象\"><a href=\"#history对象\" class=\"headerlink\" title=\"history对象\"></a>history对象</h2><p>history管理历史记录，如前进、后退、历史记录等</p>\n<p>常见属性和方法</p>\n<ol>\n<li><code>back()</code> 浏览器后退功能</li>\n<li><code>forward()</code> 浏览器前进功能</li>\n<li><code>go()</code> 参数1前进一个页面，-1后腿一个页面</li>\n</ol>\n<h2 id=\"本地存储\"><a href=\"#本地存储\" class=\"headerlink\" title=\"本地存储\"></a>本地存储</h2><p>将数据存储这浏览器中，刷新页面不丢失数据，sessionStorage 和 localStorage，现在主要用<strong>localStorage</strong></p>\n<p>本地存储只能存字符串或数值型</p>\n<p>localStorage 以<strong>键值对</strong>的形式存储，可以多页面共享<br>sessionStorage 以<strong>键值对</strong>的形式存储，生命周期为关闭浏览器就消失，数据同一个页面共享</p>\n<p>新增/修改：<code>setItem</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(key, value);</span><br></pre></td></tr></table></figure>\n<p>读取：<code>getItem</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(key);</span><br></pre></td></tr></table></figure>\n<p>删除：<code>removeItem</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">removeItem</span>(key);</span><br></pre></td></tr></table></figure>\n<p><strong>存储复杂数据类型：</strong>存一个对象</p>\n<p>由于本地存储只能存字符串，所以需要将对象先转为JSON字符串再存储，使用时再把JSON转为对象</p>\n<p><code>JSON.parse()</code> 将数据转换为 JavaScript 对象<br><code>JSON.stringify()</code> 将 JavaScript 对象转换为 JSON 字符串</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chuckle&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"string\">&#x27;19&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;obj&#x27;</span>, <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(obj));</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(<span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;obj&#x27;</span>));</span><br></pre></td></tr></table></figure>\n","categories":["学习笔记"],"tags":["JS","前端"]},{"title":"文章添加AI简介和推荐","url":"/article/17d3383a.html","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p><a href=\"https://blog.zhheo.com/\">@Heo</a>又整新活了，给文章加上了AI摘要，下面就把他超过来罢。</p>\n<p>当然无论是Heo的还是本教程的，都并不是真的实时请求GPT，目前需要手动去GPT网页版生成摘要后，填入Markdown的matter里。</p>\n<h1 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h1><p><strong>思路：</strong>手动去GPT网页版生成摘要后，再由JS去模拟GPT的打字生成效果：</p>\n<ol>\n<li>遇到标点符号停顿一下</li>\n<li>setTimeout和requestAnimationFrame相结合降低性能消耗</li>\n<li>使用IntersectionObserver监听，当AI摘要容器在视口不可见后停止生成摘要，重新出现在视口后继续生成</li>\n<li>模拟GPT的光标效果</li>\n<li>多个按钮实现多个功能，自我介绍、文章摘要、推荐相关文章等</li>\n</ol>\n<p>未来的计划：</p>\n<ol>\n<li>生成一次摘要后，通过这个摘要再实时请求api生成更多的摘要</li>\n</ol>\n<h2 id=\"新版\"><a href=\"#新版\" class=\"headerlink\" title=\"新版\"></a>新版</h2><p>修改<code>post.pug</code>，将下面代码加在合适的位置,如 article#article-container.post-content 后，注意缩进</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> page.<span class=\"property\">ai</span></span><br><span class=\"line\">  .<span class=\"property\">post</span>-ai</span><br><span class=\"line\">    .<span class=\"property\">ai</span>-title</span><br><span class=\"line\">      i.<span class=\"property\">fa</span>-brands.<span class=\"property\">fa</span>-airbnb</span><br><span class=\"line\">      .<span class=\"property\">ai</span>-title-text <span class=\"variable constant_\">QX</span>-<span class=\"variable constant_\">AI</span></span><br><span class=\"line\">      .<span class=\"property\">ai</span>-tag <span class=\"variable constant_\">GPT</span>-<span class=\"number\">4</span></span><br><span class=\"line\">    .<span class=\"property\">ai</span>-explanation <span class=\"variable constant_\">QX</span>-<span class=\"variable constant_\">AI</span>初始化中...</span><br><span class=\"line\">    .<span class=\"property\">ai</span>-explanation-none #&#123;page.<span class=\"property\">ai</span>&#125;</span><br><span class=\"line\">    .<span class=\"property\">ai</span>-btn-box</span><br><span class=\"line\">      .<span class=\"property\">ai</span>-btn-item 介绍自己</span><br><span class=\"line\">      .<span class=\"property\">ai</span>-btn-item 生成本文简介</span><br><span class=\"line\">      .<span class=\"property\">ai</span>-btn-item 推荐相关文章</span><br><span class=\"line\">      .<span class=\"property\">ai</span>-btn-item 前往主页</span><br><span class=\"line\">    <span class=\"title function_\">script</span>(src=<span class=\"string\">&quot;/js/post-ai.js?2&quot;</span> defer=<span class=\"string\">&quot;true&quot;</span> data-pjax)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>新建<code>post-ai.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> animationRunning = <span class=\"literal\">true</span>; <span class=\"comment\">// 标志变量，控制动画函数的运行</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> explanation = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ai-explanation&#x27;</span>);</span><br><span class=\"line\"> <span class=\"keyword\">const</span> abstract_value = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ai-explanation-none&#x27;</span>).<span class=\"property\">innerHTML</span>;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> post_ai = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.post-ai&#x27;</span>);</span><br><span class=\"line\"> <span class=\"keyword\">let</span> ai_str = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> ai_str_length = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> delay_init = <span class=\"number\">600</span>;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> sto = [];</span><br><span class=\"line\"> <span class=\"keyword\">let</span> elapsed = <span class=\"number\">0</span>;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> <span class=\"title function_\">animate</span> = (<span class=\"params\">timestamp</span>) =&gt; &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (!animationRunning) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span>; <span class=\"comment\">// 动画函数停止运行</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (!animate.<span class=\"property\">start</span>) animate.<span class=\"property\">start</span> = timestamp;</span><br><span class=\"line\">   elapsed = timestamp - animate.<span class=\"property\">start</span>;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (elapsed &gt;= <span class=\"number\">20</span>) &#123;</span><br><span class=\"line\">     animate.<span class=\"property\">start</span> = timestamp;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (i &lt; ai_str_length-<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">let</span> char = ai_str.<span class=\"title function_\">charAt</span>(i+<span class=\"number\">1</span>);</span><br><span class=\"line\">       <span class=\"keyword\">let</span> delay = <span class=\"regexp\">/[,.，。!?！？]/</span>.<span class=\"title function_\">test</span>(char) ? <span class=\"number\">150</span> : <span class=\"number\">20</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(explanation.<span class=\"property\">firstElementChild</span>)&#123;</span><br><span class=\"line\">         explanation.<span class=\"title function_\">removeChild</span>(explanation.<span class=\"property\">firstElementChild</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       explanation.<span class=\"property\">innerHTML</span> += char;</span><br><span class=\"line\">       <span class=\"keyword\">let</span> div = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\">       div.<span class=\"property\">className</span> = <span class=\"string\">&quot;ai-cursor&quot;</span>;</span><br><span class=\"line\">       explanation.<span class=\"title function_\">appendChild</span>(div);</span><br><span class=\"line\">       i++;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(delay === <span class=\"number\">150</span>)&#123;</span><br><span class=\"line\">         <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ai-explanation .ai-cursor&#x27;</span>).<span class=\"property\">style</span>.<span class=\"property\">opacity</span> = <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(i === ai_str_length-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">         observer.<span class=\"title function_\">disconnect</span>();<span class=\"comment\">// 暂停监听</span></span><br><span class=\"line\">         explanation.<span class=\"title function_\">removeChild</span>(explanation.<span class=\"property\">firstElementChild</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       sto[<span class=\"number\">0</span>] = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">         <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">       &#125;, delay);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">   &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">     <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> observer = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">let</span> isVisible = entries[<span class=\"number\">0</span>].<span class=\"property\">isIntersecting</span>;</span><br><span class=\"line\">   animationRunning = isVisible; <span class=\"comment\">// 标志变量更新</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span>(animationRunning)&#123;</span><br><span class=\"line\">     delay_init = i===<span class=\"number\">0</span> ? <span class=\"number\">200</span> : <span class=\"number\">20</span>;</span><br><span class=\"line\">     sto[<span class=\"number\">1</span>] = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(j)&#123;</span><br><span class=\"line\">         i = <span class=\"number\">0</span>;</span><br><span class=\"line\">         j = <span class=\"number\">0</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(i===<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">         explanation.<span class=\"property\">innerHTML</span> = ai_str.<span class=\"title function_\">charAt</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">     &#125;, delay_init);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;, &#123; <span class=\"attr\">threshold</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">clearSTO</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(sto.<span class=\"property\">length</span>)&#123;</span><br><span class=\"line\">     sto.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(item)&#123;</span><br><span class=\"line\">         <span class=\"built_in\">clearTimeout</span>(item);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">     &#125;);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">startAI</span>(<span class=\"params\">str,df=<span class=\"literal\">true</span></span>)&#123;</span><br><span class=\"line\">   i = <span class=\"number\">0</span>;<span class=\"comment\">//重置计数器</span></span><br><span class=\"line\">   j = <span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"title function_\">clearSTO</span>();</span><br><span class=\"line\">   animationRunning = <span class=\"literal\">false</span>;</span><br><span class=\"line\">   elapsed = <span class=\"number\">0</span>;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(df)&#123;</span><br><span class=\"line\">     explanation.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;生成中. . .&#x27;</span>;</span><br><span class=\"line\">   &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">     explanation.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;请等待. . .&#x27;</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   ai_str = str;</span><br><span class=\"line\">   ai_str_length = ai_str.<span class=\"property\">length</span>;</span><br><span class=\"line\">   observer.<span class=\"title function_\">disconnect</span>();<span class=\"comment\">// 暂停上一次监听</span></span><br><span class=\"line\">   observer.<span class=\"title function_\">observe</span>(post_ai);<span class=\"comment\">//启动新监听</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">aiIntroduce</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"title function_\">startAI</span>(<span class=\"string\">&#x27;我是文章辅助AI: QX-AI，点击下方的按钮，让我生成本文简介、推荐相关文章等。&#x27;</span>);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">aiAbstract</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"title function_\">startAI</span>(abstract_value);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">aiRecommend</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   i = <span class=\"number\">0</span>;<span class=\"comment\">//重置计数器</span></span><br><span class=\"line\">   j = <span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"title function_\">clearSTO</span>();</span><br><span class=\"line\">   animationRunning = <span class=\"literal\">false</span>;</span><br><span class=\"line\">   elapsed = <span class=\"number\">0</span>;</span><br><span class=\"line\">   explanation.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;生成中. . .&#x27;</span>;</span><br><span class=\"line\">   ai_str = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">   ai_str_length = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">   observer.<span class=\"title function_\">disconnect</span>();<span class=\"comment\">// 暂停上一次监听</span></span><br><span class=\"line\">   sto[<span class=\"number\">2</span>] = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">     explanation.<span class=\"property\">innerHTML</span> = <span class=\"title function_\">recommendList</span>();</span><br><span class=\"line\">   &#125;, <span class=\"number\">600</span>);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">aiGoHome</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"title function_\">startAI</span>(<span class=\"string\">&#x27;正在前往博客主页...&#x27;</span>,<span class=\"literal\">false</span>);</span><br><span class=\"line\">   sto[<span class=\"number\">2</span>] = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">     pjax.<span class=\"title function_\">loadUrl</span>(<span class=\"string\">&quot;/&quot;</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> ai_btn_item = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.ai-btn-item&#x27;</span>);</span><br><span class=\"line\"> ai_btn_item.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>)=&gt;</span>&#123;</span><br><span class=\"line\">   item.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">switch</span>(index) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">         <span class=\"title function_\">aiIntroduce</span>();</span><br><span class=\"line\">         <span class=\"keyword\">break</span>;</span><br><span class=\"line\">       <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">         <span class=\"title function_\">aiAbstract</span>();</span><br><span class=\"line\">         <span class=\"keyword\">break</span>;</span><br><span class=\"line\">       <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">         <span class=\"title function_\">aiRecommend</span>();</span><br><span class=\"line\">         <span class=\"keyword\">break</span>;</span><br><span class=\"line\">       <span class=\"keyword\">case</span> <span class=\"number\">3</span>:</span><br><span class=\"line\">         <span class=\"title function_\">aiGoHome</span>();</span><br><span class=\"line\">       <span class=\"keyword\">break</span>;</span><br><span class=\"line\">     &#125; </span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"> &#125;);</span><br><span class=\"line\"> <span class=\"keyword\">function</span> <span class=\"title function_\">recommendList</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"keyword\">let</span> info = <span class=\"string\">`推荐文章：&lt;br /&gt;`</span>;</span><br><span class=\"line\">   <span class=\"keyword\">let</span> thumbnail = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.card-recommend-post .aside-list .aside-list-item .thumbnail&#x27;</span>);</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(!thumbnail)&#123;</span><br><span class=\"line\">     info = <span class=\"string\">&#x27;很抱歉，无法找到类似的文章，你也可以看看本站最新发布的文章：&lt;br /&gt;&#x27;</span>;</span><br><span class=\"line\">     thumbnail = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.card-recent-post .aside-list .aside-list-item .thumbnail&#x27;</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   info += <span class=\"string\">&#x27;&lt;div class=&quot;ai-recommend&quot;&gt;&#x27;</span>;</span><br><span class=\"line\">   thumbnail.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>)=&gt;</span>&#123;</span><br><span class=\"line\">     info += <span class=\"string\">`&lt;div class=&quot;ai-recommend-item&quot;&gt;&lt;span&gt;推荐<span class=\"subst\">$&#123;index+<span class=\"number\">1</span>&#125;</span>：&lt;/span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;pjax.loadUrl(&#x27;<span class=\"subst\">$&#123;item.href&#125;</span>&#x27;)&quot; title=&quot;<span class=\"subst\">$&#123;item.title&#125;</span>&quot; data-pjax-state=&quot;&quot;&gt;<span class=\"subst\">$&#123;item.title&#125;</span>&lt;/a&gt;&lt;/div&gt;`</span>;</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\">   info += <span class=\"string\">&#x27;&lt;/div&gt;&#x27;</span></span><br><span class=\"line\">   <span class=\"keyword\">return</span> info;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"title function_\">aiIntroduce</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>添加CSS，颜色变量可F12自取</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.post-ai</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--ai-post-bg);</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.3</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"built_in\">var</span>(--ai-border);</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">6px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-title</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--font-color);</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-title</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">800</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-title-text</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-tag</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--ai-tag-bg);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.9</span>);</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: auto;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">4px</span> <span class=\"number\">5px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-explanation</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">11px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">15.5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.4</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-cursor</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#333</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: -<span class=\"number\">2px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0.95</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">3px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -moz-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -ms-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -o-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.ai-cursor</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-btn-box</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">15.5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: row;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: wrap;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-btn-item</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span> <span class=\"number\">16px</span> <span class=\"number\">0px</span> <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: fit-content;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">48</span>, <span class=\"number\">52</span>, <span class=\"number\">63</span>, <span class=\"number\">0.75</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    -moz-<span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    -ms-<span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    -o-<span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    user-select: none;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -moz-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -ms-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -o-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-btn-item</span><span class=\"selector-pseudo\">:hover</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#49b0f5dc</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-recommend</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: row;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: wrap;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-recommend-item</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>:<span class=\"number\">768px</span>)&#123;</span><br><span class=\"line\">  <span class=\"selector-class\">.ai-btn-box</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.ai-recommend</span> <span class=\"selector-class\">.ai-recommend-item</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-explanation-none</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: -<span class=\"number\">999</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>使用：在markdown文件的matter添加ai配置，放入ai事先生成好的文章简介</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 文章添加AI摘要和推荐</span><br><span class=\"line\"><span class=\"section\">ai: 本文介绍了如何通过手动生成GPT网页版摘要，再用JS模拟GPT打字生成效果，实现AI摘要。作者详细讲解了实现思路，包括停顿、延迟等策略，以及如何监听视口并控制生成。作者还提到了未来计划，即使用API生成更多摘要。此外，作者还给出了修改 post.pug 和 CSS 的代码。</span></span><br><span class=\"line\"><span class=\"section\">---</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"旧版\"><a href=\"#旧版\" class=\"headerlink\" title=\"旧版\"></a>旧版</h2><p>才两个小时就沦为旧版的屑<br>修改<code>post.pug</code>，将下面代码加在合适的位置,如 article#article-container.post-content 后，注意缩进</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> page.<span class=\"property\">ai</span></span><br><span class=\"line\">   .<span class=\"property\">post</span>-ai</span><br><span class=\"line\">   .<span class=\"property\">ai</span>-title</span><br><span class=\"line\">   i.<span class=\"property\">fa</span>-brands.<span class=\"property\">fa</span>-airbnb</span><br><span class=\"line\">   .<span class=\"property\">ai</span>-title-text <span class=\"variable constant_\">AI</span>摘要</span><br><span class=\"line\">   .<span class=\"property\">ai</span>-tag <span class=\"variable constant_\">GPT</span>-<span class=\"number\">4</span></span><br><span class=\"line\">   .<span class=\"property\">ai</span>-explanation #&#123;page.<span class=\"property\">ai</span>&#125;</span><br><span class=\"line\">   script.</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">let</span> animationRunning = <span class=\"literal\">true</span>; <span class=\"comment\">// 标志变量，控制动画函数的运行</span></span><br><span class=\"line\">     <span class=\"keyword\">const</span> explanation = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ai-explanation&#x27;</span>);</span><br><span class=\"line\">     <span class=\"keyword\">const</span> post_ai = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.post-ai&#x27;</span>);</span><br><span class=\"line\">     <span class=\"keyword\">const</span> ai_str = explanation.<span class=\"property\">innerHTML</span>;</span><br><span class=\"line\">     <span class=\"keyword\">const</span> ai_str_length = ai_str.<span class=\"property\">length</span>;</span><br><span class=\"line\">     <span class=\"keyword\">let</span> delay_init = <span class=\"number\">600</span>;</span><br><span class=\"line\">     <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">     explanation.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;AI摘要生成中. . .&#x27;</span>;</span><br><span class=\"line\">     <span class=\"keyword\">const</span> <span class=\"title function_\">animate</span> = (<span class=\"params\">timestamp</span>) =&gt; &#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (!animationRunning) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span>; <span class=\"comment\">// 动画函数停止运行</span></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (!animate.<span class=\"property\">start</span>) animate.<span class=\"property\">start</span> = timestamp;</span><br><span class=\"line\">       <span class=\"keyword\">const</span> elapsed = timestamp - animate.<span class=\"property\">start</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (elapsed &gt;= <span class=\"number\">20</span>) &#123;</span><br><span class=\"line\">         animate.<span class=\"property\">start</span> = timestamp;</span><br><span class=\"line\">         <span class=\"keyword\">if</span> (i &lt; ai_str_length-<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">let</span> char = ai_str.<span class=\"title function_\">charAt</span>(i+<span class=\"number\">1</span>);</span><br><span class=\"line\">           <span class=\"keyword\">let</span> delay = <span class=\"regexp\">/[,.，。!?！？]/</span>.<span class=\"title function_\">test</span>(char) ? <span class=\"number\">160</span> : <span class=\"number\">20</span>;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(explanation.<span class=\"property\">firstElementChild</span>)&#123;</span><br><span class=\"line\">             explanation.<span class=\"title function_\">removeChild</span>(explanation.<span class=\"property\">firstElementChild</span>);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           explanation.<span class=\"property\">innerHTML</span> += char;</span><br><span class=\"line\">           <span class=\"keyword\">let</span> div = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\">           div.<span class=\"property\">className</span> = <span class=\"string\">&quot;ai-cursor&quot;</span>;</span><br><span class=\"line\">           explanation.<span class=\"title function_\">appendChild</span>(div);</span><br><span class=\"line\">           i++;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(delay === <span class=\"number\">160</span>)&#123;</span><br><span class=\"line\">             <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ai-explanation .ai-cursor&#x27;</span>).<span class=\"property\">style</span>.<span class=\"property\">opacity</span> = <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(i === ai_str_length-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">             observer.<span class=\"title function_\">disconnect</span>();<span class=\"comment\">// 暂停监听</span></span><br><span class=\"line\">             explanation.<span class=\"title function_\">removeChild</span>(explanation.<span class=\"property\">firstElementChild</span>);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">             <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">           &#125;, delay);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">         <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">     &#125;;</span><br><span class=\"line\">     <span class=\"keyword\">const</span> observer = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries</span>) =&gt;</span> &#123;</span><br><span class=\"line\">       <span class=\"keyword\">let</span> isVisible = entries[<span class=\"number\">0</span>].<span class=\"property\">isIntersecting</span>;</span><br><span class=\"line\">       animationRunning = isVisible; <span class=\"comment\">// 标志变量更新</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span>(animationRunning)&#123;</span><br><span class=\"line\">         delay_init = i===<span class=\"number\">0</span> ? <span class=\"number\">600</span> : <span class=\"number\">20</span>;</span><br><span class=\"line\">         <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(i===<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">             explanation.<span class=\"property\">innerHTML</span> = ai_str.<span class=\"title function_\">charAt</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">         &#125;, delay_init);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">     &#125;, &#123; <span class=\"attr\">threshold</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\">     observer.<span class=\"title function_\">observe</span>(post_ai);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>添加CSS，颜色变量F12自取</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.post-ai</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--ai-post-bg);</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.3</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"built_in\">var</span>(--ai-border);</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">6px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-title</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--font-color);</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-title</span> <span class=\"selector-tag\">i</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">800</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-title-text</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-tag</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--ai-tag-bg);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.9</span>);</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: auto;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">4px</span> <span class=\"number\">5px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-explanation</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">11px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">15.5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.4</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ai-cursor</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#333</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: -<span class=\"number\">2px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0.95</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">3px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -moz-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -ms-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">    -o-<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=dark]</span></span><br><span class=\"line\"><span class=\"selector-class\">.ai-cursor</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"后续\"><a href=\"#后续\" class=\"headerlink\" title=\"后续\"></a>后续</h1><p>暂无</p>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"JavaScript—DOM案例","url":"/article/b0cb9f85.html","content":"<h1 id=\"搜索框下拉栏\"><a href=\"#搜索框下拉栏\" class=\"headerlink\" title=\"搜索框下拉栏\"></a>搜索框下拉栏</h1><div id=\"search-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">ul</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">list-style</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.search-box</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.search-box</span> <span class=\"selector-tag\">input</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#65a8e2</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">outline</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.result-list</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">top</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#65a8e2</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-top</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">200</span>, <span class=\"number\">236</span>, <span class=\"number\">243</span>, <span class=\"number\">0.7</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">6px</span> <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.result-list</span> <span class=\"selector-tag\">li</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.result-list</span> <span class=\"selector-tag\">a</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-decoration</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#363636</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span> <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">14px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.result-list</span> <span class=\"selector-tag\">a</span><span class=\"selector-pseudo\">:hover</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">210</span>, <span class=\"number\">210</span>, <span class=\"number\">210</span>, <span class=\"number\">0.9</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;search-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;search&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;输入搜索内容&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;result-list&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>搜索词1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>搜索词2<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>搜索词3<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>搜索词4<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>搜索词5<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>搜索词6<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> input = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> list = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.result-list&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        input.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;focus&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            list.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;block&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            input.<span class=\"property\">style</span>.<span class=\"property\">borderRadius</span> = <span class=\"string\">&#x27;6px 6px 0 0&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        input.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;blur&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            list.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            input.<span class=\"property\">style</span>.<span class=\"property\">borderRadius</span> = <span class=\"string\">&#x27;6px&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"评论发布、字数统计\"><a href=\"#评论发布、字数统计\" class=\"headerlink\" title=\"评论发布、字数统计\"></a>评论发布、字数统计</h1><div id=\"input-count-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.comment-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.comment-avatar</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;https://cdn.chuckle.top/img/head.webp&#x27;</span>) no-repeat center / cover;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-right</span>: <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-id\">#comment-tx</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">outline</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-color</span>: transparent;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">resize</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#f5f5f5</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-id\">#comment-tx</span><span class=\"selector-pseudo\">:focus</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-color</span>: <span class=\"number\">#e4e4e4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">85px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.comment-box</span> <span class=\"selector-tag\">button</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#00aeec</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">70px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.comment-count</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: flex-end;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.comment-count</span> <span class=\"selector-tag\">span</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-right</span>: <span class=\"number\">80px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#999</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-top</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.content-list</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: column;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: nowrap;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.content-item</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e4e4e4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding-bottom</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: row;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: wrap;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: flex-start;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.content-avatar</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;https://cdn.chuckle.top/img/head.webp&#x27;</span>) no-repeat center / cover;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-right</span>: <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.content-warp</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">65px</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding-right</span>: <span class=\"number\">8px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.content-name</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.content-comment</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">white-space</span>: normal;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">word-break</span>: break-all;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">word-wrap</span>: break-word;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-overflow</span>: ellipsis;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;comment-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;comment-avatar&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;comment-tx&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;发一条友善的评论，回车发布评论&quot;</span> <span class=\"attr\">maxlength</span>=<span class=\"string\">&quot;200&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>发布<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;comment-count&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>0/200字<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-list&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-item&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-avatar&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-warp&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-name&quot;</span>&gt;</span>chuckle<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-comment&quot;</span>&gt;</span>评论一<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-item&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-avatar&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-warp&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-name&quot;</span>&gt;</span>chuckle<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-comment&quot;</span>&gt;</span>22222222222222222222222222222222222222222222222222222222222222222222222222</span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 评论输入框</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> count = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.comment-count span&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tx = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#comment-tx&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        tx.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;focus&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            count.<span class=\"property\">style</span>.<span class=\"property\">opacity</span> = <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        tx.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;blur&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            count.<span class=\"property\">style</span>.<span class=\"property\">opacity</span> = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        tx.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;input&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            count.<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;tx.value.length&#125;</span>/200字`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 评论展示</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> contentList = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.content-list&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">applyComment</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> comment = tx.<span class=\"property\">value</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> html = <span class=\"string\">`&lt;div class=&quot;content-item&quot;&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                &lt;div class=&quot;content-avatar&quot;&gt;&lt;/div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                &lt;div class=&quot;content-warp&quot;&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;div class=&quot;content-name&quot;&gt;chuckle&lt;/div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;div class=&quot;content-comment&quot;&gt;<span class=\"subst\">$&#123;comment&#125;</span>&lt;/div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                &lt;/div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">            &lt;/div&gt;`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            contentList.<span class=\"title function_\">insertAdjacentHTML</span>(<span class=\"string\">&#x27;afterbegin&#x27;</span>, html);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        tx.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (e.<span class=\"property\">key</span> == <span class=\"string\">&#x27;Enter&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (tx.<span class=\"property\">value</span>.<span class=\"title function_\">trim</span>()) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">applyComment</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                tx.<span class=\"property\">value</span> = <span class=\"string\">&#x27;&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                count.<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;tx.value.length&#125;</span>/200字`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> button = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.comment-box button&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        button.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (tx.<span class=\"property\">value</span>.<span class=\"title function_\">trim</span>()) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">applyComment</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            tx.<span class=\"property\">value</span> = <span class=\"string\">&#x27;&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            count.<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;tx.value.length&#125;</span>/200字`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"轮播图\"><a href=\"#轮播图\" class=\"headerlink\" title=\"轮播图\"></a>轮播图</h1><p>当然还是直接用插件方便<a href=\"https://www.swiper.com.cn/\">swiper</a></p>\n<div id=\"rotBox-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">max-width</span>: <span class=\"number\">560px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">overflow</span>: hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">3px</span> <span class=\"number\">8px</span> <span class=\"number\">6px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">7</span>, <span class=\"number\">17</span>, <span class=\"number\">27</span>, <span class=\"number\">0.05</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-img</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">80%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: row;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: wrap;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-img</span> <span class=\"selector-tag\">img</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">object-fit</span>: cover;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-footer</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">20%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">100</span>, <span class=\"number\">67</span>, <span class=\"number\">68</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> <span class=\"number\">12px</span> <span class=\"number\">0</span> <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-toggle</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">top</span>: <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-toggle</span> <span class=\"selector-tag\">button</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-right</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">28px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">28px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            appearance: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.1</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-toggle</span> <span class=\"selector-tag\">button</span><span class=\"selector-pseudo\">:hover</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.2</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.rot-title</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">ul</span><span class=\"selector-class\">.rot-select</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">list-style</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">ul</span><span class=\"selector-class\">.rot-select</span> <span class=\"selector-tag\">li</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">8px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">8px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">4px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">opacity</span>: <span class=\"number\">0.4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">ul</span><span class=\"selector-class\">.rot-select</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.active</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>:<span class=\"number\">500px</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"selector-class\">.rot-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">                <span class=\"attribute\">height</span>: <span class=\"number\">320px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-img&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.chuckle.top/images/41-1.webp&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-footer&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-title&quot;</span>&gt;</span>标题零<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-select&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;active&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-toggle&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-prev&quot;</span>&gt;</span><span class=\"symbol\">&amp;lt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;rot-next&quot;</span>&gt;</span><span class=\"symbol\">&amp;gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> rotDate = [</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://cdn.chuckle.top/images/43-1.webp&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;标题一&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://cdn.chuckle.top/images/42-1.webp&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;标题二&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://cdn.chuckle.top/images/41-1.webp&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;标题三&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://cdn.chuckle.top/images/38-1.webp&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;标题四&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://cdn.chuckle.top/images/39-1.webp&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>: <span class=\"string\">&#x27;标题五&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        ];</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//生成[0,arr长度)的随机整数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">getRandom</span>(<span class=\"params\">arr</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * arr.<span class=\"property\">length</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> rotSelect = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-select&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 数组中有多少对象加几个li</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        rotSelect.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;&#x27;</span>;<span class=\"comment\">// 先清空ul的内容</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; rotDate.<span class=\"property\">length</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            rotSelect.<span class=\"property\">innerHTML</span> += <span class=\"string\">&#x27;&lt;li&gt;&lt;/li&gt;&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//让第一个li变成小白点</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-select li:first-child&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">toggle</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 一开始随机选一张</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 获取要操作的元素</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-img img&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> title = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-title&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> rot_li = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.rot-select li&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 数据数组长度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> dateLength = rotDate.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 轮播展示序号，默认第一个</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> num = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 轮播的对象,默认第一个</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> rot = rotDate[num];</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 修改轮播容器的内容</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">applyDate</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//换标题和图片</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            rot = rotDate[num];</span></span><br><span class=\"line\"><span class=\"language-javascript\">            img.<span class=\"property\">src</span> = rot.<span class=\"property\">url</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            title.<span class=\"property\">innerHTML</span> = rot.<span class=\"property\">title</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//移除之前的小白点，给当前li添加小白点</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-select .active&#x27;</span>)) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-select .active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            rot_li[num].<span class=\"property\">classList</span>.<span class=\"title function_\">toggle</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 随机展示一个</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">ranDate</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">var</span> random = <span class=\"title function_\">getRandom</span>(rotDate);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            rot = rotDate[random];</span></span><br><span class=\"line\"><span class=\"language-javascript\">            num = random;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">applyDate</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 上一张</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">prevDate</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            num &gt; <span class=\"number\">0</span> ? --num : num = dateLength - <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">applyDate</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 下一张</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">nextDate</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//控制下一张是哪个</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            num = ++num % dateLength;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">applyDate</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//获取两个按钮</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> rotPrev = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-prev&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> rotNext = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-next&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//注册事件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        rotPrev.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">prevDate</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        rotNext.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">nextDate</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 点击小圆点切换展示</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        rot_li.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index, arr</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//让轮播展示序号变为当前点击的li的序号</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                num = index;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">applyDate</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 鼠标悬停停止轮播</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> rotBox = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.rot-box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        rotBox.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseenter&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"built_in\">clearInterval</span>(itv);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;暂停轮播&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 鼠标移出恢复轮播</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        rotBox.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseleave&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//未确保不重复定时，先清除一次</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"built_in\">clearInterval</span>(itv);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            itv = <span class=\"built_in\">setInterval</span>(nextDate, <span class=\"number\">1000</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;恢复轮播&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 一开始随机展示一个，注释掉则默认展示第一个</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//ranDate();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 定时器轮播</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> itv = <span class=\"built_in\">setInterval</span>(nextDate, <span class=\"number\">1000</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        </span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"tab切换\"><a href=\"#tab切换\" class=\"headerlink\" title=\"tab切换\"></a>tab切换</h1><p><strong>1、for循环注册鼠标悬停版：</strong></p>\n<div id=\"tab-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">overflow</span>: hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">233</span>, <span class=\"number\">233</span>, <span class=\"number\">233</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">list-style</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: flex-end;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> <span class=\"selector-tag\">li</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">2px</span> <span class=\"number\">15px</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: -<span class=\"number\">1px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.active</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> <span class=\"selector-tag\">li</span> <span class=\"selector-tag\">a</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-decoration</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">30px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-content</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-item</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-item</span><span class=\"selector-class\">.active</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-nav&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;active&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏2<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏3<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏4<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏5<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-content&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item active&quot;</span>&gt;</span>项目一<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目二<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目三<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目四<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目五<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tabNav = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.tab-nav ul li&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tabItem = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.tab-item&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        tabNav.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item,index</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseenter&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-nav .active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-content .active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                item.<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                tabItem[index].<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;tab-sandbox&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>2、事件委托鼠标点击版：</strong></p>\n<div id=\"tab2-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">overflow</span>: hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">233</span>, <span class=\"number\">233</span>, <span class=\"number\">233</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">list-style</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: flex-end;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> <span class=\"selector-tag\">li</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid transparent;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: -<span class=\"number\">1px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> <span class=\"selector-tag\">li</span> <span class=\"selector-tag\">a</span><span class=\"selector-class\">.active</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">ul</span> <span class=\"selector-tag\">li</span> <span class=\"selector-tag\">a</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-decoration</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">33px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">2px</span> <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> <span class=\"number\">6px</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-content</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-item</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-item</span><span class=\"selector-class\">.active</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-nav&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;0&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;active&quot;</span>&gt;</span>栏1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span>栏2<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span>栏3<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;3&quot;</span>&gt;</span>栏4<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;4&quot;</span>&gt;</span>栏5<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-content&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item active&quot;</span>&gt;</span>项目一<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目二<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目三<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目四<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-item&quot;</span>&gt;</span>项目五<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tabNav = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-nav ul&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tabItem = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.tab-item&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//利用事件委托减少注册</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        tabNav.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> tag = e.<span class=\"property\">target</span>.<span class=\"property\">tagName</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (tag === <span class=\"string\">&#x27;A&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-nav .active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-content .active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                e.<span class=\"property\">target</span>.<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                tabItem[e.<span class=\"property\">target</span>.<span class=\"property\">dataset</span>.<span class=\"property\">id</span>].<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"表单全选反选\"><a href=\"#表单全选反选\" class=\"headerlink\" title=\"表单全选反选\"></a>表单全选反选</h1><div id=\"input-check-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">table</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-collapse</span>: collapse;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-spacing</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#c0c0c0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">th</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">40</span>, <span class=\"number\">170</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font</span>: bold <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">22px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">td</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#d0d0d0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#363636</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span> <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#f9f9f9</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">tr</span> <span class=\"selector-tag\">td</span><span class=\"selector-pseudo\">:not</span>(<span class=\"selector-pseudo\">:first</span>-child)&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">min-width</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">tr</span> <span class=\"selector-tag\">th</span><span class=\"selector-pseudo\">:first</span>-child&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">70px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;checkbox&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;check-all&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>全选<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>书名<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>作者<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>价格<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;checkbox&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;check-one&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>毛泽东选集<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>毛泽东<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>56<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;checkbox&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;check-one&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>资本论<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>马克思<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>129<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;checkbox&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;check-one&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>三体<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>刘慈欣<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>46<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> checkAll = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#check-all&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> checks = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.check-one&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        checkAll.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            checks.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                item.<span class=\"property\">checked</span> = checkAll.<span class=\"property\">checked</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        checks.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                checkAll.<span class=\"property\">checked</span> = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.check-one:checked&#x27;</span>).<span class=\"property\">length</span> === checks.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"导航栏、电梯导航、哔哩tab\"><a href=\"#导航栏、电梯导航、哔哩tab\" class=\"headerlink\" title=\"导航栏、电梯导航、哔哩tab\"></a>导航栏、电梯导航、哔哩tab</h1><div id=\"nav-bl-tab-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">body</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding-bottom</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">500px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">overflow</span>: hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">list-style</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">233</span>, <span class=\"number\">233</span>, <span class=\"number\">233</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: row;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: nowrap;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">a</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-decoration</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-nav</span> <span class=\"selector-tag\">a</span><span class=\"selector-class\">.active</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">23</span>, <span class=\"number\">180</span>, <span class=\"number\">215</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.tab-bar</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">3px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">23</span>, <span class=\"number\">180</span>, <span class=\"number\">215</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">bottom</span>: -<span class=\"number\">1px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.item-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">220</span>, <span class=\"number\">220</span>, <span class=\"number\">220</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.item</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.item</span><span class=\"selector-class\">.active</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* 导航栏 */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-id\">#nav</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">120</span>, <span class=\"number\">182</span>, <span class=\"number\">191</span>, <span class=\"number\">0.5</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: fixed;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">top</span>: -<span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">z-index</span>: <span class=\"number\">9999</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">144</span>, <span class=\"number\">193</span>, <span class=\"number\">230</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* 电梯导航 */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.ele-nav</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: fixed;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">bottom</span>: <span class=\"number\">20%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">233</span>, <span class=\"number\">233</span>, <span class=\"number\">233</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">10%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">overflow</span>: hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">z-index</span>: -<span class=\"number\">99</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.ele-item</span><span class=\"selector-class\">.active</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">23</span>, <span class=\"number\">180</span>, <span class=\"number\">215</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">252</span>, <span class=\"number\">200</span>, <span class=\"number\">200</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.ele-item</span>,</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.back-top</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#333</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            user-select: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.ele-item</span><span class=\"selector-pseudo\">:hover</span>,</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.back-top</span><span class=\"selector-pseudo\">:hover</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">23</span>, <span class=\"number\">180</span>, <span class=\"number\">215</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;nav&quot;</span>&gt;</span>导航栏<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-nav&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;active&quot;</span>&gt;</span>栏1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏2<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏3<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏4<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span>&gt;</span>栏114514<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tab-bar&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item-box&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item active&quot;</span>&gt;</span>项目一<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item&quot;</span>&gt;</span>项目二<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item&quot;</span>&gt;</span>项目三<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item&quot;</span>&gt;</span>项目四<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item&quot;</span>&gt;</span>项目114514<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ele-nav&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ele-item&quot;</span>&gt;</span>去第一个<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ele-item&quot;</span>&gt;</span>去第二个<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ele-item&quot;</span>&gt;</span>去第三个<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ele-item&quot;</span>&gt;</span>去第四个<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;back-top&quot;</span>&gt;</span>回到顶部<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span>第一个盒子,滚动到此(往上55像素)显示导航栏和电梯导航<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span>第二个盒子<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span>第三个盒子<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span>第四个盒子<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//网页导航栏,还有电梯导航的显示和隐藏</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> nav = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#nav&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> ele_nav = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ele-nav&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> n = <span class=\"variable language_\">window</span>.<span class=\"property\">scrollY</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> m = box[<span class=\"number\">0</span>].<span class=\"property\">offsetTop</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> tf = n &gt;= m-<span class=\"number\">55</span>;<span class=\"comment\">//减去55像素，不让电梯导航点击去第一个后消失</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            nav.<span class=\"property\">style</span>.<span class=\"property\">top</span> = tf ? <span class=\"string\">&#x27;0px&#x27;</span> : <span class=\"string\">&#x27;-50px&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ele_nav.<span class=\"property\">style</span>.<span class=\"property\">opacity</span> = tf ? <span class=\"string\">&#x27;1&#x27;</span> : <span class=\"string\">&#x27;0&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ele_nav.<span class=\"property\">style</span>.<span class=\"property\">zIndex</span> = tf ? <span class=\"string\">&#x27;99&#x27;</span> : <span class=\"string\">&#x27;-99&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//bilibili导航</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> bar = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-bar&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tabNav = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-nav&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tab_a = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.tab-nav a&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> item = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.item-box .item&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//给每个a依次添加data-id</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        tab_a.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"property\">dataset</span>.<span class=\"property\">id</span> = index;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//将a的点击事件委托给tab-nav</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        tabNav.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> tag = e.<span class=\"property\">target</span>.<span class=\"property\">tagName</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (tag === <span class=\"string\">&#x27;A&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//tab导航切换</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tab-nav a.active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.item.active&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                e.<span class=\"property\">target</span>.<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                item[e.<span class=\"property\">target</span>.<span class=\"property\">dataset</span>.<span class=\"property\">id</span>].<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//bar移动和动态改变宽度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                bar.<span class=\"property\">style</span>.<span class=\"property\">width</span> = <span class=\"string\">`<span class=\"subst\">$&#123;e.target.offsetWidth&#125;</span>px`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                bar.<span class=\"property\">style</span>.<span class=\"property\">left</span> = <span class=\"string\">`<span class=\"subst\">$&#123;e.target.offsetLeft&#125;</span>px`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        tab_a[<span class=\"number\">0</span>].<span class=\"title function_\">click</span>();<span class=\"comment\">//先初始化一次bar的位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//电梯导航</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//给每个电梯导航依次添加data-name</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.ele-item&#x27;</span>).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"property\">dataset</span>.<span class=\"property\">name</span> = <span class=\"string\">`b<span class=\"subst\">$&#123;index+<span class=\"number\">1</span>&#125;</span>`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//给每个box依次添加电梯导航对应的自定义属性的class</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        box.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">`b<span class=\"subst\">$&#123;index+<span class=\"number\">1</span>&#125;</span>`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//移除ele的active</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">reactive</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> ele_active = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.ele-item.active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(ele_active)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//如果有，先清除</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                ele_active.<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//去指定盒子,事件委托</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        ele_nav.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> cname = e.<span class=\"property\">target</span>.<span class=\"property\">className</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (cname === <span class=\"string\">&#x27;ele-item&#x27;</span>||cname === <span class=\"string\">&#x27;ele-item active&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">reactive</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//给点击的item添加active</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                e.<span class=\"property\">target</span>.<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//去对应的盒子</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//通过自定义属性获取对应的盒子class名</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">`.<span class=\"subst\">$&#123;e.target.dataset.name&#125;</span>`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// 其实监听滚动后，没必要再手动去给active，但想点击后导航立刻变色的话，可以取消下面的注释</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// //先立刻移除页面滚动监听</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// window.removeEventListener(&#x27;scroll&#x27;, scroll_light_ele);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// //一秒后重新监听</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// setTimeout(() =&gt; &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//     //防止重复注册，先移除页面滚动监听</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//     window.removeEventListener(&#x27;scroll&#x27;, scroll_light_ele);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//     window.addEventListener(&#x27;scroll&#x27;, scroll_light_ele);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// &#125;, 800);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//更新当前页面在哪个盒子的范围位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                box_num = e.<span class=\"property\">target</span>.<span class=\"property\">dataset</span>.<span class=\"property\">name</span>.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/[^\\d]/g</span>, <span class=\"string\">&quot; &quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//滚动到指定位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">top</span>: box.<span class=\"property\">offsetTop</span> - <span class=\"number\">50</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">left</span>: <span class=\"number\">0</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">behavior</span>: <span class=\"string\">&#x27;smooth&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//点击返回顶部</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (cname === <span class=\"string\">&#x27;back-top&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">reactive</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">top</span>: <span class=\"number\">0</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">left</span>: <span class=\"number\">0</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">behavior</span>: <span class=\"string\">&#x27;smooth&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                box_num = -<span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//获取盒子的高度数组减去55px</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> box_top_arr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(box).<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> item.<span class=\"property\">offsetTop</span>-<span class=\"number\">55</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> box_num = -<span class=\"number\">1</span>;<span class=\"comment\">//记录当前在哪个盒子范围内</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//页面滚动到对应box让电梯导航对应导航高亮</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">scroll_light_ele</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> n = <span class=\"variable language_\">window</span>.<span class=\"property\">scrollY</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> num = box_top_arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item, index</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> n &gt;= item ? index : prev;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,-<span class=\"number\">1</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(num === box_num)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//说明还在这个盒子范围内，直接返回</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//更新位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                box_num = num;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(num &gt; -<span class=\"number\">1</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">reactive</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">`[data-name=&quot;b<span class=\"subst\">$&#123;num+<span class=\"number\">1</span>&#125;</span>&quot;]`</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;active&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                box_num = -<span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, scroll_light_ele);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"倒计时\"><a href=\"#倒计时\" class=\"headerlink\" title=\"倒计时\"></a>倒计时</h1><div id=\"time-count-sandbox\"></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.time-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">20px</span> <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">30</span>, <span class=\"number\">171</span>, <span class=\"number\">210</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">overflow</span>: hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.time-now</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.time-title</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">26px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">6px</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.clock</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: row;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: wrap;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.hour</span>,<span class=\"selector-class\">.minutes</span>,<span class=\"selector-class\">.second</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">2px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">2px</span> <span class=\"number\">3px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">36</span>, <span class=\"number\">36</span>, <span class=\"number\">36</span>, <span class=\"number\">0.65</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.colon</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-weight</span>: bolder;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">2px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.target</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">6px</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;time-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;time-now&quot;</span>&gt;</span>今天是1970年1月1日<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;time-title&quot;</span>&gt;</span>倒计时<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;clock&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;hour&quot;</span>&gt;</span>00<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;colon&quot;</span>&gt;</span>:<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;minutes&quot;</span>&gt;</span>00<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;colon&quot;</span>&gt;</span>:<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;second&quot;</span>&gt;</span>00<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;target&quot;</span>&gt;</span>目标时间00:00:00<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> hour = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.hour&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> minutes = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.minutes&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> second = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.second&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> time_now = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.time-now&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> target = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.target&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> now = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> time = <span class=\"string\">&#x27;18:00:00&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> targetTime = <span class=\"string\">`<span class=\"subst\">$&#123;now.getFullYear()&#125;</span>-<span class=\"subst\">$&#123;now.getMonth() + <span class=\"number\">1</span>&#125;</span>-<span class=\"subst\">$&#123;now.getDate()&#125;</span> 18:00:00`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> last = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(targetTime);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> count = (last.<span class=\"title function_\">getTime</span>() - now.<span class=\"title function_\">getTime</span>()) / <span class=\"number\">1000</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">countDown</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> h = <span class=\"built_in\">parseInt</span>(count / <span class=\"number\">60</span> / <span class=\"number\">60</span> % <span class=\"number\">24</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            h = h &lt; <span class=\"number\">10</span> ? <span class=\"string\">&#x27;0&#x27;</span> + h : h;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> m = <span class=\"built_in\">parseInt</span>(count / <span class=\"number\">60</span> % <span class=\"number\">60</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            m = m &lt; <span class=\"number\">10</span> ? <span class=\"string\">&#x27;0&#x27;</span> + m : m;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> s = <span class=\"built_in\">parseInt</span>(count % <span class=\"number\">60</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            s = s &lt; <span class=\"number\">10</span> ? <span class=\"string\">&#x27;0&#x27;</span> + s : s;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            hour.<span class=\"property\">innerHTML</span> = h;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            minutes.<span class=\"property\">innerHTML</span> = m;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            second.<span class=\"property\">innerHTML</span> = s;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            count--;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (count == <span class=\"number\">0</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                count = <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        time_now.<span class=\"property\">innerHTML</span> = <span class=\"string\">`今天是<span class=\"subst\">$&#123;now.getFullYear()&#125;</span>年<span class=\"subst\">$&#123;now.getMonth() + <span class=\"number\">1</span>&#125;</span>月<span class=\"subst\">$&#123;now.getDate()&#125;</span>日`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        target.<span class=\"property\">innerHTML</span> = <span class=\"string\">`目标时间<span class=\"subst\">$&#123;time&#125;</span>`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">countDown</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"built_in\">setInterval</span>(countDown, <span class=\"number\">1000</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"学生信息表\"><a href=\"#学生信息表\" class=\"headerlink\" title=\"学生信息表\"></a>学生信息表</h1><p><a href=\"/dom/stu-info.html\" target=\"_blank\">学生信息表</a></p>\n<p>本地存储，数据驱动，刷新不丢失</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">a</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-decoration</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">226</span>, <span class=\"number\">14</span>, <span class=\"number\">14</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.info-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">800px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">h1</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            user-select: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.info</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">40px</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.ipt-name</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: inline-block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">25px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.info</span> <span class=\"selector-tag\">input</span>,</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.info</span> select &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">70px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">outline</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#b8daff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">25px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">15px</span> <span class=\"number\">0</span> <span class=\"number\">2px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">input</span><span class=\"selector-class\">.sname</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">80px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">input</span><span class=\"selector-class\">.age</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.info</span> <span class=\"selector-tag\">button</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">60px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">25px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">82</span>, <span class=\"number\">191</span>, <span class=\"number\">231</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">outline</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">rgb</span>(<span class=\"number\">98</span>, <span class=\"number\">98</span>, <span class=\"number\">98</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">table</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#363636</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-collapse</span>: collapse;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-spacing</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">th</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span> <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#cfe5ff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-weight</span>: <span class=\"number\">400</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">td</span>,</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">th</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#b8daff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">td</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span> <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">tbody</span> <span class=\"selector-tag\">tr</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">tbody</span> <span class=\"selector-tag\">tr</span><span class=\"selector-pseudo\">:hover</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#e1ecf8</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.info-num</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-top</span>: -<span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>新增学生信息<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ipt-name&quot;</span>&gt;</span>姓名<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;sname&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;sname&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ipt-name&quot;</span>&gt;</span>年龄<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;age&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ipt-name&quot;</span>&gt;</span>性别<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gender&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;gender&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;男&quot;</span>&gt;</span>男<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;女&quot;</span>&gt;</span>女<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ipt-name&quot;</span>&gt;</span>年级<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;grade&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;grade&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;大一&quot;</span>&gt;</span>大一<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;大二&quot;</span>&gt;</span>大二<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;大三&quot;</span>&gt;</span>大三<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;大四&quot;</span>&gt;</span>大四<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ipt-name&quot;</span>&gt;</span>专业<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;major&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;major&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;计科&quot;</span>&gt;</span>计科<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;机械&quot;</span>&gt;</span>机械<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;会计&quot;</span>&gt;</span>会计<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;add-info&quot;</span>&gt;</span>录入<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>学生信息<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-num&quot;</span>&gt;</span>共有0条数据<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>序号<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>姓名<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>年龄<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>性别<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>年级<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>专业<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>操作<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> arr = [</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">name</span>: <span class=\"string\">&#x27;张三&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">age</span>: <span class=\"number\">19</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">gender</span>: <span class=\"string\">&#x27;男&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">grade</span>: <span class=\"string\">&#x27;大一&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">major</span>: <span class=\"string\">&#x27;计科&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">name</span>: <span class=\"string\">&#x27;李四&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">gender</span>: <span class=\"string\">&#x27;男&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">grade</span>: <span class=\"string\">&#x27;大二&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">major</span>: <span class=\"string\">&#x27;机械&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">name</span>: <span class=\"string\">&#x27;李丽&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">gender</span>: <span class=\"string\">&#x27;女&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">grade</span>: <span class=\"string\">&#x27;大三&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">major</span>: <span class=\"string\">&#x27;会计&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        ];</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> info = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.info&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> items = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.info [name]&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> tbody = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;tbody&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> infoNum = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.info-num&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        info.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;submit&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            e.<span class=\"title function_\">preventDefault</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> i = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(items).<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, item</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> item.<span class=\"property\">value</span> === <span class=\"string\">&#x27;&#x27;</span> ? prev : prev += <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;, <span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (i != items.<span class=\"property\">length</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;输入内容不能为空&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> obj = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">name</span>: info.<span class=\"property\">children</span>[<span class=\"number\">1</span>].<span class=\"property\">value</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">age</span>: info.<span class=\"property\">children</span>[<span class=\"number\">3</span>].<span class=\"property\">value</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">gender</span>: info.<span class=\"property\">children</span>[<span class=\"number\">5</span>].<span class=\"property\">value</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">grade</span>: info.<span class=\"property\">children</span>[<span class=\"number\">7</span>].<span class=\"property\">value</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">major</span>: info.<span class=\"property\">children</span>[<span class=\"number\">9</span>].<span class=\"property\">value</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//更新数据</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            arr.<span class=\"title function_\">push</span>(obj);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//重置表单</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            info.<span class=\"title function_\">reset</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//信息本地存储</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;info&#x27;</span>, <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//调用渲染函数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">render</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            tbody.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> trArr = arr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"string\">`&lt;tr&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;<span class=\"subst\">$&#123;index + <span class=\"number\">1</span>&#125;</span>&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;<span class=\"subst\">$&#123;item.name&#125;</span>&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;<span class=\"subst\">$&#123;item.age&#125;</span>&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;<span class=\"subst\">$&#123;item.gender&#125;</span>&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;<span class=\"subst\">$&#123;item.grade&#125;</span>&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;<span class=\"subst\">$&#123;item.major&#125;</span>&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                    &lt;td&gt;&lt;a href=&quot;javascript:&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">                &lt;/tr&gt;`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            tbody.<span class=\"property\">innerHTML</span> = trArr.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            infoNum.<span class=\"property\">innerHTML</span> = <span class=\"string\">`共有<span class=\"subst\">$&#123;arr.length&#125;</span>条数据`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//删除，事件委托</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        tbody.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> target = e.<span class=\"property\">target</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (target.<span class=\"property\">tagName</span> === <span class=\"string\">&#x27;A&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> num = e.<span class=\"property\">target</span>.<span class=\"property\">parentNode</span>.<span class=\"property\">parentNode</span>.<span class=\"property\">firstElementChild</span>.<span class=\"property\">innerHTML</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//拿到序号，删除一个</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> tf = <span class=\"title function_\">confirm</span>(<span class=\"string\">`确认删除第 <span class=\"subst\">$&#123;num&#125;</span> 个学生信息吗？`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (tf) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    arr.<span class=\"title function_\">splice</span>(num - <span class=\"number\">1</span>, <span class=\"number\">1</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;info&#x27;</span>, <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arr));</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">render</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">infoInit</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//先获取本地数据</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> info = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(<span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;info&#x27;</span>));</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (info) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                arr = info;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">render</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//初始化</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">infoInit</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"注册界面\"><a href=\"#注册界面\" class=\"headerlink\" title=\"注册界面\"></a>注册界面</h1><p><a href=\"/dom/reg.html\" target=\"_blank\">注册界面</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">input</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">outline</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">a</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-decoration</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.reg-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">244</span>, <span class=\"number\">242</span>, <span class=\"number\">242</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(-<span class=\"number\">50%</span>, -<span class=\"number\">50%</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e4e4e4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.reg-box</span> <span class=\"selector-class\">.reg-title</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">15px</span> <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">22px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-weight</span>: bolder;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#363636</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.reg-form</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: row;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: wrap;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding-bottom</span>: <span class=\"number\">25px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: space-between;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">letter-spacing</span>: <span class=\"number\">0.6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-tag\">input</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e4e4e4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">16px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-class\">.msg</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">255</span>, <span class=\"number\">79</span>, <span class=\"number\">126</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">bottom</span>: <span class=\"number\">9px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding-left</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.code-box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-attr\">[name=<span class=\"string\">&quot;code&quot;</span>]</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-shrink</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-tag\">a</span><span class=\"selector-class\">.code</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"built_in\">rgb</span>(<span class=\"number\">120</span>, <span class=\"number\">187</span>, <span class=\"number\">233</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-shrink</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            user-select: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.agree-check</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-class\">.agree</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-class\">.agree</span><span class=\"selector-pseudo\">:checked</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#9decbe</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.agreement</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">20px</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding-left</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#363636</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.agreement</span> <span class=\"selector-tag\">a</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#6a9adf</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.reg-submit</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">40px</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">8px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">outline</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: none;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#9decbe</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#363636</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">15px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">            user-select: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.reg-submit</span><span class=\"selector-pseudo\">:hover</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#86ebb0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-class\">.see</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">line-height</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">14px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">top</span>: <span class=\"number\">12px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#ababab</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            user-select: none;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.form-item</span> <span class=\"selector-class\">.see</span><span class=\"selector-pseudo\">:hover</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#6a9adf</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;reg-box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;reg-title&quot;</span>&gt;</span>新用户注册<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;reg-form&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;uname&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;设置用户名&quot;</span> <span class=\"attr\">maxlength</span>=<span class=\"string\">&quot;12&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;msg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;phone&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;输入手机号&quot;</span> <span class=\"attr\">maxlength</span>=<span class=\"string\">&quot;11&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;msg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;code-box&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;code&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;输入验证码&quot;</span> <span class=\"attr\">maxlength</span>=<span class=\"string\">&quot;6&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;msg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;code&quot;</span>&gt;</span>发送验证码<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;输入密码&quot;</span> <span class=\"attr\">maxlength</span>=<span class=\"string\">&quot;20&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;msg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;see&quot;</span>&gt;</span>显示<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;password-again&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;再次输入密码&quot;</span> <span class=\"attr\">maxlength</span>=<span class=\"string\">&quot;20&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;msg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;see&quot;</span>&gt;</span>显示<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-item agree-check&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;checkbox&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;agree&quot;</span> <span class=\"attr\">autocomplete</span>=<span class=\"string\">&quot;off&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;msg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;agreement&quot;</span>&gt;</span>已阅读并同意<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>《用户协议》<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;reg-submit&quot;</span>&gt;</span>提交<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> code = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.code-box .code&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> code_flag = <span class=\"literal\">true</span>;<span class=\"comment\">//控制点击有没有效果</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> codeTime = <span class=\"number\">30</span>;<span class=\"comment\">//验证码发送间隔时间，默认30秒</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//验证码间隔验证的初始化</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">codeInit</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//如果验证码间隔倒计时还没30秒，就继续倒计时</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> code_time = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;code_time&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (code_time) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> time = codeTime - <span class=\"built_in\">parseInt</span>((<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>() - code_time) / <span class=\"number\">1000</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//小于0说明间隔已经满足</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (time &gt; <span class=\"number\">0</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"comment\">//执行控制验证码间隔函数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">code_limit_time</span>(time);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">// 发送短信验证码</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            code.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (code_flag) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"comment\">//存入点击发送验证码时的时间戳</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;code_time&#x27;</span>, <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>());</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    code_flag = <span class=\"literal\">false</span>;<span class=\"comment\">//可以点击</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">code_limit_time</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"comment\">//这里就可以去做请求短信接口</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 控制验证码发送间隔函数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">code_limit_time</span>(<span class=\"params\">i = codeTime</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            code.<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;i&#125;</span>秒后重新获取`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            code.<span class=\"property\">style</span>.<span class=\"property\">pointerEvents</span> = <span class=\"string\">&#x27;none&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            code.<span class=\"property\">style</span>.<span class=\"property\">background</span> = <span class=\"string\">&#x27;#c6c6c6&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">var</span> stv = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                i--;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                code.<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;i&#125;</span>秒后重新获取`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    code_flag = <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    code.<span class=\"property\">innerHTML</span> = <span class=\"string\">`重新获取`</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    code.<span class=\"property\">style</span>.<span class=\"property\">pointerEvents</span> = <span class=\"string\">&#x27;auto&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    code.<span class=\"property\">style</span>.<span class=\"property\">background</span> = <span class=\"string\">&#x27;rgb(120, 187, 233)&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"built_in\">clearInterval</span>(stv);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"comment\">//倒计时完成移除时间戳</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">removeItem</span>(<span class=\"string\">&#x27;code_time&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;, <span class=\"number\">1000</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//输入框验证函数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">input_verification</span>(<span class=\"params\">input, rex, msg</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> div = input.<span class=\"property\">nextElementSibling</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (rex.<span class=\"title function_\">test</span>(input.<span class=\"property\">value</span>)) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                div.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                div.<span class=\"property\">innerHTML</span> = msg;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 输入框内容检查</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> uname = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.form-item input[name=&quot;uname&quot;]&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> phone = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.form-item input[name=&quot;phone&quot;]&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> code_input = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.form-item input[name=&quot;code&quot;]&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> password = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.form-item input[name=&quot;password&quot;]&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> password_again = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input.password-again&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> agree = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.agree-check .agree&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//用户名验证</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">inspect_uname</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"title function_\">input_verification</span>(uname, <span class=\"regexp\">/^\\w&#123;4,12&#125;$/g</span>, <span class=\"string\">&quot;4到12位用户名，只能包含数字、字母、下划线&quot;</span>) ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//手机号验证</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">inspect_phone</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"title function_\">input_verification</span>(phone, <span class=\"regexp\">/^1[3-9][0-9]&#123;9&#125;$/g</span>, <span class=\"string\">&quot;11位手机号&quot;</span>) ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//检查验证码是否是6位数字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">inspect_code</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"title function_\">input_verification</span>(code_input, <span class=\"regexp\">/^\\d&#123;6&#125;$/g</span>, <span class=\"string\">&quot;6位数字验证码&quot;</span>) ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//密码验证，开头必须是字母，6到20位</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">inspect_password</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"title function_\">input_verification</span>(password, <span class=\"regexp\">/^(?=.*[a-z])(?=.*\\d)[a-z\\d]&#123;6,20&#125;$/gi</span>, <span class=\"string\">&quot;6到20位密码，必须包含数字和字母&quot;</span>) ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//验证两次密码输入是否相同</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">inspect_password_again</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> div = password_again.<span class=\"property\">nextElementSibling</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (password_again.<span class=\"property\">value</span> === password.<span class=\"property\">value</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                div.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                div.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;两次密码不一致&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 检查协议是否同意</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">inspect_agree</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> div = agree.<span class=\"property\">nextElementSibling</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (agree.<span class=\"property\">checked</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                div.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                div.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;请同意协议&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//监听各个输入框内容是否改变</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        uname.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">inspect_uname</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        phone.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">inspect_phone</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        code_input.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">inspect_code</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        password.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">inspect_password</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (password_again.<span class=\"property\">value</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">inspect_password_again</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        password_again.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">inspect_password_again</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//密码点击查看隐藏</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> see_psw = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.form-item .see&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        see_psw.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            item.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> input = item.<span class=\"property\">parentNode</span>.<span class=\"property\">firstElementChild</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (input.<span class=\"property\">type</span> === <span class=\"string\">&quot;password&quot;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    item.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;隐藏&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    input.<span class=\"property\">type</span> = <span class=\"string\">&quot;text&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    item.<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;显示&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    input.<span class=\"property\">type</span> = <span class=\"string\">&quot;password&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//点击提交表单</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> btn_submit = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.reg-submit&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> reg_form = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.reg-form&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        reg_form.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;submit&#x27;</span>, <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//提交前再次把所有输入框检查一遍</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!<span class=\"title function_\">inspect_uname</span>()) &#123; e.<span class=\"title function_\">preventDefault</span>(); &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!<span class=\"title function_\">inspect_phone</span>()) &#123; e.<span class=\"title function_\">preventDefault</span>(); &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!<span class=\"title function_\">inspect_code</span>()) &#123; e.<span class=\"title function_\">preventDefault</span>(); &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!<span class=\"title function_\">inspect_password</span>()) &#123; e.<span class=\"title function_\">preventDefault</span>(); &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!<span class=\"title function_\">inspect_password_again</span>()) &#123; e.<span class=\"title function_\">preventDefault</span>(); &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!<span class=\"title function_\">inspect_agree</span>()) &#123; e.<span class=\"title function_\">preventDefault</span>(); &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//初始化函数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">regInit</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">codeInit</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//执行初始化</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">regInit</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"登陆界面\"><a href=\"#登陆界面\" class=\"headerlink\" title=\"登陆界面\"></a>登陆界面</h1><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<script src=\"https://cdn.chuckle.top/js/mini-sandbox.min.js?2\"></script>\n<script src=\"https://cdn.chuckle.top/js/45.js\"></script>\n","categories":["学习笔记"],"tags":["JS","前端"]},{"title":"博客搜索挂了解决方法","url":"/article/f8c79a1b.html","content":"<blockquote>\n<p>省流助手：删除所有local-search.js中下面这行代码<br>window.pjax &amp;&amp; window.pjax.refresh($resultContent)</p>\n</blockquote>\n<h1 id=\"遇到的问题\"><a href=\"#遇到的问题\" class=\"headerlink\" title=\"遇到的问题\"></a>遇到的问题</h1><p>我使用的是本地搜索，local-search，装好后一直正常使用，也没去动过配置<br>前天捣鼓着博客，突然发现博客部署到github上后搜索挂了<br><img src=https://cdn.chuckle.top/images/4-2.webp width=\"60%\" height=\"60%\"><br>一直卡在数据库加载中</p>\n<p>但是，部署在本地，搜索却一切正常<br><img src=https://cdn.chuckle.top/images/4-3.webp width=\"60%\" height=\"60%\"><br>尝试过重装插件，清除浏览器缓存，search.xml改为json，但过一会又挂了</p>\n<p>看网上也有不少人遇到这种问题，却找不到解决办法</p>\n<hr>\n<h1 id=\"解决过程\"><a href=\"#解决过程\" class=\"headerlink\" title=\"解决过程\"></a>解决过程</h1><p>local-search会请求生成在本地的search.xml，也就是数据库加载中里的“数据库”</p>\n<p>部署在本地时正常请求<br><img src=https://cdn.chuckle.top/images/4-8.webp width=\"80%\" height=\"80%\"><br>而部署在github时没有请求<br><img src=https://cdn.chuckle.top/images/4-9.webp width=\"65%\" height=\"65%\"><br>直接访问search.xml正常，不是search.xml的问题<br><img src=https://cdn.chuckle.top/images/4-5.webp width=\"60%\" height=\"60%\"><br>查看报错，看起来是这个js的问题<br><img src=https://cdn.chuckle.top/images/4-6.webp width=\"60%\" height=\"60%\"><br>本地找到local-search.js，这三个代码都一样<br><img src=https://cdn.chuckle.top/images/4-7.webp width=\"60%\" height=\"60%\"><br>js中只有一处pjax报错<br><img src=https://cdn.chuckle.top/images/4-10.webp width=\"60%\" height=\"60%\"><br>类型“Window &amp; typeof globalThis”上不存在属性“pjax”。ts(2339)  </p>\n<p>看不懂这种报错，但问题多半就是这行代码导致的，查看整个js后，尝试删除此行<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">window.pjax &amp;&amp; window.pjax.refresh($resultContent)</span><br></pre></td></tr></table></figure><br>删除后，搜索挂了的问题解决，博客正常请求search.xml<br><img src=https://cdn.chuckle.top/images/4-8.webp width=\"70%\" height=\"70%\"></p>\n<p>但点击搜索结果后pjax失效，具体表现是aplayer停止播放音乐</p>\n<p>看来是pjax的bug，不过感知不强，其余地方的pjax仍然生效</p>\n<p>暂时先这样，以后找到更好的解决办法再更新</p>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"C语言单链表菜品管理系统","url":"/article/a696e8fe.html","content":"<h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><p>我的大一上学期期末项目，也是C语言的期末大作业。  </p>\n<p>使用单链表进行菜品信息的存储，系统有菜品的增删改查、排序、安全输入、统计、随机输出和文件输入输出等功能。 </p>\n<p>现在回去看代码想给自己一锤子（误）</p>\n<hr>\n<h1 id=\"包含文件\"><a href=\"#包含文件\" class=\"headerlink\" title=\"包含文件\"></a>包含文件</h1><div><img src=https://cdn.chuckle.top/images/6-8.webp width=\"70%\" height=\"70%\"></div>\n\n<hr>\n<h1 id=\"函数说明\"><a href=\"#函数说明\" class=\"headerlink\" title=\"函数说明\"></a>函数说明</h1><div><img src=https://cdn.chuckle.top/images/6-9.webp width=\"70%\" height=\"70%\"></div>\n<div><img src=https://cdn.chuckle.top/images/6-10.webp width=\"70%\" height=\"70%\"></div>\n\n<hr>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><figure class=\"highlight c\"><figcaption><span>900行有点长</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;ctype.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;time.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;windows.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> SIZE1 100 <span class=\"comment\">//名称，价格等字数</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> SIZE2 200 <span class=\"comment\">//限制评价字数</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span> _<span class=\"title\">node</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span>\t\t\t\t\t\t\t<span class=\"comment\">//链表的节点结构体</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> name[SIZE1];\t\t<span class=\"comment\">//菜品名称</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> restaurant[SIZE1]; <span class=\"comment\">//饭店名字</span></span><br><span class=\"line\">\t<span class=\"type\">float</span> price;\t\t\t<span class=\"comment\">//菜的价格</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> fraction;\t\t\t<span class=\"comment\">//菜的评分</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> comment[SIZE2];\t<span class=\"comment\">//菜品评价</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> _<span class=\"title\">node</span> *<span class=\"title\">next</span>;</span></span><br><span class=\"line\">&#125; Node;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span> _<span class=\"title\">list</span> //方便对链表操作</span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">\tNode *head;</span><br><span class=\"line\">\tNode *pa;</span><br><span class=\"line\">\tNode *pb;</span><br><span class=\"line\">\tNode *pc;</span><br><span class=\"line\">&#125; List;</span><br><span class=\"line\"><span class=\"comment\">//菜单</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">menu</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;\t\t\t   <span class=\"comment\">//一级菜单</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">menu_inquire</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>; <span class=\"comment\">//二级菜单_查询菜单</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">help</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;\t\t\t   <span class=\"comment\">//二级菜单_帮助菜单</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">menu_sort</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t   <span class=\"comment\">//三级菜单_排序方法</span></span><br><span class=\"line\"><span class=\"comment\">//对节点操作</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t  <span class=\"comment\">//添加节点</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">delete</span> <span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>; <span class=\"comment\">//删除节点</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">revise</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;  <span class=\"comment\">//修改节点</span></span><br><span class=\"line\"><span class=\"comment\">//安全输入</span></span><br><span class=\"line\"><span class=\"type\">char</span> *<span class=\"title function_\">s_gets</span><span class=\"params\">(<span class=\"type\">char</span> *st, <span class=\"type\">int</span> n)</span>; <span class=\"comment\">//安全输入字符</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">get_int</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;\t\t\t   <span class=\"comment\">//安全输入int型</span></span><br><span class=\"line\"><span class=\"type\">float</span> <span class=\"title function_\">get_float</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;\t\t   <span class=\"comment\">//安全输入float型</span></span><br><span class=\"line\"><span class=\"comment\">//链表的输出和操作</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_all</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t\t<span class=\"comment\">//输出链表全部节点</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_one</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t\t<span class=\"comment\">//输出链表指定菜名节点</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_restaurant</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t<span class=\"comment\">//输出链表指定饭店节点</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_part_price</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t<span class=\"comment\">//输出一定价格以下的菜品(这功能。。贫穷)</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_part_fraction</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>; <span class=\"comment\">//输出一定评分以上的菜品</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">average_percentage</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t<span class=\"comment\">//查询某饭店或食堂的平均价格和评分</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">output</span><span class=\"params\">(Node *p)</span>;\t\t\t\t\t<span class=\"comment\">//方便输出</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">random_menu</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t\t<span class=\"comment\">//随机输出一道菜</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">empty</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t\t\t\t<span class=\"comment\">//清空链表</span></span><br><span class=\"line\"><span class=\"comment\">//文件操作</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">save</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t   <span class=\"comment\">//保存</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">read_txt</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>; <span class=\"comment\">//读取文件_初始链表</span></span><br><span class=\"line\"><span class=\"comment\">//单链表的排序</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">sort_ascending</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t <span class=\"comment\">//菜品按价格从低到高排序</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">sort_descending</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t <span class=\"comment\">//菜品按价格从高到低排序</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">sort_score</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t\t <span class=\"comment\">//菜品按评分从高到低排序</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">calculate</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>;\t\t\t\t <span class=\"comment\">//计算出单链表的节点个数</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">swap1</span><span class=\"params\">(List *<span class=\"built_in\">list</span>, List *list_swap)</span>; <span class=\"comment\">//单链表冒泡排序的算法块1</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">swap2</span><span class=\"params\">(List *<span class=\"built_in\">list</span>, List *list_swap)</span>; <span class=\"comment\">//单链表冒泡排序的算法块2</span></span><br><span class=\"line\"><span class=\"comment\">//其他</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">random_number</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span>; <span class=\"comment\">//随机生成不大于节点数的整数</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">color</span><span class=\"params\">(<span class=\"type\">int</span> a)</span>;\t\t\t   <span class=\"comment\">//控制台文本颜色</span></span><br><span class=\"line\"><span class=\"comment\">//______________________________________________________</span></span><br><span class=\"line\"><span class=\"comment\">//------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> <span class=\"comment\">//主函数</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//system(&quot;chcp 65001&quot;);//GB2313</span></span><br><span class=\"line\">\t<span class=\"comment\">//system(&quot;chcp 936&quot;);//UTF8</span></span><br><span class=\"line\">\t<span class=\"comment\">//system(&quot;cls&quot;);</span></span><br><span class=\"line\">\tmenu(); <span class=\"comment\">//输出功能菜单</span></span><br><span class=\"line\">\t<span class=\"comment\">//佛祖开光无bug</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//菜单</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">menu</span><span class=\"params\">()</span> <span class=\"comment\">//一级菜单</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> options, z = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tList <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">list</span>.head = <span class=\"literal\">NULL</span>;\t\t\t\t   <span class=\"comment\">//head指向空，链表不存在</span></span><br><span class=\"line\">\tFILE *fp = fopen(<span class=\"string\">&quot;Menu.txt&quot;</span>, <span class=\"string\">&quot;a&quot;</span>); <span class=\"comment\">//若无Menu.txt文件，则创建一个</span></span><br><span class=\"line\">\tfclose(fp);</span><br><span class=\"line\">\tread_txt(&amp;<span class=\"built_in\">list</span>); <span class=\"comment\">//读入txt中的数据，初始化链表</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (z)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">14</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|                    菜品信息系统             \\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|********************系统功能菜单*********************\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|1、使用帮助|                       \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|2、添加菜品信息|                    \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|3、删除菜品信息|                    \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|4、查询菜品信息|                    \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|5、修改菜品信息|                    \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|6、今天吃什么|                     \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|7、清空所有数据|                     \\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|8、保存|\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|*******************|0、退出系统|                       \\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|!!!前请先保存再退出系统,否则数据会丢失!!!\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入功能序号：&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\toptions = get_int();</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span> (options)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">\t\t\tz = <span class=\"number\">0</span>; <span class=\"comment\">//跳出循环</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;即将退出系统。\\n&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">\t\t\thelp();</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">\t\t\tadd(&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">3</span>:</span><br><span class=\"line\">\t\t\tdelete (&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">4</span>:</span><br><span class=\"line\">\t\t\tmenu_inquire(&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">5</span>:</span><br><span class=\"line\">\t\t\trevise(&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">6</span>:</span><br><span class=\"line\">\t\t\trandom_menu(&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">7</span>:</span><br><span class=\"line\">\t\t\tempty(&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">8</span>:</span><br><span class=\"line\">\t\t\tsave(&amp;<span class=\"built_in\">list</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;无该功能，请重新输入\\n&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">help</span><span class=\"params\">()</span> <span class=\"comment\">//二级菜单_帮助菜单</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|使用帮助：\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|1、本菜品信息系统可供用户自行修改内容\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|2、因为考虑到不同饭店有同样名称的菜品，本系统允许菜品名称有重复\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|3、请勿输入错误信息，以免造成程序出错\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|4、关闭系统前记得保存！否则数据会丢失\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|5、有bug联系1934009145@qq.com\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|6、github地址:github.com/qxchuckle/Dishes-Management-System\\n&quot;</span>);</span><br><span class=\"line\">\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">menu_inquire</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//二级菜单_查询菜单</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> options, z = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tList *p = <span class=\"built_in\">list</span>;\t\t\t<span class=\"comment\">//方便传结构体指针</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">list</span>-&gt;head == <span class=\"literal\">NULL</span>) <span class=\"comment\">//判断链表是否为空</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;还未存入任何菜品！无法查询！\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>; <span class=\"comment\">//为空结束函数</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (z)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|1、查询全部菜品信息\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|2、按菜名查询菜品信息\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|3、查询饭店或食堂的全部菜品信息\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|4、查询某价格以下的全部菜品\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|5、查询某评分以上的全部菜品\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|6、查询某饭店或食堂的平均价格、评分和价格区间占比\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|0、返回主菜单\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入功能序号：&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\toptions = get_int();</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span> (options)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">\t\t\tz = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (menu_sort(p))</span><br><span class=\"line\">\t\t\t\tinquire_all(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">\t\t\tinquire_one(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">3</span>:</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (menu_sort(p))</span><br><span class=\"line\">\t\t\t\tinquire_restaurant(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">4</span>:</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (menu_sort(p))</span><br><span class=\"line\">\t\t\t\tinquire_part_price(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">5</span>:</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (menu_sort(p))</span><br><span class=\"line\">\t\t\t\tinquire_part_fraction(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">6</span>:</span><br><span class=\"line\">\t\t\taverage_percentage(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;无该功能，请重新输入\\n&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">menu_sort</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//三级菜单_排序方法</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> options, z = <span class=\"number\">1</span>, n = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tList *p = <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (z)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|1、按价格从低到高排序\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|2、按价格从高到低排序\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|3、按评分从高到低排序\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|4、不排序\\n&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|0、返回主菜单\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|-----------------------------------------------------\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入功能序号：&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\toptions = get_int();</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span> (options)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">\t\t\tz = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> z;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">\t\t\tsort_ascending(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">\t\t\tsort_descending(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">3</span>:</span><br><span class=\"line\">\t\t\tsort_score(p);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"number\">4</span>:</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;无该功能，请重新输入\\n&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//对节点操作</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//添加节点</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">float</span> k = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>, i = <span class=\"number\">0</span>;</span><br><span class=\"line\">\tNode *last = <span class=\"built_in\">list</span>-&gt;head;</span><br><span class=\"line\">\tNode *p1 = (Node *)<span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(Node)), *p; <span class=\"comment\">//给节点分配空间</span></span><br><span class=\"line\">\tp1-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;开始录入菜品：\\n----------------\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请输入菜品名称：&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\ts_gets(p1-&gt;name, SIZE1);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">while</span> (<span class=\"built_in\">strlen</span>(p1-&gt;name) == <span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请输入菜品所属饭店or食堂名称：&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\ts_gets(p1-&gt;restaurant, SIZE1);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">while</span> (<span class=\"built_in\">strlen</span>(p1-&gt;restaurant) == <span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!(<span class=\"built_in\">strcmp</span>(p1-&gt;name, p-&gt;name) || <span class=\"built_in\">strcmp</span>(p1-&gt;restaurant, p-&gt;restaurant)))</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;该饭店/食堂内已存在同名菜品！\\n&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请输入菜品的价格：&quot;</span>);</span><br><span class=\"line\">\tp1-&gt;price = get_float();</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请输入0-10的整数对菜品进行评分：&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tn = get_int();</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (n &gt;= <span class=\"number\">0</span> &amp;&amp; n &lt;= <span class=\"number\">10</span>) <span class=\"comment\">//判断评分是否是0-10</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tp1-&gt;fraction = n;</span><br><span class=\"line\">\t\t\ti = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;评分不在规定范围内，请重新输入：&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">while</span> (!i);</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请对菜品进行评价：&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\ts_gets(p1-&gt;comment, SIZE2);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">while</span> (<span class=\"built_in\">strlen</span>(p1-&gt;comment) == <span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (last) <span class=\"comment\">//如果last有值，则说明head已指向链表第一个节点</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (last-&gt;next)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tlast = last-&gt;next; <span class=\"comment\">//last始终指向最后一个节点</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tlast-&gt;next = p1; <span class=\"comment\">//在最后一个节点后面再加一个节点</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">list</span>-&gt;head = p1; <span class=\"comment\">//如果last为NULL，则要将head指向第一个节点</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;录入成功！&quot;</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">delete</span> <span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//删除节点</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\t<span class=\"type\">char</span> b[SIZE1];</span><br><span class=\"line\">\tNode *p, *q;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">list</span>-&gt;head == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t&#123; <span class=\"comment\">//判断链表是否为空</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;还未存入任何菜品！删除失败！\\n&quot;</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入你要删除的菜品名称：&quot;</span>);</span><br><span class=\"line\">\ts_gets(a, SIZE1);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入菜品所属饭店名称：&quot;</span>);</span><br><span class=\"line\">\ts_gets(b, SIZE1);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (q = <span class=\"literal\">NULL</span>, p = <span class=\"built_in\">list</span>-&gt;head; p; q = p, p = p-&gt;next)</span><br><span class=\"line\">\t&#123;\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!(<span class=\"built_in\">strcmp</span>(a, p-&gt;name) || <span class=\"built_in\">strcmp</span>(b, p-&gt;restaurant))) <span class=\"comment\">//判断是否找到要修改的节点</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tn++;   <span class=\"comment\">//记录找到了</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (q) <span class=\"comment\">//判断找到的是不是第一个节点</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tq-&gt;next = p-&gt;next; <span class=\"comment\">//让该节点的前一个节点都next指向后一个节点</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">list</span>-&gt;head = p-&gt;next; <span class=\"comment\">//让head的next指向后一个节点</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!n)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n没有这道菜！\\n&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n删除成功%d道菜。\\n&quot;</span>, n);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">revise</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//修改节点</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">float</span> k = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>, m = <span class=\"number\">0</span>, i = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\t<span class=\"type\">char</span> b[SIZE1];</span><br><span class=\"line\">\tNode *p, *q;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">list</span>-&gt;head == <span class=\"literal\">NULL</span>) <span class=\"comment\">//判断链表是否为空</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;还未存入任何菜品！无法修改！\\n&quot;</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入要修改的菜品的名称：&quot;</span>);</span><br><span class=\"line\">\ts_gets(a, SIZE1);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入菜品所属饭店名称：&quot;</span>);</span><br><span class=\"line\">\ts_gets(b, SIZE1);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (q = <span class=\"literal\">NULL</span>, p = <span class=\"built_in\">list</span>-&gt;head; p; q = p, p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!(<span class=\"built_in\">strcmp</span>(a, p-&gt;name) || <span class=\"built_in\">strcmp</span>(b, p-&gt;restaurant))) <span class=\"comment\">//判断是否找到要删除的节点</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tn++; <span class=\"comment\">//记录找到</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n原来的菜品信息:\\n&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|菜名:%s\\n&quot;</span>, p-&gt;name);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|所属:%s\\n&quot;</span>, p-&gt;restaurant);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|价格:%.2f\\n&quot;</span>, p-&gt;price);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|评分:%d\\n&quot;</span>, p-&gt;fraction);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|评价:%s\\n&quot;</span>, p-&gt;comment);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请修改菜品的价格：&quot;</span>);</span><br><span class=\"line\">\t\t\tp-&gt;price = get_float();</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请输入0-10的整数以修改菜品的评分：&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tm = get_int();</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (m &gt;= <span class=\"number\">0</span> &amp;&amp; m &lt;= <span class=\"number\">10</span>)</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tp-&gt;fraction = m;</span><br><span class=\"line\">\t\t\t\t\ti = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;评分不在规定范围内，请重新输入：&quot;</span>);</span><br><span class=\"line\">\t\t\t\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">while</span> (!i);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请修改对菜品的评价：&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\ts_gets(p-&gt;comment, SIZE2);</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">while</span> (<span class=\"built_in\">strlen</span>(p-&gt;comment) == <span class=\"number\">0</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (n)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n修改完成。\\n&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n没有这道菜！\\n&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//安全输入</span></span><br><span class=\"line\"><span class=\"type\">char</span> *<span class=\"title function_\">s_gets</span><span class=\"params\">(<span class=\"type\">char</span> *m, <span class=\"type\">int</span> n)</span> <span class=\"comment\">//安全输入字符</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> *p;</span><br><span class=\"line\">\t<span class=\"type\">char</span> *find;</span><br><span class=\"line\">\tp = fgets(m, n, <span class=\"built_in\">stdin</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (p)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tfind = <span class=\"built_in\">strchr</span>(m, <span class=\"string\">&#x27;\\n&#x27;</span>); <span class=\"comment\">//查找换行符</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (find)\t\t\t\t<span class=\"comment\">//如果地址不是NULL</span></span><br><span class=\"line\">\t\t\t*find = <span class=\"string\">&#x27;\\0&#x27;</span>;\t\t<span class=\"comment\">//在此处放一个空字符</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span> (getchar() != <span class=\"string\">&#x27;\\n&#x27;</span>)</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> p;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">get_int</span><span class=\"params\">()</span> <span class=\"comment\">//安全输入int型</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\t<span class=\"type\">char</span> ch;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%*c&quot;</span>, &amp;n) != <span class=\"number\">1</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> ((ch = getchar()) != <span class=\"string\">&#x27;\\n&#x27;</span>)</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">putchar</span>(ch);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">4</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot; 不是一个正整数！\\n请您重新输入：\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">float</span> <span class=\"title function_\">get_float</span><span class=\"params\">()</span> <span class=\"comment\">//安全输入float型</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">float</span> n = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> ch;</span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t&#123; <span class=\"comment\">//用户输入不是正数输出提示</span></span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;请重新输入一个正数！&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%f%*c&quot;</span>, &amp;n) != <span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span> ((ch = getchar()) != <span class=\"string\">&#x27;\\n&#x27;</span>)</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">putchar</span>(ch);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot; 不是一个正数！\\n请您重新输入：\\n&quot;</span>);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">15</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">while</span> (n &lt;= <span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//链表的输出和操作</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_all</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//输出链表全部节点</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tNode *p;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n第%d道菜:&quot;</span>, n);</span><br><span class=\"line\">\t\toutput(p);</span><br><span class=\"line\">\t\tn++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n所有菜品查询完毕\\n&quot;</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_one</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//输出指定菜名</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\tNode *p;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入你要找的菜品名称：&quot;</span>);</span><br><span class=\"line\">\ts_gets(a, SIZE1);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!<span class=\"built_in\">strcmp</span>(a, p-&gt;name)) <span class=\"comment\">//判断是否找到</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\toutput(p); <span class=\"comment\">//调用函数输出节点信息</span></span><br><span class=\"line\">\t\t\tn++;\t   <span class=\"comment\">//记录找到多少节点</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n共查找到%d道菜\\n&quot;</span>, n);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_restaurant</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//输出指定饭店所有菜品</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\tNode *p;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入你要找的饭店或食堂：&quot;</span>);</span><br><span class=\"line\">\ts_gets(a, SIZE1);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!<span class=\"built_in\">strcmp</span>(a, p-&gt;restaurant)) <span class=\"comment\">//判断是否找到</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\toutput(p); <span class=\"comment\">//调用函数输出节点信息</span></span><br><span class=\"line\">\t\t\tn++;\t   <span class=\"comment\">//记录找到多少节点</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n共查找到%d道菜\\n&quot;</span>, n);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_part_price</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//输出一定价格以下的菜品(这功能。。贫穷)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">float</span> money, k = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\tNode *p;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入封顶价格：&quot;</span>);</span><br><span class=\"line\">\tmoney = get_float();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (p-&gt;price &lt;= money) <span class=\"comment\">//判断是否符合要求</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\toutput(p); <span class=\"comment\">//调用函数输出节点信息</span></span><br><span class=\"line\">\t\t\tn++;\t   <span class=\"comment\">//记录找到多少节点</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n共查找到%d道菜\\n&quot;</span>, n);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">inquire_part_fraction</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//输出一定评分以上的菜品</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> score;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\tNode *p;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入最低评分：&quot;</span>);</span><br><span class=\"line\">\tscore = get_int();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (p-&gt;fraction &gt;= score) <span class=\"comment\">//判断是否符合要求</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\toutput(p); <span class=\"comment\">//调用函数输出节点信息</span></span><br><span class=\"line\">\t\t\tn++;\t   <span class=\"comment\">//记录找到多少节点</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n共查找到%d道菜\\n&quot;</span>, n);</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">average_percentage</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//查询某饭店或食堂的平均价格和评分</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">float</span> sum1 = <span class=\"number\">0</span>, sum2 = <span class=\"number\">0</span>, b[<span class=\"number\">5</span>] = &#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"type\">char</span> a[SIZE1];</span><br><span class=\"line\">\tNode *p;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;请输入你要查的饭店或食堂：&quot;</span>);</span><br><span class=\"line\">\ts_gets(a, SIZE1);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = p-&gt;next) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!<span class=\"built_in\">strcmp</span>(a, p-&gt;restaurant)) <span class=\"comment\">//判断是否找到</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tsum1 += p-&gt;price;\t <span class=\"comment\">//累加价格</span></span><br><span class=\"line\">\t\t\tsum2 += p-&gt;fraction; <span class=\"comment\">//累加评分</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (p-&gt;price &lt;= <span class=\"number\">5</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tb[<span class=\"number\">0</span>]++;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (p-&gt;price &lt;= <span class=\"number\">10</span>)</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tb[<span class=\"number\">1</span>]++;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> (p-&gt;price &lt;= <span class=\"number\">15</span>)</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\tb[<span class=\"number\">2</span>]++;</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> (p-&gt;price &lt; <span class=\"number\">20</span>)</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tb[<span class=\"number\">3</span>]++;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tb[<span class=\"number\">4</span>]++;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tn++; <span class=\"comment\">//记录找到多少节点</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (n)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;该饭店/食堂的一共有%d道菜\\n平均价格是：%.2f\\t平均评分是：%.2f\\n&quot;</span>, n, sum1 / n, sum2 / n);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;其中：\\n0~5元占:%.1f%%\\n5~10元占:%.1f%%\\n10~15元占:%.1f%%\\n&quot;</span>, b[<span class=\"number\">0</span>] / n * <span class=\"number\">100</span>, b[<span class=\"number\">1</span>] / n * <span class=\"number\">100</span>, b[<span class=\"number\">2</span>] / n * <span class=\"number\">100</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;15~20元占:%.1f%%\\n20元以上占:%.1f%%\\n\\n&quot;</span>, b[<span class=\"number\">3</span>] / n * <span class=\"number\">100</span>, b[<span class=\"number\">4</span>] / n * <span class=\"number\">100</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;无该饭店或食堂！\\n\\n&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">output</span><span class=\"params\">(Node *p)</span> <span class=\"comment\">//方便输出</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n|菜名:%s\\n&quot;</span>, p-&gt;name);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|所属:%s\\n&quot;</span>, p-&gt;restaurant);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|价格:%.2f\\n&quot;</span>, p-&gt;price);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|评分:%d\\n&quot;</span>, p-&gt;fraction);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;|评价:%s\\n&quot;</span>, p-&gt;comment);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">random_menu</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//随机输出一道菜</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">list</span>-&gt;head == <span class=\"literal\">NULL</span>) <span class=\"comment\">//判断链表是否为空</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;还未存入任何菜品！\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tList *q = <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\tNode *p = <span class=\"built_in\">list</span>-&gt;head;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = random_number(q), i = <span class=\"number\">1</span>; <span class=\"comment\">//将随机出来的数赋予n，并初始i等于第一道菜，判断数字是否相等，即可找到那个随机出来的菜</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (p != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (i == n) <span class=\"comment\">//借助随机数来随机输出菜</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\toutput(p);</span><br><span class=\"line\">\t\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\ti++;</span><br><span class=\"line\">\t\tp = p-&gt;next;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">empty</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//清空链表</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tNode *p, *q;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tsystem(<span class=\"string\">&quot;cls&quot;</span>);</span><br><span class=\"line\">\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;此操作将清空所有数据！\\n输入 1 继续，输入 0 取消：\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tn = get_int();</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">while</span> (!(n == <span class=\"number\">0</span> || n == <span class=\"number\">1</span>));</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (n == <span class=\"number\">1</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (p = <span class=\"built_in\">list</span>-&gt;head; p; p = q) <span class=\"comment\">//遍历链表</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tq = p-&gt;next;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">free</span>(p);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">list</span>-&gt;head = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;清除完成！\\n&quot;</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//文件操作</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">save</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//保存</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">list</span>-&gt;head == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;还未存入任何菜品！保存为空！\\n&quot;</span>);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tNode *p = <span class=\"built_in\">list</span>-&gt;head;</span><br><span class=\"line\">\tFILE *fp = fopen(<span class=\"string\">&quot;Menu.txt&quot;</span>, <span class=\"string\">&quot;w&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (fp)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (p)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">fprintf</span>(fp, <span class=\"string\">&quot;\\n%s %s %0.2f %d %s&quot;</span>, p-&gt;name, p-&gt;restaurant, p-&gt;price, p-&gt;fraction, p-&gt;comment);</span><br><span class=\"line\">\t\t\tp = p-&gt;next;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tfclose(fp);</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">11</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n保存成功\\n&quot;</span>);</span><br><span class=\"line\">\t\tsystem(<span class=\"string\">&quot;pause&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcolor(<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;保存失败，请自查或联系作者&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">read_txt</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//读取文件_初始链表</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tNode *last;</span><br><span class=\"line\">\tNode *p1;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">char</span> f[<span class=\"number\">5</span>];</span><br><span class=\"line\">\tFILE *fp = fopen(<span class=\"string\">&quot;Menu.txt&quot;</span>, <span class=\"string\">&quot;r&quot;</span>);</span><br><span class=\"line\">\tfgets(f, <span class=\"number\">10</span>, fp); <span class=\"comment\">//读取第一行，并进入下一行，防止bug</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (!feof(fp)) <span class=\"comment\">//当读取到文件结束符跳出循环结束读取</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlast = <span class=\"built_in\">list</span>-&gt;head;</span><br><span class=\"line\">\t\tp1 = (Node *)<span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(Node));</span><br><span class=\"line\">\t\tp1-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">fscanf</span>(fp, <span class=\"string\">&quot;%s%s%f%d%s&quot;</span>, p1-&gt;name, p1-&gt;restaurant, &amp;p1-&gt;price, &amp;p1-&gt;fraction, p1-&gt;comment);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (last)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span> (last-&gt;next)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tlast = last-&gt;next;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tlast-&gt;next = p1;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">list</span>-&gt;head = p1;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tfclose(fp);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//单链表的冒泡排序，这指来指去，作者一口气写完到断气的，不想加注释了，应该会有更好的算法，咕咕咕，以后优化</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">sort_ascending</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//菜品按价格从低到高排序</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>, i, k, num;</span><br><span class=\"line\">\tList *p = <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\tNode *p1 = <span class=\"built_in\">list</span>-&gt;head, *p2, *p3;</span><br><span class=\"line\">\tList list_swap;</span><br><span class=\"line\">\tn = calculate(p);</span><br><span class=\"line\">\tlist_swap.pa = p1;</span><br><span class=\"line\">\tlist_swap.pb = p2;</span><br><span class=\"line\">\tlist_swap.pc = p3;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlist_swap.pa = <span class=\"built_in\">list</span>-&gt;head;\t\t   <span class=\"comment\">//当前</span></span><br><span class=\"line\">\t\tlist_swap.pb = <span class=\"literal\">NULL</span>;\t\t\t   <span class=\"comment\">//前一个</span></span><br><span class=\"line\">\t\tlist_swap.pc = list_swap.pa-&gt;next; <span class=\"comment\">//下一个</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (k = <span class=\"number\">0</span>; k &lt; n - i - <span class=\"number\">1</span>; k++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (list_swap.pa-&gt;price &gt; list_swap.pc-&gt;price)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tswap1(p, &amp;list_swap);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tswap2(p, &amp;list_swap);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">sort_descending</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//菜品按价格从高到低排序</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>, i, k, num;</span><br><span class=\"line\">\tList *p = <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\tNode *p1 = <span class=\"built_in\">list</span>-&gt;head, *p2, *p3;</span><br><span class=\"line\">\tList list_swap;</span><br><span class=\"line\">\tn = calculate(p);</span><br><span class=\"line\">\tlist_swap.pa = p1;</span><br><span class=\"line\">\tlist_swap.pb = p2;</span><br><span class=\"line\">\tlist_swap.pc = p3;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlist_swap.pa = <span class=\"built_in\">list</span>-&gt;head;\t\t   <span class=\"comment\">//当前</span></span><br><span class=\"line\">\t\tlist_swap.pb = <span class=\"literal\">NULL</span>;\t\t\t   <span class=\"comment\">//前一个</span></span><br><span class=\"line\">\t\tlist_swap.pc = list_swap.pa-&gt;next; <span class=\"comment\">//下一个</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (k = <span class=\"number\">0</span>; k &lt; n - i - <span class=\"number\">1</span>; k++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (list_swap.pa-&gt;price &lt; list_swap.pc-&gt;price)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tswap1(p, &amp;list_swap);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tswap2(p, &amp;list_swap);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">sort_score</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//菜品按评分从高到低排序</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>, i, k, num;</span><br><span class=\"line\">\tList *p = <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\tNode *p1 = <span class=\"built_in\">list</span>-&gt;head, *p2, *p3;</span><br><span class=\"line\">\tList list_swap;</span><br><span class=\"line\">\tn = calculate(p);</span><br><span class=\"line\">\tlist_swap.pa = p1;</span><br><span class=\"line\">\tlist_swap.pb = p2;</span><br><span class=\"line\">\tlist_swap.pc = p3;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlist_swap.pa = <span class=\"built_in\">list</span>-&gt;head;\t\t   <span class=\"comment\">//当前</span></span><br><span class=\"line\">\t\tlist_swap.pb = <span class=\"literal\">NULL</span>;\t\t\t   <span class=\"comment\">//前一个</span></span><br><span class=\"line\">\t\tlist_swap.pc = list_swap.pa-&gt;next; <span class=\"comment\">//下一个</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (k = <span class=\"number\">0</span>; k &lt; n - i - <span class=\"number\">1</span>; k++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (list_swap.pa-&gt;fraction &lt; list_swap.pc-&gt;fraction)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tswap1(p, &amp;list_swap);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tswap2(p, &amp;list_swap);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">calculate</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//计算出单链表的节点个数</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">\tNode *p = <span class=\"built_in\">list</span>-&gt;head;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (p-&gt;next != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tn++;</span><br><span class=\"line\">\t\tp = p-&gt;next;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> n + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">swap1</span><span class=\"params\">(List *<span class=\"built_in\">list</span>, List *list_swap)</span> <span class=\"comment\">//单链表冒泡排序的算法块1</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (list_swap-&gt;pb)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlist_swap-&gt;pb-&gt;next = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pa-&gt;next = list_swap-&gt;pc-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pc-&gt;next = list_swap-&gt;pa;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">list</span>-&gt;head = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pa-&gt;next = list_swap-&gt;pc-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pc-&gt;next = list_swap-&gt;pa;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tlist_swap-&gt;pb = list_swap-&gt;pc;</span><br><span class=\"line\">\tlist_swap-&gt;pc = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">swap2</span><span class=\"params\">(List *<span class=\"built_in\">list</span>, List *list_swap)</span> <span class=\"comment\">//单链表冒泡排序的算法块2</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (list_swap-&gt;pb)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlist_swap-&gt;pa = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pc = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pb = list_swap-&gt;pb-&gt;next;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tlist_swap-&gt;pa = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pc = list_swap-&gt;pa-&gt;next;</span><br><span class=\"line\">\t\tlist_swap-&gt;pb = <span class=\"built_in\">list</span>-&gt;head;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//其他</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">random_number</span><span class=\"params\">(List *<span class=\"built_in\">list</span>)</span> <span class=\"comment\">//随机生成不大于节点数的整数</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n = <span class=\"number\">0</span>, m = <span class=\"number\">0</span>, sum = <span class=\"number\">1</span>, i = <span class=\"number\">0</span>;</span><br><span class=\"line\">\tList *q = <span class=\"built_in\">list</span>;</span><br><span class=\"line\">\tsrand((<span class=\"type\">unsigned</span>)time(<span class=\"literal\">NULL</span>) * <span class=\"number\">12</span>);</span><br><span class=\"line\">\tm = calculate(q);</span><br><span class=\"line\">\ti = m;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (m &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tsum = sum * <span class=\"number\">10</span>;</span><br><span class=\"line\">\t\tm = m / <span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"number\">1</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tn = rand() % sum;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (n &lt;= i &amp;&amp; n &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\ti = n;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">color</span><span class=\"params\">(<span class=\"type\">int</span> a)</span> <span class=\"comment\">//控制台文本颜色</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tSetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), a); <span class=\"comment\">//更改控制台文字颜色</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"部分功能截图\"><a href=\"#部分功能截图\" class=\"headerlink\" title=\"部分功能截图\"></a>部分功能截图</h1><p><strong>主菜单</strong></p>\n<div><img src=https://cdn.chuckle.top/images/6-1.webp width=\"50%\" height=\"50%\"></div>\n\n<p><strong>查找功能</strong></p>\n<div><img src=https://cdn.chuckle.top/images/6-2.webp width=\"50%\" height=\"50%\"></div>\n<div><img src=https://cdn.chuckle.top/images/6-5.webp width=\"50%\" height=\"50%\"></div>\n<div><img src=https://cdn.chuckle.top/images/6-6.webp width=\"50%\" height=\"50%\"></div>\n<div><img src=https://cdn.chuckle.top/images/6-7.webp width=\"50%\" height=\"50%\"></div>\n\n<p><strong>排序</strong></p>\n<div><img src=https://cdn.chuckle.top/images/6-3.webp width=\"50%\" height=\"50%\"></div>\n\n<p><strong>修改功能</strong></p>\n<div><img src=https://cdn.chuckle.top/images/6-4.webp width=\"45%\" height=\"45%\"></div>\n\n<hr>\n","categories":["项目"],"tags":["C语言"]},{"title":"C语言学习笔记","url":"/article/13675369.html","content":"<h1 id=\"整数运算\"><a href=\"#整数运算\" class=\"headerlink\" title=\"整数运算\"></a>整数运算</h1><p>两个整数运算结果也只能是整数<br>a+=5等价于a=a+5<br>a<em>=b+5等价于a=a</em>(b+5)<br>a++等a+=1等a=a+1<br>a++是a加1以前的值，++a是a加1后的值<br>运算符优先级：算数&gt;关系&gt;赋值，判断是否相等的优先级比大于小于低</p>\n<hr>\n<h1 id=\"所表达的数的范围\"><a href=\"#所表达的数的范围\" class=\"headerlink\" title=\"所表达的数的范围\"></a>所表达的数的范围</h1><p>char&lt; short&lt;int&lt; float&lt;double</p>\n<hr>\n<h1 id=\"sizeof\"><a href=\"#sizeof\" class=\"headerlink\" title=\"sizeof()\"></a>sizeof()</h1><p>sizeof()是一个运算符,给出某个类型或变量在内存中所占据的字节数<br>sizeof()是静态运算符,它的结果在编译时刻就决定了，不要在 sizeof的括号里做运算,这些运算不会做的</p>\n<hr>\n<h1 id=\"unsigned\"><a href=\"#unsigned\" class=\"headerlink\" title=\"unsigned\"></a>unsigned</h1><p>unsigned：如果一个字面量常数想要表达自己是 unsigned,可以在后面加u或U，255U用l或L表示long(long)<br>unsigned的初衷并非扩展数能表达的范围,而是为了做纯二进制运算,主要是为了移位</p>\n<hr>\n<h1 id=\"整数的输入输出\"><a href=\"#整数的输入输出\" class=\"headerlink\" title=\"整数的输入输出\"></a>整数的输入输出</h1><p>只有两种形式:int或 long long<br>%d: int<br>%u: unsigned<br>%ld: longlong<br>%lu: unsigned long long</p>\n<hr>\n<h1 id=\"选搔整数类型\"><a href=\"#选搔整数类型\" class=\"headerlink\" title=\"选搔整数类型\"></a>选搔整数类型</h1><p>为什么整数要有那么多种?为了准确表达内存,做底层程序的需要<br>没有特殊需要,就选int<br>现在的CPU的字长普遍是32位或64位,一次内存该写就是个int,一次计算也是一个int,选择更短的类型不会更快,甚至可能更慢<br>现代的编译器一般会设计内存对齐,所以更短的类型实际在内存中有可能也占据一个int的大小(虽然sizeof告诉你更小)</p>\n<hr>\n<p>unsigned与否只是输出的不同,内部计算是一样的<br>printf输出inf表示超过范围的浮点数:±∞<br>print输出nan表示不存在的浮点数<br>带小数点的字面量是 double而非 float<br>float需要用或F后綴来表明身份<br>1.234f</p>\n<hr>\n<p>判断两个浮点数是否相等可能失败<br>fabs(fl-2)&lt; le-2//两个浮点数相减的绝对值小于一个很小的数，可认为两个浮点数相等</p>\n<hr>\n<h1 id=\"选浮点类型\"><a href=\"#选浮点类型\" class=\"headerlink\" title=\"选浮点类型\"></a>选浮点类型</h1><p>如果没有特殊需要,只使用 double<br>现代CPU能直接对 double做硬件运算,性能不会比float差,在64位的机器上,数据存儲的速度也不比float慢</p>\n<hr>\n<h1 id=\"自动类型转换\"><a href=\"#自动类型转换\" class=\"headerlink\" title=\"自动类型转换\"></a>自动类型转换</h1><p>当运算符的两边出现不一致的类型时,会自动转换成較大的类型<br>大的意思是能表达的数的范围更大<br>char——&gt; short——&gt;int——&gt;long——&gt;long long<br>int——&gt; float——&gt; double<br>对于 printf,任何小于int的类型会被转换成int，float会被转换成 double<br>但是scanf不会,要输入short,需要%hd</p>\n<hr>\n<h1 id=\"强制类型转换\"><a href=\"#强制类型转换\" class=\"headerlink\" title=\"强制类型转换\"></a>强制类型转换</h1><p>要把一个量强制转换成另一个类型(通常是較小的类型),需要:(类型)值<br>比如：<br>(int)10.2<br>(short)32<br>注意这时候的安全性,小的变量不总能表达大的量<br>(short)32768<br>只是从那个变量计算出了一个新的类型的值,它并不改变那个变量,无论是值还是类型都不改变<br>强制类型转换的优先级高于四则运算</p>\n<hr>\n<h1 id=\"逻辑运算符优先级\"><a href=\"#逻辑运算符优先级\" class=\"headerlink\" title=\"逻辑运算符优先级:\"></a>逻辑运算符优先级:</h1><p>!&gt;&amp;&amp;&gt;||</p>\n<hr>\n<h1 id=\"短路\"><a href=\"#短路\" class=\"headerlink\" title=\"短路\"></a>短路</h1><p>逻辑运算是自左向右进行的,如果左边的结果已经能够决定结果了,就不会做右边的计算<br>a==6&amp;&amp;b==1<br>a==6&amp;&amp;b+=1<br>对于&amp;&amp;,左边是 false时就不做右边了<br>对于‖,左边是true时就不做右边了  </p>\n<hr>\n<h1 id=\"tip1\"><a href=\"#tip1\" class=\"headerlink\" title=\"tip1\"></a>tip1</h1><p>不要把赋值,包括复合赋值组合进表达式!<br>一个代码内有重复相似段是程序质量不良的表现<br>函数是一块代,接收零个或多个参数做一件事情,并返回零个或一个值</p>\n<hr>\n<h1 id=\"数组的大小\"><a href=\"#数组的大小\" class=\"headerlink\" title=\"数组的大小\"></a>数组的大小</h1><p>sizeof给出整个数组所占据的内容的大小,单位是字节<br>sizeof(a)/sizeof(a[0])<br>sizeof(a[0])给出数组中单个元素的大小,于是相除就得到了数组的单元个数<br>这样的代码,一旦修改数组中初始的数据,不需要修改遍历的代吗</p>\n<hr>\n<h1 id=\"数组的操作\"><a href=\"#数组的操作\" class=\"headerlink\" title=\"数组的操作\"></a>数组的操作</h1><p>遍历数组：通常都是使用for循环,让循环变量i从0到&lt;数组的长度,这样循环体内最大的正好是数组最大的有效下标<br>数组作为函数的参数时:不能在[]中给出数组的大小，不能再利用 sizeof来计算数组的元素个数!<br>数组作为函数参数时,往往必再用另一个参数来传入数组的大小</p>\n<h1 id=\"作为参数的指针\"><a href=\"#作为参数的指针\" class=\"headerlink\" title=\"作为参数的指针\"></a>作为参数的指针</h1><p>void f(int <em> p)<br>在被调用的时候得到了某个变量的地址<br>int i=O; f(&amp;i)<br>在函数里面可以通过这个指针访问外面的这个<br>函数参数表中的数组实际上是指针<br>sizeof(a)==sizeof(int </em>)<br>但是可以用数组的运算符进行运算</p>\n<hr>\n<h1 id=\"指针是const\"><a href=\"#指针是const\" class=\"headerlink\" title=\"指针是const\"></a>指针是const</h1><p>表示一旦得到了某个变量的地址,不能再指向其他变量<br>int <em>const q=&i;//q是 const  \n</em>q=26;//OK<br>q++; //ERROR</p>\n<hr>\n<h1 id=\"所指是-const\"><a href=\"#所指是-const\" class=\"headerlink\" title=\"所指是 const\"></a>所指是 const</h1><p>表示不能通过这个指针去修改那个变量(并不能使得那个变量成为 const)<br>const int <em>p=&amp;i  \n</em>p= 26; //ERROR!<br>i=26;//OK<br>P=&i;//OK</p>\n<hr>\n<h1 id=\"const\"><a href=\"#const\" class=\"headerlink\" title=\"const\"></a>const</h1><p>lnt i<br>const int<em> p1 =&amp;i<br>int const</em> p2=&amp;i<br>int <em>const p3=&amp;i<br>判断哪个被const了的标志是const在</em>的前面还是后面<br><em>const p指针不许动<br>const </em>p指针不许动变量</p>\n<hr>\n<h2 id=\"转换\"><a href=\"#转换\" class=\"headerlink\" title=\"转换\"></a>转换</h2><p>总是可以把一个非 const的值转換成 const的<br>void f(const int* x)<br>int a =15:<br>f(&amp;a);//ok<br>const int b = a<br>f(&amp;b);//ok<br>b =a+1: // Error<br>当要传递的参数的类型比地址大的时候,这是常用的手段:既能用比較少的字节数传递值给参数,又能避免函数对外面的变量的修改</p>\n<hr>\n<h2 id=\"const数组\"><a href=\"#const数组\" class=\"headerlink\" title=\"const数组\"></a>const数组</h2><p>const int a[]={1,2,3,4,5,6};<br>数组变量已经是 const的指针了,这里的 const表明数组的每个单元都是 const Int所以必须通过初始化进行赋值</p>\n<hr>\n<h2 id=\"保护数组值\"><a href=\"#保护数组值\" class=\"headerlink\" title=\"保护数组值\"></a>保护数组值</h2><p>因为把数组传入函数时传递的是地址,所以那个函数内部可以修改数组的值<br>为了保护数组不被函数破坏,可以设置参数为 const<br>int sum(const int a[], int length);</p>\n<hr>\n<h1 id=\"指针\"><a href=\"#指针\" class=\"headerlink\" title=\"指针\"></a>指针</h1><p>int <em>p ：指针加一p+1是指加上一个sizeof(int)，将指针移到下一个单元<br>int </em>p=a[];<br><em>p —&gt;a[0]  \n</em>(p+1)—&gt;a[1]<br>*(p++)可以遍历数组</p>\n<hr>\n<p>给一个指针加|表示要让指针指向下一个变量<br>int a[l0]<br>int <em>p= a  \n</em>(p+1)—&gt;a[1]<br>如果指针不是指向一片连分配的空间,如数组,则这种运算没有意义<br><em>(p+n)&lt;—&gt;a[n]  \n</em>p*q两个指针相减p-q，等于q加多少个单元等于p</p>\n<hr>\n<p><em>p++<br>取出p所指的那个数据来,完事之后顺便把移到下一个位置去  \n</em>的优先级然高,但是没有++高<br>常用于数组类的连续空间操作<br>在某些CPU上,这可以直接被翻译成一条汇编指令</p>\n<p>指针乘除无意义</p>\n<hr>\n<h2 id=\"指针遍历数组方法\"><a href=\"#指针遍历数组方法\" class=\"headerlink\" title=\"指针遍历数组方法\"></a>指针遍历数组方法</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">*p a[10]</span><br><span class=\"line\">p=a</span><br><span class=\"line\">for(i=0;i&lt;sizeof(a)/sizeof(a[0]); i++ )&#123;</span><br><span class=\"line\">printf(&quot;%d\\n&quot;, acri[i]);</span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">a[9]=-1//在数组末尾放入一个特殊的东西</span><br><span class=\"line\">while(*p!=-1)&#123;</span><br><span class=\"line\">printf(&quot;%d\\n&quot;,*p++);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"指针比較\"><a href=\"#指针比較\" class=\"headerlink\" title=\"指针比較\"></a>指针比較</h2><p>&lt;,&lt;=,==,&gt;,&gt;=,!=都可以对指针做<br>比较它们在内存中的地址<br>数组中的单元的地址肯定是线性从小到大递增的</p>\n<hr>\n<h2 id=\"0地址\"><a href=\"#0地址\" class=\"headerlink\" title=\"0地址\"></a>0地址</h2><p>当然你的内存中有0地址,但是0地址通常是个不能随便碰的地址<br>所以你的指针不应该具有0值  </p>\n<p>因此可以用0地址来表示特殊的事情:<br>1返回的指针是无效的<br>2指针没有被真正初始化(先初始化为0)  </p>\n<p>NULL（必须是大写）是一个预定定义的符号,表示0地址<br>有的编译器不愿意你用0来表示0地址</p>\n<hr>\n<h2 id=\"指针的类型\"><a href=\"#指针的类型\" class=\"headerlink\" title=\"指针的类型\"></a>指针的类型</h2><p>无论指向什么类型,所有的指针的大小都是一样的,因为都是地址<br>但是指向不同类型的指针是不能直接互相赋值的<br>这是为了避免用错指针</p>\n<h2 id=\"指针的类型转换\"><a href=\"#指针的类型转换\" class=\"headerlink\" title=\"指针的类型转换\"></a>指针的类型转换</h2><p>void<em>表示不知道指向什么东西的指针<br>计算时与char</em>相同(但不相通)</p>\n<p>指针也可以转换类型<br>int<em>p =&amp;i<br>void</em>p&lt;—&gt;(void *)p<br>这并没有改变p所指的变量的类型,而是让后人用不同的眼光通过p看它所指的变量<br>我不再当你是int,我认为你就是个void!</p>\n<hr>\n<h2 id=\"用指针来做什么\"><a href=\"#用指针来做什么\" class=\"headerlink\" title=\"用指针来做什么\"></a>用指针来做什么</h2><p>需要传入較大的数据时用作参数<br>传入数组后对数组做操作<br>函数返回不止一个结果是<br>需要用函数来修改不止一个变量<br>动态申请的内存</p>\n<hr>\n<h1 id=\"内存操作\"><a href=\"#内存操作\" class=\"headerlink\" title=\"内存操作\"></a>内存操作</h1><h2 id=\"malloc-跟系统要一块内存\"><a href=\"#malloc-跟系统要一块内存\" class=\"headerlink\" title=\"malloc(跟系统要一块内存)\"></a>malloc(跟系统要一块内存)</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">#include &lt;stdlib. h&gt;</span><br><span class=\"line\">void*malloc(size_t size)</span><br><span class=\"line\">//向malloc申请的空间的大小是以字节为单位返回的结果是void,需要类型转换为自己需要的类型</span><br><span class=\"line\">(int *)malloc(n*sizeof(int))</span><br></pre></td></tr></table></figure>\n<p>如果申请失敗则返回0,或者叫做NULL</p>\n<hr>\n<h2 id=\"free\"><a href=\"#free\" class=\"headerlink\" title=\"free()\"></a>free()</h2><p>把申请得来的空间还给“系统”<br>申请过的空间,最终都应该要还<br>只能还申请来的空间的首地址</p>\n<h2 id=\"free常见问题\"><a href=\"#free常见问题\" class=\"headerlink\" title=\"free常见问题\"></a>free常见问题</h2><p>申请了没free—&gt;长时间运行内存逐漸下降<br>新手:忘了<br>老手:找不到合的free的时机<br>free过了再free<br>地址变过了,直接去free</p>\n<hr>\n<h1 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h1><p>char a[]={‘h’,’a’,’l’,’l’,’o’,’!’}//字符数组<br>char a[]={‘h’,’a’,’l’,’l’,’o’,’!’,’\\0’}//字符串</p>\n<hr>\n<p>以0(整数0)结尾的一串字符<br>0或’\\0’是一样的,但是和0不同<br>0标志字符串的结束,但它不是字符串的一部分<br>计算字符串长度的时候不包含这个0<br>字符串以数组的形式存在,以数组或指针的形式访问<br>更多的是以指针的形式<br>string.h里有很多处理字符串的函数</p>\n<hr>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">char*str=&quot;Hello&quot;</span><br><span class=\"line\">char word[]=&quot;Hello&quot;</span><br><span class=\"line\">char linel[10]=&quot;Hello&quot;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"字符串常量\"><a href=\"#字符串常量\" class=\"headerlink\" title=\"字符串常量\"></a>字符串常量</h2><p>Char<em> s=”Hello, world”<br>●s是一个指针,初始化为指向一个字符串常量<br>●由于这个常量所在的地方,所以实际上s是 const<br>char</em>s,但是由于历史的原因,编译器接受不带const的写法<br>●但是试图对s所指的字符串做写入会导致严重的后果</p>\n<hr>\n<p>char S[]=”Hello, world”//这个字符串就在我这里<br>Char* s=”Hello, world”//指向某个地方的字符串<br>数组:这个字符串在这里(作为本地变量,空间自动被回收)<br>指针:这个字符串不知道在哪里(处理参数,动态分配空间)<br>如果要构造一个字符串一&gt;数组<br>如果要处理一个字符串一&gt;指针</p>\n<hr>\n<h2 id=\"字符串输入输出\"><a href=\"#字符串输入输出\" class=\"headerlink\" title=\"字符串输入输出\"></a>字符串输入输出</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">char string[8];</span><br><span class=\"line\">scanf(&quot;%s&quot;, string);</span><br><span class=\"line\">printf(&quot;%s&quot;, string);</span><br><span class=\"line\">//scanf读入一个単词(到空格、tab或回车为止)</span><br><span class=\"line\">//scanf是不安全的,因为不知道要该入的内容的长度</span><br><span class=\"line\">scanf(&quot;%7s&quot;, string)</span><br><span class=\"line\">//在%和s之间的数字表示最多允许该入的字符的数量,这个数字应该比数组的大小小</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"空字符串\"><a href=\"#空字符串\" class=\"headerlink\" title=\"空字符串\"></a>空字符串</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">char buffer[100]=&quot;&quot;;</span><br><span class=\"line\">//这是一个空的字符串, buffer[O]==&quot;\\0&quot;;</span><br><span class=\"line\">char buffer[]=&quot;&quot;;</span><br><span class=\"line\">//这个数组的长度只有1</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"复制一个字符串\"><a href=\"#复制一个字符串\" class=\"headerlink\" title=\"复制一个字符串\"></a>复制一个字符串</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">char*dst=(char*)malloc(strlen(src)+1)</span><br><span class=\"line\">strcpy(dst, src)</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"枚挙\"><a href=\"#枚挙\" class=\"headerlink\" title=\"枚挙\"></a>枚挙</h1><p>枚挙是一种用戶定义的数据类型,它用关键字enum以如下语法来声明<br>enum枚挙类型名字{名字0,……,名字n};  </p>\n<p>枚挙类型名字通常并不真的使用,要用的是在大括号里的名字,因为它们就是就是常量符号,它们的类型是int,值则依次从0到n。如：<br>enum colors {red, yellow, green};<br>就创建了三个常量,red的值是0, yellow是1,而 green是2。<br>当需要一些可以排列起来的常量值时,定义枚举的意义就是给了这些常量值名字。</p>\n<blockquote>\n<p>声明枚挙量的时候可以指定值<br>enum COLOR {RED=1, YELLOW, GREEN =5};</p>\n</blockquote>\n<hr>\n<h1 id=\"结构\"><a href=\"#结构\" class=\"headerlink\" title=\"结构\"></a>结构</h1><h2 id=\"声明结构的形式\"><a href=\"#声明结构的形式\" class=\"headerlink\" title=\"声明结构的形式\"></a>声明结构的形式</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">struct point&#123;</span><br><span class=\"line\">int X;</span><br><span class=\"line\">Int y;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">struct point p1, p2</span><br><span class=\"line\">//pl和p2都是 point里面有x和y的值</span><br><span class=\"line\"></span><br><span class=\"line\">struct &#123;</span><br><span class=\"line\">Int x;</span><br><span class=\"line\">int y;</span><br><span class=\"line\">&#125;pl, p2;</span><br><span class=\"line\">//pl和p2都是一种无名结构,里面有x和y</span><br><span class=\"line\"></span><br><span class=\"line\">struct point &#123;</span><br><span class=\"line\">Int x;</span><br><span class=\"line\">int y;</span><br><span class=\"line\">&#125;pl, p2;</span><br><span class=\"line\">//pI和p2都是point, 里面有x和y的值t</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>和本地变量一样,在函数内部声明的结构类型只能在函数内部使用<br>所以通常在函数外部声明结构类型,这样就可以被多个函数所使用了</p>\n</blockquote>\n<hr>\n<h2 id=\"结构指针\"><a href=\"#结构指针\" class=\"headerlink\" title=\"结构指针\"></a>结构指针</h2><p>和数组不同,结构变量的名字并不是结构变量的地址,必须使用&amp;运算符<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">struct date*pdate= &amp;today;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"结构作为函数参数\"><a href=\"#结构作为函数参数\" class=\"headerlink\" title=\"结构作为函数参数\"></a>结构作为函数参数</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">int numberofdays(struct date d)</span><br></pre></td></tr></table></figure>\n<p>整个结构可以作为参数的值传入函数<br>这时候是在函数内新建一个结构变量,并复制调用者的结构的值<br>也可以返回一个结构<br>这与数组完全不同</p>\n<hr>\n<h2 id=\"指向结构的指针\"><a href=\"#指向结构的指针\" class=\"headerlink\" title=\"指向结构的指针\"></a>指向结构的指针</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">struct date &#123;</span><br><span class=\"line\">int month;</span><br><span class=\"line\">int day;</span><br><span class=\"line\">int yeari;</span><br><span class=\"line\">&#125;myday;</span><br><span class=\"line\">struct date *p =&amp;myday;</span><br><span class=\"line\">(*p).month 12;</span><br><span class=\"line\">p-&gt;zmonth 12;</span><br><span class=\"line\">//用-&gt;表示指针所指的结构变量中的成员</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"全局变量初始化\"><a href=\"#全局变量初始化\" class=\"headerlink\" title=\"全局变量初始化\"></a>全局变量初始化</h1><p>没有做初始化的全局变量会得到0值<br>指针会得到NULL值<br>只能用编译时刻已知的值来初始化全局变量<br>它们的初始化发生在main函数之前<br>全局变量不应该和另一个全局变量有联系<br>同名变量，本地变量优先级高于全局变量，即本地变量隐藏了全局变量</p>\n<hr>\n<h1 id=\"静态本地变量（全局生存期，本地作用域）\"><a href=\"#静态本地变量（全局生存期，本地作用域）\" class=\"headerlink\" title=\"静态本地变量（全局生存期，本地作用域）\"></a>静态本地变量（全局生存期，本地作用域）</h1><p>在本地变量定义时加上 static修饰符就成为静态本地变量<br>当函数离开的时候,静态本地变量会銖存在并保持其值<br>静态本地变量的初始化只会在第一次进入这个函数时做（只做一次初始化）,以后进入函数时会保持上次离开时的值<br>静态本地变量实际上是特殊的全局变量，它们位于相同的内存区域<br>静态本地变量具有全局的生存期,函数内的局部作用域<br>static在这里的意思是局部作用域(本地可访问)</p>\n<blockquote>\n<p>不要使用全局变量来在函数间传递参数和结果<br>尽量避免使用全局变量<br>丰田汽车的案子<br>使用全局变量和静态本地变量的函数是线程不安全的  </p>\n</blockquote>\n<hr>\n<h1 id=\"返回指针的函数\"><a href=\"#返回指针的函数\" class=\"headerlink\" title=\"返回指针的函数\"></a>返回指针的函数</h1><p>返回本地变量的地址是危险的<br>返回全局变量或静态本地变量的地址是安全的<br>返回在函数内 malloc的内存是安全的,但是容易造成问题<br>最好的做法是返回传入的指针</p>\n<hr>\n<h1 id=\"编译预处理指令\"><a href=\"#编译预处理指令\" class=\"headerlink\" title=\"编译预处理指令\"></a>编译预处理指令</h1><h1 id=\"开头的是编译预处理指令\"><a href=\"#开头的是编译预处理指令\" class=\"headerlink\" title=\"开头的是编译预处理指令\"></a>开头的是编译预处理指令</h1><p>它们不是C语言的成分,但是C语言程序离不开它们</p>\n<hr>\n<h2 id=\"define-纯文本替换\"><a href=\"#define-纯文本替换\" class=\"headerlink\" title=\"#define(纯文本替换)\"></a>#define(纯文本替换)</h2><h1 id=\"define用来定义一个宏\"><a href=\"#define用来定义一个宏\" class=\"headerlink\" title=\"define用来定义一个宏\"></a>define用来定义一个宏</h1><h1 id=\"define-lt-名字-gt-lt-值-gt\"><a href=\"#define-lt-名字-gt-lt-值-gt\" class=\"headerlink\" title=\"define&lt;名字&gt;&lt;值&gt;\"></a>define&lt;名字&gt;&lt;值&gt;</h1><p>注意没有结尾的分号,因为不是C的语句<br>名字必颁是一个单词,值可以是各种东西<br>在C语言的编译器开始编译之前,编译预处理程序<br>(cpp)会把程序中的名字换成值<br>完全的文本替换<br>acc-save-temps</p>\n<hr>\n<h2 id=\"宏\"><a href=\"#宏\" class=\"headerlink\" title=\"宏\"></a>宏</h2><p>如果一个宏的值中有其他的宏的名字,也是会被替换的<br>如果一个宏的值超过一行,最后一行之前的行末需要加  \\<br>宏的值后面出现的注释不会被当作宏的值的一部分</p>\n<hr>\n<h3 id=\"预定义的宏\"><a href=\"#预定义的宏\" class=\"headerlink\" title=\"预定义的宏\"></a>预定义的宏</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">_LINE_</span><br><span class=\"line\">_FILE_</span><br><span class=\"line\">_DATE_</span><br><span class=\"line\">_TIME_</span><br><span class=\"line\">_STDC_</span><br></pre></td></tr></table></figure>\n<h3 id=\"带参数的宏\"><a href=\"#带参数的宏\" class=\"headerlink\" title=\"带参数的宏\"></a>带参数的宏</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">#define cube(x) ((x)*(x)*(x))</span><br></pre></td></tr></table></figure>\n<p>在大型程序的代吗中使用非常普遍<br>可以非常复杂,如“产生”函数:在#和##这两个运算符的帮助下<br>存在中西方文化差异<br>部分宏会被inline函数替代</p>\n<hr>\n<h1 id=\"变量的声明\"><a href=\"#变量的声明\" class=\"headerlink\" title=\"变量的声明\"></a>变量的声明</h1><p>int i;是变量的定义<br>extern int i;是变量的声明</p>\n<hr>\n<h1 id=\"声明和定义\"><a href=\"#声明和定义\" class=\"headerlink\" title=\"声明和定义\"></a>声明和定义</h1><p>声明是不产生代码的东西<br>函数原型<br>变量声明<br>结构声明<br>宏声明<br>枚挙声明<br>类型声明<br>inline函数<br>定义是产生代码的东西<br>头文件放声明是规则</p>\n<hr>\n<h1 id=\"重复声明\"><a href=\"#重复声明\" class=\"headerlink\" title=\"重复声明\"></a>重复声明</h1><p>同一个编译单元里,同名的结构不能被重复声明<br>如果你的头文件里有结构的声明,很难这个头文件不会在一个编译单元里被#include多次，所以需要”标准头文件结构”</p>\n<hr>\n<h1 id=\"标准头文件结构-宏的if\"><a href=\"#标准头文件结构-宏的if\" class=\"headerlink\" title=\"标准头文件结构(宏的if)\"></a>标准头文件结构(宏的if)</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">#ifndef _LIST_HEAD_</span><br><span class=\"line\">#define _LIST_HEAD_</span><br><span class=\"line\">#include &quot;node.h&quot;</span><br><span class=\"line\">typedef struct _list&#123;</span><br><span class=\"line\">    Node* head</span><br><span class=\"line\">    Node* tail</span><br><span class=\"line\">&#125;List</span><br><span class=\"line\">#endif</span><br><span class=\"line\">//运用条件编译和宏,保证这个头文件在一个编译单元中只会被#include一次</span><br><span class=\"line\">#pragma once//也能起到相同的作用,但是不是所有的编译器都支持</span><br></pre></td></tr></table></figure>\n<h1 id=\"链表\"><a href=\"#链表\" class=\"headerlink\" title=\"链表\"></a>链表</h1><blockquote>\n<p>0建一个node结构<br>1首选有个node结构(作为节点)，结构里有int(或者其他类型)变量去存数据，还有个同样结构的*next(next要等于下一个节点)（套娃）<br>2读入数据，并新建一个node结构p，要让一个node结构head始终等于链表第一个节点<br>3要有一个node结构last，每次要让last从head开始，直到last-&gt;next是空的，然后让next等于新的p结构（这样就链起来了）<br>4每次读入新的数据，就新建一个p，然后让last从head开始遍历链表，直到last-&gt;next是空的，然后然后让next等于新的p结构  </p>\n</blockquote>\n<p><strong>要在函数内改变指针的指向，就要传指针的指针进去</strong></p>\n<hr>\n<h2 id=\"遍历链表\"><a href=\"#遍历链表\" class=\"headerlink\" title=\"遍历链表\"></a>遍历链表</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">for(p=list.head; p; p=p-&gt;next)&#123;&#125;</span><br><span class=\"line\">//单用一个指针p可以遍历链表</span><br></pre></td></tr></table></figure>\n<p>但要让删除链表中某一结点，需要另一个指针q，q一开始为null，后来始终指向p前一个节点<br>当p找到了要删除的节点，就让q-&gt;next等于p-&gt;next，然后free(p)<br>for(q=null，p=list.head; p; q=p，p=p-&gt;next){}<br>当然还要判断链表的第一个元素是不是我们要删除的<br>如果是，就不能让q-&gt;next等于p-&gt;next，因为q一开始是NULL<br>我们应该让head-&gt;next等于p-&gt;next，然后free(p)  </p>\n<blockquote>\n<p>“.”一般情况下读作”的”。<br>“-&gt;”一般读作”指向的结构体的”。  </p>\n</blockquote>\n<hr>\n<h2 id=\"清除整个链表\"><a href=\"#清除整个链表\" class=\"headerlink\" title=\"清除整个链表\"></a>清除整个链表</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">for(p=head;p;p=q)&#123;</span><br><span class=\"line\">     q=p-&gt;next;</span><br><span class=\"line\">     free(p)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//先让指针p等于head，让q始终指向p的下一个节点，然后free(p),再让p=q，p去等于下一个节点</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"main\"><a href=\"#main\" class=\"headerlink\" title=\"main()\"></a>main()</h1><p>main(成为C语言的入口函数其实和C语言本身无关,你的代码是被一小段叫做启动代的程序所调用的,它需要叫做main的地方)<br>操作系统把你的可执行程序装载到内存里,启动运行,然后调用你的main函数<br>在不同操作系统，入口函数可能不是main()</p>\n<hr>\n","categories":["学习笔记"],"tags":["C语言"]},{"title":"JAVA/面向对象学习笔记(1)","url":"/article/bfb663c6.html","content":"<blockquote>\n<p>所看教程（视频）：《浙江大学-翁恺-Java-面向对象程序设计》<br>作为我自己的复习笔记，也可以当做该视频的同步笔记</p>\n</blockquote>\n<h1 id=\"面向对象\"><a href=\"#面向对象\" class=\"headerlink\" title=\"面向对象\"></a>面向对象</h1><h2 id=\"什么是面向对象\"><a href=\"#什么是面向对象\" class=\"headerlink\" title=\"什么是面向对象\"></a>什么是面向对象</h2><p>面向对象是把<strong>一组数据结构</strong>和<strong>处理他们的方法</strong>组成对象。<br>把具有<strong>相同行为</strong>的对象归纳成<strong>类</strong><br>通过<strong>封装</strong>隐藏类的内部细节<br>通过<strong>继承</strong>使类得到泛化<br>通过<strong>多态</strong>实现基于对象类型的动态分派 </p>\n<h2 id=\"只能操作对象\"><a href=\"#只能操作对象\" class=\"headerlink\" title=\"只能操作对象\"></a>只能操作对象</h2><p>一切事物都是调用加封装的结果<br>程序实现的一切功能都是<strong>调用</strong>加<strong>封装</strong>的结果<br>程序调用一个个对象<br>封装的也是一个个对象</p>\n<h2 id=\"基于对象编程\"><a href=\"#基于对象编程\" class=\"headerlink\" title=\"基于对象编程\"></a>基于对象编程</h2><p>同一个事物，构成它的对象能有多种划分方式<br>机器语言、汇编语言将电路上的开关，由1和0组成的指令作为对象  </p>\n<p>c语音将对象界定为一个个<strong>数据</strong>和一个个<strong>算法</strong><br>java将<strong>数据和算法的结合</strong>作为一个对象    </p>\n<p>数据和算法分开的编程：面向过程编程<br>数据和算法结合的编程：面向对象编程  </p>\n<h2 id=\"面向过程与面向对象\"><a href=\"#面向过程与面向对象\" class=\"headerlink\" title=\"面向过程与面向对象\"></a>面向过程与面向对象</h2><p>面向过程关注如何实现，关注如何做，将一个要实现的、复杂的功能，用一个或多个大函数去实现，再抽丝剥茧，用更多的函数去实现这些函数。<br>面向对象关注数据，方法就在这，处理什么数据（对象）  </p>\n<p>面向对象中也有面向过程的代码，只是重点不在如何做，而是对对象的<strong>抽象</strong>与<strong>扩展</strong><br>对于实现功能的核心算法，面向对象与面向过程并无区别，c语言也可通过结构体与函数指针实现面向对象    </p>\n<p>面向对象的<strong>封装</strong>、<strong>继承</strong>和<strong>多态</strong>，使得代码、功能的扩展、复用变得非常容易  </p>\n<p>这两种编程思想都是为了解决实际的问题  </p>\n<details class=\"folding-tag\" ><summary> 如何烧水 </summary>\n              <div class='content'>\n              <p><p><strong>转自互联网</strong><br>面向过程的烧水：<br>读取热水壶内水的水温，缓存<br>电热装置将发热量缓存<br>损耗算法读取发热量，并将将水的提升温度缓存<br>与水温相加<br>将这个数值重新赋给水温<br>直到温度达到沸点，完成烧水    </p></p><p><p>面向对象的烧水：<br>定义热水壶类，继承自盛水容器，温度改变装置，温度计，水温控制接口<br>实例化一个热水壶类对象，命名为「我的热水壶」<br>为终止温度赋值：水.沸点<br>我的热水壶.温度处理(终止温度);  </p></p><p><p>另：个人实现的烧水方法，仅图一乐：<br>为热水壶类实装烧水接口：实装水温监视事件<br>为热水壶类实装烧水接口：定义一个水温枚举器<br>为热水壶类实装烧水接口：实装温度处理方法<br>执行流程：<br>1.执行继承自盛水容器类的盛水方法<br>2.注册继承自温度改变装置类的温度监视事件<br>3.遍历水温枚举器：如果水温提升，则返回当前水温<br>4.如果返回值接近终止温度，跳出枚举过程，完成烧水。<br>5.否则，继续遍历枚举器。  </p></p><p><p>你肯定会问这哪里优雅了，确实，看起来是复杂了不少，但再仔细想一想，这一整套流程只要稍加修改，稍加改变接口实现，你就可以直接用这个「热水壶类」实现一个热水器，甚至还可以是一个冰箱。<br>毕竟烧的又不一定是水，又不一定要烧水，又不一定要用壶烧水，又不一样要是个烧水壶<br></p>\n              </div>\n            </details></p>\n<hr>\n<h1 id=\"对象与类\"><a href=\"#对象与类\" class=\"headerlink\" title=\"对象与类\"></a>对象与类</h1><p>对象是实体，需要被创建，可以为我们做事情<br>类是规范，根据类的定义来创建对象    </p>\n<p>一个类可以有多个对象  </p>\n<p>动物是一个类，每个对象，猫，狗，都是动物类的实体<br>我们用类制造出对象，再给对象所需要的数据，对象可以利用这些数据去做事情，我们大可无需知道对象是如何利用这些数据的，因为我们只要求，这个对象能实现一些功能  </p>\n<h2 id=\"面向对象的思维\"><a href=\"#面向对象的思维\" class=\"headerlink\" title=\"面向对象的思维\"></a>面向对象的思维</h2><p>我们看到一个事物<br>它有什么东西？<br>能干什么？  </p>\n<h2 id=\"第一个程序：自动售货机\"><a href=\"#第一个程序：自动售货机\" class=\"headerlink\" title=\"第一个程序：自动售货机\"></a>第一个程序：自动售货机</h2><p>售货机（VendingMachine）有什么？<br>商品的价格：price<br>显示的余额：balance<br>卖了多少钱：total  </p>\n<p>售货机能干什么？<br>输出一些提示：showPromot<br>取得一些钱：insertMomey<br>告诉用户余额：showBalance<br>给我们商品（食物）：getFood<br>告诉商家总收入：showTotal</p>\n<p>我们需要设计VendingMachine这个类，这个类有3个属性，有5个动作（方法）<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\"><span class=\"comment\">//创建一个类</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">VendingMachine</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">price</span> <span class=\"operator\">=</span> <span class=\"number\">80</span>;<span class=\"comment\">//商品价格(假设就只有一个商品，且价格固定)</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">balance</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;<span class=\"comment\">//当前余额</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">total</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;<span class=\"comment\">//总收入</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">amount</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;<span class=\"comment\">//钱</span></span><br><span class=\"line\">    Scanner s=<span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">showPromot</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//输出提示</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;欢迎！&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">insertMomey</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 投入钱，更新余额</span></span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;请充值余额：&quot;</span>);</span><br><span class=\"line\">        amount = s.nextInt();</span><br><span class=\"line\">        balance = balance + amount;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">showBalance</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//输出余额</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;现在余额： &quot;</span>+ balance);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">getFood</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//给食物</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (balance &gt;= price) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;给你。&quot;</span>);</span><br><span class=\"line\">            balance = balance - price;</span><br><span class=\"line\">            total = total + price;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;没有足够的余额！&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">showTotal</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;目前总收入：&quot;</span>+total);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>有了这个类，就可以通过类去制造一个对象,并让对象去实现一些功能<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//制作一个对象</span></span><br><span class=\"line\">        <span class=\"type\">VendingMachine</span> <span class=\"variable\">vm</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">VendingMachine</span>();</span><br><span class=\"line\">        <span class=\"type\">boolean</span> <span class=\"variable\">t</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        vm.showPromot();</span><br><span class=\"line\">        vm.showBalance();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (t) &#123;</span><br><span class=\"line\">            vm.insertMomey();</span><br><span class=\"line\">            vm.getFood();</span><br><span class=\"line\">            vm.showBalance();</span><br><span class=\"line\">            vm.showTotal();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>运行结果：<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">欢迎！</span><br><span class=\"line\">现在余额： 0</span><br><span class=\"line\">请充值余额：100</span><br><span class=\"line\">给你。</span><br><span class=\"line\">现在余额： 20</span><br><span class=\"line\">目前总收入：80</span><br><span class=\"line\">请充值余额：20</span><br><span class=\"line\">没有足够的余额！</span><br><span class=\"line\">现在余额： 40</span><br><span class=\"line\">目前总收入：80</span><br><span class=\"line\">请充值余额：40</span><br><span class=\"line\">给你。</span><br><span class=\"line\">现在余额： 0</span><br><span class=\"line\">目前总收入：160</span><br><span class=\"line\">请充值余额：</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"创建对象\"><a href=\"#创建对象\" class=\"headerlink\" title=\"创建对象\"></a>创建对象</h2><p>使用new运算符，来创建这个类的一个对象<br>然后将这个对象交给这个类型的一个变量<br>VendingMachine vm = new VendingMachine();  </p>\n<p><strong>对象变量是对象的管理者</strong>  </p>\n<h2 id=\"让对象做事情\"><a href=\"#让对象做事情\" class=\"headerlink\" title=\"让对象做事情\"></a>让对象做事情</h2><p>使用 . 运算符<br>vm.insertMomey();<br>vm.getFood();<br>通过.运算符调用某个对象的方法  </p>\n<h2 id=\"成员变量、成员方法\"><a href=\"#成员变量、成员方法\" class=\"headerlink\" title=\"成员变量、成员方法\"></a>成员变量、成员方法</h2><p>类定义了<strong>对象中</strong>所具有的变量，这些变量称作成员变量<br>每个对象有自己的变量，和同一个类的其他对象是分开的<br>在方法中可以直接写成员变量（方法）的名字来访问成员变量（方法）（省去了this关键字）  </p>\n<p>java会给成员变量默认0值</p>\n<p>成员变量（方法）分为实例变量（方法）和类变量（方法）<br>加了static的就是类变量（方法）  </p>\n<h3 id=\"类变量\"><a href=\"#类变量\" class=\"headerlink\" title=\"类变量\"></a>类变量</h3><p>声明类变量： <strong>static</strong> &lt;类型&gt; &lt;变量名&gt;  </p>\n<p>访问类变量：<br>通过对象访问：&lt;对象名&gt;.&lt;类变量名&gt;<br>通过类访问：&lt;类名&gt;.&lt;类变量名&gt;  </p>\n<p>类变量不属于任何一个对象，属于这个类，但任何一个对象都拥有这个变量  </p>\n<p>修改类变量的值，所有对象中的该变量的值都会改变  </p>\n<p>类变量的初始化只会进行一次（在类的装载时）  </p>\n<h3 id=\"类方法\"><a href=\"#类方法\" class=\"headerlink\" title=\"类方法\"></a>类方法</h3><p>声明类方法： <strong>static</strong> &lt;返回类型&gt; &lt;方法名&gt;() {  }  </p>\n<p>static方法只能调用static方法，只能访问static变量   </p>\n<p>类方法可以通过类的名字去访问，也可以通过对象去访问  </p>\n<h2 id=\"本地（局部）变量\"><a href=\"#本地（局部）变量\" class=\"headerlink\" title=\"本地（局部）变量\"></a>本地（局部）变量</h2><p>定义在<strong>方法内部</strong>的变量是本地变量<br>本地变量的生存期和作用域都是方法内部  </p>\n<p>本地变量没被赋值，会被禁止使用  </p>\n<p>成员变量的生存期是对象的生存期，作用域是类内部的成员方法 </p>\n<h3 id=\"var局部变量\"><a href=\"#var局部变量\" class=\"headerlink\" title=\"var局部变量\"></a>var局部变量</h3><p>使用var时必须指出初始值(不可以是null)<br>var &lt;变量名&gt; = &lt;值&gt;;<br>编译器可以推断出该变量的类型，且之后该变量的类型都是确定的，不可以给该变量赋其它类型的值</p>\n<h2 id=\"对象初始化\"><a href=\"#对象初始化\" class=\"headerlink\" title=\"对象初始化\"></a>对象初始化</h2><p>可以在定义成员变量的地方直接赋值<br>int price = 80;  </p>\n<p>在创建一个对象的过程中，会首先去做各种初始化的动作</p>\n<h3 id=\"构造方法\"><a href=\"#构造方法\" class=\"headerlink\" title=\"构造方法\"></a>构造方法</h3><p>与类同名的函数，没有返回值<br>在创建一个对象时会自动调用的方法<br>应该是public<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">VendingMachine()&#123;</span><br><span class=\"line\">    total = <span class=\"number\">10</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">VendingMachine(<span class=\"type\">int</span> price )&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.price = price;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"方法重载\"><a href=\"#方法重载\" class=\"headerlink\" title=\"方法重载\"></a>方法重载</h3><p>一个类里可以有多个<strong>不同参数</strong>的构造方法<br>创建对象的时候给出不同的参数值，就会自动调用不同的构造方法<br>通过this()还可以在构造方法中调用其他构造方法，写在第一行，且只能使用一次<br>一个类里的同名但参数表不同的方法构成了重载关系  </p>\n<h2 id=\"对象的识别\"><a href=\"#对象的识别\" class=\"headerlink\" title=\"对象的识别\"></a>对象的识别</h2><p>通过巧妙的思想，识别不同出对象的特点，让类更通用<br>例如，要实现一个时钟<br>可以设计一个类，通过这个类可以制造出时、分、秒三个对象  </p>\n<h2 id=\"对象的交互\"><a href=\"#对象的交互\" class=\"headerlink\" title=\"对象的交互\"></a>对象的交互</h2><p>时、分、秒三个对象可以共同组成一个时钟对象<br>控制时、分、秒之间的交互在时钟对象的方法中完成<br><figure class=\"highlight java\"><figcaption><span>Display.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Display</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">value</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">limit</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Display</span><span class=\"params\">(<span class=\"type\">int</span> limit)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.limit = limit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">increase</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        value++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(value == limit)&#123;</span><br><span class=\"line\">            value = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getValue</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight java\"><figcaption><span>Clock.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Clock</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Display</span> <span class=\"variable\">hour</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Display</span>(<span class=\"number\">24</span>);</span><br><span class=\"line\">    <span class=\"type\">Display</span> <span class=\"variable\">minute</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Display</span>(<span class=\"number\">60</span>);</span><br><span class=\"line\">    <span class=\"type\">Display</span> <span class=\"variable\">second</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Display</span>(<span class=\"number\">60</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">start</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            second.increase();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (second.getValue() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                minute.increase();</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (minute.getValue() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    hour.increase();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            System.out.printf(<span class=\"string\">&quot;%02d:%02d:%02d\\n&quot;</span>, hour.getValue(), minute.getValue(), second.getValue());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Main.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Clock</span> <span class=\"variable\">clock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Clock</span>();</span><br><span class=\"line\">        clock.start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"访问属性\"><a href=\"#访问属性\" class=\"headerlink\" title=\"访问属性\"></a>访问属性</h1><p><strong>private</strong>：这个成员是私有的，只有在类的内部（成员方法和定义初始化 ）才能访问<br>一般来说，成员变量都该是private<br><strong>这个限制是对类的而不是对对象的</strong>：同一个类的不同对象可以互相访问对方的成员变量  </p>\n<p><strong>public</strong>：任何人都可以访问<br>任何人指的是在任何类的方法或定义初始化中可以使用<br>使用指的是调用、访问或定义变量<br>很多的成员方法都是public<br>public的类，类名和文件名要一致，一个编译单元只能有一个public的类  </p>\n<p><strong>protected</strong>：受保护的成员  </p>\n<p><strong>friendly</strong>：默认属性，友好的成员  </p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>访问属性</th>\n<th>本类</th>\n<th>同包</th>\n<th>子类</th>\n<th>其它</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>private</td>\n<td>√</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>friendly</td>\n<td>√</td>\n<td>√</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>protected</td>\n<td>√</td>\n<td>√</td>\n<td>√</td>\n<td></td>\n</tr>\n<tr>\n<td>public</td>\n<td>√</td>\n<td>√</td>\n<td>√</td>\n<td>√</td>\n</tr>\n</tbody>\n</table>\n</div>\n<hr>\n<h1 id=\"包package\"><a href=\"#包package\" class=\"headerlink\" title=\"包package\"></a>包package</h1><p>包是java管理类的一个机制<br>源文件中同名类要在<strong>不同</strong>包内  </p>\n<p>声明该类的指定包名<br>package &lt;包名&gt;;  </p>\n<p>包名中的.代表文件夹的层次  </p>\n<p>没有package语句的源程序都将视为在同一个无名包内  </p>\n<h2 id=\"import\"><a href=\"#import\" class=\"headerlink\" title=\"import\"></a>import</h2><p>使用import语句引入包中的类和接口  </p>\n<p>import test.Hallo<br>test包中的Hallo类  </p>\n<p>只要用到的类和本类不在同一个包内，就要import它  </p>\n<p>如果不使用import，当要用到类时要给出全名：&lt;包名&gt;.&lt;类名&gt;  </p>\n<p>引入一个包内的所有东西：import &lt;包名&gt;.*;（注意同名类的冲突） </p>\n<hr>\n<h1 id=\"NoteBook例子\"><a href=\"#NoteBook例子\" class=\"headerlink\" title=\"NoteBook例子\"></a>NoteBook例子</h1><p>记事本可以做什么？<br>1、能存储记录<br>2、不限制能存储的记录的数量<br>3、能知道已经存储的记录的数量<br>4、能查看存进去的每一条记录<br>5、能删除一条记录<br>6、能列出所有的记录  </p>\n<p>确定需求后，进行接口设计<br><figure class=\"highlight java\"><figcaption><span>接口设计</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">NoteBook</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//添加内容</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getSize</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//放了多少个</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getNote</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//得到指定位置的内容</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">removeNote</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//删除</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String[] list() &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回全部内容</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>接口设计完，考虑实际功能的实现，首先是数据的存放  </p>\n<h2 id=\"顺序容器\"><a href=\"#顺序容器\" class=\"headerlink\" title=\"顺序容器\"></a>顺序容器</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> ArrayList&lt;String&gt; notes = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;String&gt;();  </span><br></pre></td></tr></table></figure>\n<p>用来存放String的一个ArrayList<br>ArrayList内的东西是有顺序的，是加入数据的顺序，形成对应下标的索引（从0开始）  </p>\n<p>这种类型叫做范型类：泛型类封装不特定于特定数据类型的操作<br>这种范型类是一种容器  </p>\n<p>容器类有两个类型：容器的类型、元素的类型  </p>\n<p>利用容器类的方法可以实现需要的功能<br>notes.add(s);  //向容器添加数据<br>notes.size();  //容器存了多少个东西<br>notes.get(1); //得到1位置处的数据</p>\n<p>完成全部功能接口<br><figure class=\"highlight java\"><figcaption><span>NoteBook.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">NoteBook</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;String&gt; notes = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;String&gt;();<span class=\"comment\">//容器类</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//添加内容</span></span><br><span class=\"line\">        notes.add(s);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(String s, <span class=\"type\">int</span> location)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//加到指定位置前，后面的内容下标后推</span></span><br><span class=\"line\">        notes.add(location, s);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getSize</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//放了多少个</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> notes.size();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getNote</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//得到指定位置的内容</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> notes.get(index);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">removeNote</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//删除，后面下标前移，因为remove方法自会抛异常，所以无需返回boolean</span></span><br><span class=\"line\">        notes.remove(index);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String[] list() &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回全部内容</span></span><br><span class=\"line\">        String[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>[notes.size()];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//for (int i=0; i&lt; notes.size(); i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//    a[i] = notes.get(i);</span></span><br><span class=\"line\">        <span class=\"comment\">//&#125;</span></span><br><span class=\"line\">        notes.toArray(a);<span class=\"comment\">//会自己把数组按顺序填好</span></span><br><span class=\"line\">        <span class=\"comment\">//要熟悉系统类库里有的方法，无需重复造轮子</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>写出上层程序<br><figure class=\"highlight java\"><figcaption><span>Main.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">NoteBook</span> <span class=\"variable\">nb</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">NoteBook</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        nb.add(<span class=\"string\">&quot;first&quot;</span>);</span><br><span class=\"line\">        nb.add(<span class=\"string\">&quot;second&quot;</span>);</span><br><span class=\"line\">        System.out.println(nb.getSize());</span><br><span class=\"line\">        System.out.println(nb.getNote(<span class=\"number\">1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        nb.add(<span class=\"string\">&quot;third&quot;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">        System.out.println(nb.getNote(<span class=\"number\">1</span>));</span><br><span class=\"line\">        System.out.println(nb.getNote(<span class=\"number\">2</span>));</span><br><span class=\"line\">        System.out.println(nb.getSize());</span><br><span class=\"line\"></span><br><span class=\"line\">        nb.removeNote(<span class=\"number\">1</span>);</span><br><span class=\"line\">        String[] b = nb.list();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (String s : b) &#123;</span><br><span class=\"line\">            System.out.println(s);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>输出：<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">2</span><br><span class=\"line\">second</span><br><span class=\"line\">third</span><br><span class=\"line\">second</span><br><span class=\"line\">3</span><br><span class=\"line\">first</span><br><span class=\"line\">second</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"对象数组\"><a href=\"#对象数组\" class=\"headerlink\" title=\"对象数组\"></a>对象数组</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">String[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>[notes.size()];  </span><br></pre></td></tr></table></figure>\n<p>对象数组中的每个元素都是对象的管理者而非对象本身<br>当创建了一个对象数组，只是管理者们被创建了，但对象还没有，得想办法把每个对象创建出来  </p>\n<h3 id=\"for-each循环\"><a href=\"#for-each循环\" class=\"headerlink\" title=\"for-each循环\"></a>for-each循环</h3><p>对于普通数组：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; a.length; i++) &#123;</span><br><span class=\"line\">    a[i] = i;<span class=\"comment\">//赋值</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> ( <span class=\"type\">int</span> k : a ) &#123;</span><br><span class=\"line\">    System.out.println(k);</span><br><span class=\"line\">    k++;<span class=\"comment\">//每个k都是a中元素的复制品，不会起作用</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>对于对象数组：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Value[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">Value</span>[<span class=\"number\">10</span>]; </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt; <span class=\"number\">10</span>; i++)&#123;</span><br><span class=\"line\">    a[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">Value</span>[];</span><br><span class=\"line\">    a[i].set(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> ( Value v : a )&#123;</span><br><span class=\"line\">    System.out.println(v.get());</span><br><span class=\"line\">    v.set(<span class=\"number\">0</span>);<span class=\"comment\">//起作用，因为对象数组存的是对象管理者，v=a[i]，v也会成为对象管理者</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"集合容器\"><a href=\"#集合容器\" class=\"headerlink\" title=\"集合容器\"></a>集合容器</h2><p>集合容器内所有元素都不相同<br>而且里面的元素不排序<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">HashSet&lt;String&gt; s = <span class=\"keyword\">new</span> <span class=\"title class_\">HashSet</span>&lt;String&gt;();</span><br><span class=\"line\">s.add(<span class=\"string\">&quot;first&quot;</span>);</span><br><span class=\"line\">s.add(<span class=\"string\">&quot;second&quot;</span>);</span><br><span class=\"line\">s.add(<span class=\"string\">&quot;first&quot;</span>);</span><br><span class=\"line\">System.out.println(s);<span class=\"comment\">//容器都可以这样输出</span></span><br></pre></td></tr></table></figure><br>输出：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">[second, first]</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"public-String-toString\"><a href=\"#public-String-toString\" class=\"headerlink\" title=\"public String toString\"></a>public String toString</h2><p>在java中只要类中实现了这样一个方法<br>就可以直接用对象名输出这个对象<br>容器当中都有这样一个方法<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span>&#123;  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;  </span><br><span class=\"line\">&#125;  </span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Hash表\"><a href=\"#Hash表\" class=\"headerlink\" title=\"Hash表\"></a>Hash表</h2><p>例子：数字与美元硬币名字对应，查找硬币名称<br>1=penny<br>5=nickel<br>10=dime<br>25=quarter<br>50=half-dollar</p>\n<p>定义接口：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Coin</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getName</span><span class=\"params\">(<span class=\"type\">int</span> amount)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>  <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>为什么不用switch-case？<br>体现在代码中的硬编码越少越好  </p>\n<p>使用Hash表（一种数据结构）<br>在这个表中，所有东西是以一对值放入的，一个叫做key（键），一个叫做值<br>一个key对应一个值，可以用key取值<br>Hash表中的元素没有顺序<br><figure class=\"highlight java\"><figcaption><span>Coin.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.HashMap;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Coin</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//不能使用int，容器当中所有的类型都得是对象,而不能是基本类型</span></span><br><span class=\"line\">    <span class=\"comment\">//Integer是int的包裹类型</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> HashMap&lt;Integer, String&gt; coinnames = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;Integer, String&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Coin</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        coinnames.put(<span class=\"number\">1</span>, <span class=\"string\">&quot;penny&quot;</span>);<span class=\"comment\">//1对应penny</span></span><br><span class=\"line\">        coinnames.put(<span class=\"number\">10</span>, <span class=\"string\">&quot;dime&quot;</span>);</span><br><span class=\"line\">        coinnames.put(<span class=\"number\">25</span>, <span class=\"string\">&quot;quarter&quot;</span>);</span><br><span class=\"line\">        coinnames.put(<span class=\"number\">50</span>, <span class=\"string\">&quot;half-dolar&quot;</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        System.out.println(coinnames.keySet().size());<span class=\"comment\">//keySet()，把所有key做为一个HashSet的集合给你，在这个集合可以得到size</span></span><br><span class=\"line\">        System.out.println(coinnames);<span class=\"comment\">//也可以直接输出</span></span><br><span class=\"line\">        coinnames.put(<span class=\"number\">50</span>, <span class=\"string\">&quot;五十&quot;</span>);<span class=\"comment\">//会替换掉前面的</span></span><br><span class=\"line\">        System.out.println(coinnames);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (Integer k : coinnames.keySet())&#123;<span class=\"comment\">//遍历Hash表</span></span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> coinnames.get(k);</span><br><span class=\"line\">            System.out.println(s);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getName</span><span class=\"params\">(<span class=\"type\">int</span> amount)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (coinnames.containsKey(amount))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> coinnames.get(amount);</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>  <span class=\"string\">&quot;NOT FOUND&quot;</span>;<span class=\"comment\">//不判断的话，不存在会返回null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>Main.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">amount</span> <span class=\"operator\">=</span> in.nextInt();</span><br><span class=\"line\">        <span class=\"type\">Coin</span> <span class=\"variable\">coin</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Coin</span>();</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">name</span> <span class=\"operator\">=</span> coin.getName(amount);</span><br><span class=\"line\">        System.out.println(name);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>输出：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"number\">4</span></span><br><span class=\"line\">&#123;<span class=\"number\">1</span>=penny, <span class=\"number\">50</span>=half-dolar, <span class=\"number\">25</span>=quarter, <span class=\"number\">10</span>=dime&#125;</span><br><span class=\"line\">&#123;<span class=\"number\">1</span>=penny, <span class=\"number\">50</span>=五十, <span class=\"number\">25</span>=quarter, <span class=\"number\">10</span>=dime&#125;</span><br><span class=\"line\">penny</span><br><span class=\"line\">五十</span><br><span class=\"line\">quarter</span><br><span class=\"line\">dime</span><br><span class=\"line\">dime</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"继承与子类\"><a href=\"#继承与子类\" class=\"headerlink\" title=\"继承与子类\"></a>继承与子类</h1><h2 id=\"媒体资料库设计\"><a href=\"#媒体资料库设计\" class=\"headerlink\" title=\"媒体资料库设计\"></a>媒体资料库设计</h2><p>和NoteBook一样，需要设计一个类,用类去表达一种媒体（CD,DVD）<br>然后用一个媒体类的容器去装媒体对象，一个资料库就完成了  </p>\n<p>CD有什么？<br>名称：title<br>艺术家：artist<br>多少首歌：numofTracks<br>持续时间：playingTime<br>是否被借出：gotIt<br>描述：comment  </p>\n<p>能做什么？<br>输出一些信息：print</p>\n<figure class=\"highlight java\"><figcaption><span>CD.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CD</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String title;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String artist;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> numofTracks;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> playingTime;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"variable\">gotIt</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String comment;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">CD</span><span class=\"params\">(String title, String artist, <span class=\"type\">int</span> numofTracks, <span class=\"type\">int</span> playingTime, String comment)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.title = title;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.artist = artist;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.numofTracks = numofTracks;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.playingTime = playingTime;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.comment = comment;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">print</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;CD:&quot;</span>);</span><br><span class=\"line\">        System.out.print(title+<span class=\"string\">&quot;:&quot;</span>);</span><br><span class=\"line\">        System.out.println(artist);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Database.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Database</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;CD&gt; listCD = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;CD&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(CD cd)</span>&#123;</span><br><span class=\"line\">        listCD.add(cd);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">list</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (CD cd : listCD)&#123;</span><br><span class=\"line\">            cd.print();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Database</span> <span class=\"variable\">db</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Database</span>();</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>));</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;adc&quot;</span>,<span class=\"string\">&quot;dgh&quot;</span>,<span class=\"number\">5</span>,<span class=\"number\">40</span>,<span class=\"string\">&quot;ak&quot;</span>));</span><br><span class=\"line\">        db.list();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>现在资料库中已经可以存各种CD媒体了<br>但我们还想在资料库中存DVD媒体或者其它媒体类型  </p>\n<p>当然，我们可以再创建一个类表示DVD<br><figure class=\"highlight java\"><figcaption><span>DVD.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DVD</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String title;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String director;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> playingTime;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"variable\">gotIt</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String comment;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">DVD</span><span class=\"params\">(String title, String director, <span class=\"type\">int</span> playingTime, String comment)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.director = director;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.title = title;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.playingTime = playingTime;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.comment = comment;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">print</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;DVD:&quot;</span>);</span><br><span class=\"line\">        System.out.print(title+<span class=\"string\">&quot;:&quot;</span>);</span><br><span class=\"line\">        System.out.println(director);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>设计好类后在Database.java里创建一个放DVD的容器,以及配套的方法<br><figure class=\"highlight java\"><figcaption><span>Database.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Database</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;CD&gt; listCD = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;CD&gt;();</span><br><span class=\"line\">    <span class=\"comment\">//+</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;DVD&gt; listDVD = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;DVD&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(CD cd)</span>&#123;</span><br><span class=\"line\">        listCD.add(cd);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//+</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(DVD dvd)</span>&#123;</span><br><span class=\"line\">        listCD.add(dvd);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">list</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (CD cd : listCD)&#123;</span><br><span class=\"line\">            cd.print();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//+</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(DVD dvd : listDVD)&#123;</span><br><span class=\"line\">            dvd.print();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Database</span> <span class=\"variable\">db</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Database</span>();</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>));</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;adc&quot;</span>,<span class=\"string\">&quot;dgh&quot;</span>,<span class=\"number\">5</span>,<span class=\"number\">40</span>,<span class=\"string\">&quot;ak&quot;</span>));</span><br><span class=\"line\">        <span class=\"comment\">//+</span></span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">DVD</span>(<span class=\"string\">&quot;add&quot;</span>,<span class=\"string\">&quot;eee&quot;</span>,<span class=\"number\">45</span>,<span class=\"string\">&quot;qqq&quot;</span>));</span><br><span class=\"line\">        db.list();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>现在资料库中能存放两种媒体<br>运行一下：<br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">CD:abc:aaa</span><br><span class=\"line\">CD:adc:dgh</span><br><span class=\"line\">DVD:add:eee</span><br></pre></td></tr></table></figure><br>上面发生了什么？<br>我们创建了一个资料库类<br>资料库类里有两个容器，用来存放两种不同类型的媒体的对象管理者  </p>\n<div><img src=https://cdn.chuckle.top/images/7-1.webp width=\"70%\" height=\"70%\"></div>\n\n<p>这样的结构虽然能实现我们需要的功能，但DVD和CD类几乎一模一样<br>出现了很多代码复制，这是代码质量不良的表现<br>当我们需要修改print，add等方法，就得逐个去改<br>当我们需要新增一种媒体，就得为它做很多的工作  </p>\n<h2 id=\"继承\"><a href=\"#继承\" class=\"headerlink\" title=\"继承\"></a>继承</h2><p>CD和DVD类很相似，我们可以从中提取一些它们共有的东西封装成一个类Item<br>Item可以表达CD或者DVD<br>而Database只需管Item  </p>\n<figure class=\"highlight java\"><figcaption><span>Item.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Item</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String title;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> playingTime;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"variable\">gotIt</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String comment;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Item</span><span class=\"params\">(String title, <span class=\"type\">int</span> playingTime, <span class=\"type\">boolean</span> gotIt, String comment)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.title = title;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.playingTime = playingTime;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.gotIt = gotIt;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.comment = comment;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Item</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">print</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.print(title+<span class=\"string\">&quot;:&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>CD.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CD</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Item</span>&#123;</span><br><span class=\"line\"><span class=\"comment\">//    private String title;</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String artist;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> numofTracks;</span><br><span class=\"line\"><span class=\"comment\">//    private int playingTime;</span></span><br><span class=\"line\"><span class=\"comment\">//    private boolean gotIt = false;</span></span><br><span class=\"line\"><span class=\"comment\">//    private String comment;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">CD</span><span class=\"params\">(String title, String artist, <span class=\"type\">int</span> numofTracks, <span class=\"type\">int</span> playingTime, String comment)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(title, playingTime, <span class=\"literal\">false</span>, comment);</span><br><span class=\"line\"><span class=\"comment\">//        this.title = title;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.artist = artist;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.numofTracks = numofTracks;</span><br><span class=\"line\"><span class=\"comment\">//        this.playingTime = playingTime;</span></span><br><span class=\"line\"><span class=\"comment\">//        this.comment = comment;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">print</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;CD:&quot;</span>);</span><br><span class=\"line\">        <span class=\"built_in\">super</span>.print();</span><br><span class=\"line\">        System.out.println(artist);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>DVD.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DVD</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Item</span>&#123;</span><br><span class=\"line\"><span class=\"comment\">//    private String title;</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String director;</span><br><span class=\"line\"><span class=\"comment\">//    private int playingTime;</span></span><br><span class=\"line\"><span class=\"comment\">//    private boolean gotIt = false;</span></span><br><span class=\"line\"><span class=\"comment\">//    private String comment;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">DVD</span><span class=\"params\">(String title, String director, <span class=\"type\">int</span> playingTime, String comment)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(title, playingTime, <span class=\"literal\">false</span>, comment);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.director = director;</span><br><span class=\"line\"><span class=\"comment\">//        this.title = title;</span></span><br><span class=\"line\"><span class=\"comment\">//        this.playingTime = playingTime;</span></span><br><span class=\"line\"><span class=\"comment\">//        this.comment = comment;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">print</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;DVD:&quot;</span>);</span><br><span class=\"line\">        <span class=\"built_in\">super</span>.print();</span><br><span class=\"line\">        System.out.println(director);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Database.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Database</span> &#123;</span><br><span class=\"line\"><span class=\"comment\">//    private ArrayList&lt;CD&gt; listCD = new ArrayList&lt;CD&gt;();</span></span><br><span class=\"line\"><span class=\"comment\">//    private ArrayList&lt;DVD&gt; listDVD = new ArrayList&lt;DVD&gt;();</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;Item&gt; listItem = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Item&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//    public void add(CD cd)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//        listCD.add(cd);</span></span><br><span class=\"line\"><span class=\"comment\">//    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//    public void add(DVD dvd)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//        listCD.add(dvd);</span></span><br><span class=\"line\"><span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(Item item)</span>&#123;</span><br><span class=\"line\">        listItem.add(item);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">list</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\"><span class=\"comment\">//        for (CD cd : listCD)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            cd.print();</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//        for(DVD dvd : listDVD)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            dvd.print();</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (Item item : listItem)&#123;</span><br><span class=\"line\">            item.print();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Database</span> <span class=\"variable\">db</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Database</span>();</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>));</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;adc&quot;</span>,<span class=\"string\">&quot;dgh&quot;</span>,<span class=\"number\">5</span>,<span class=\"number\">40</span>,<span class=\"string\">&quot;ak&quot;</span>));</span><br><span class=\"line\">        db.add(<span class=\"keyword\">new</span> <span class=\"title class_\">DVD</span>(<span class=\"string\">&quot;add&quot;</span>,<span class=\"string\">&quot;eee&quot;</span>,<span class=\"number\">45</span>,<span class=\"string\">&quot;qqq&quot;</span>));</span><br><span class=\"line\">        db.list();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>运行一下：<br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">CD:abc:aaa</span><br><span class=\"line\">CD:adc:dgh</span><br><span class=\"line\">DVD:add:eee</span><br></pre></td></tr></table></figure><br>上面发生了什么？<br>CD extends Item：CD扩展了Item<br>即CD变成了Item的子类<br>这就是<strong>继承</strong><br>CD得到了Item里所有的东西  </p>\n<div><img src=https://cdn.chuckle.top/images/7-2.webp width=\"70%\" height=\"70%\"></div>\n\n<h2 id=\"子类与父类\"><a href=\"#子类与父类\" class=\"headerlink\" title=\"子类与父类\"></a>子类与父类</h2><p>当父类里的东西是private时<br>private String title;<br>子类得到了这个东西，但不能用（可以通过父类的方法去用）<br>解决办法：将private改成protect<br>但这样不好，有很多时候父类和子类不在同一个包内  </p>\n<p>title本来就是父类的东西<br>可以让title在父类中初始化完，再让子类得到title<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"title function_\">Item</span><span class=\"params\">(String title)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.title = title;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>在子类构造器中使用super()来得到父类的title<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"title function_\">CD</span><span class=\"params\">(String title)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(title);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"super\"><a href=\"#super\" class=\"headerlink\" title=\"super()\"></a>super()</h3><p>当程序初始化对象时，会先运行super()<br>然后去运行父类的构造器，再回来继续运行自己的构造器  </p>\n<p>super():去父类调用一个没有参数的构造器<br>super(&lt;参数&gt;):去父类调用一个有对应参数的构造器  </p>\n<p>当子类没有super(),会默认去调用父类没有参数的构造器  </p>\n<p>通过super关键字来实现对父类成员的访问，用来引用当前对象的父类<br>super.&lt;父类成员&gt;  </p>\n<p>通过this来区分子类父类中的同名成员<br>this.aaa();   // this 调用自己的方法<br>super.aaa();  // super 调用父类方法  </p>\n<h2 id=\"子类和子类型\"><a href=\"#子类和子类型\" class=\"headerlink\" title=\"子类和子类型\"></a>子类和子类型</h2><p>类定义了类型<br>子类定义了子类型  </p>\n<p>子类的对象可以被当作父类的对象来使用<br>-赋值给父类的变量（父类的对象管理者可以管理子类的对象）  </p>\n<div><img src=https://cdn.chuckle.top/images/7-3.webp width=\"70%\" height=\"70%\"></div>\n\n<p>-传递给需要父类对象的方法  </p>\n<p>-放进存放父类对象的容器里  </p>\n<div><img src=https://cdn.chuckle.top/images/7-4.webp width=\"70%\" height=\"70%\"></div>\n\n<div><img src=https://cdn.chuckle.top/images/7-5.webp width=\"35%\" height=\"35%\"></div>\n\n<hr>\n<h1 id=\"多态\"><a href=\"#多态\" class=\"headerlink\" title=\"多态\"></a>多态</h1><h2 id=\"多态变量\"><a href=\"#多态变量\" class=\"headerlink\" title=\"多态变量\"></a>多态变量</h2><p>所有的<strong>对象变量</strong>都是<strong>多态</strong>的（它们能保存不止一种类型的对象，不同时刻可以放不同类型的对象（例如父类的对象变量放子类的对象））<br>它们可以保存的是声明类型的对象，或声明类型的子类的对象  </p>\n<p>当把<strong>子类的对象</strong>赋给<strong>父类的变量</strong>的时候，就发生了<strong>向上造型</strong>  </p>\n<p>每一个java的对象变量，都具有两个类型<br>一个是<strong>声明类型</strong><br>一个是<strong>动态类型</strong><br>有时候两者是一致的，有时候又不一样  </p>\n<p>这就是变量的多态（在运行过程中，它所管理的对象类型是会变化的）  </p>\n<h2 id=\"造型\"><a href=\"#造型\" class=\"headerlink\" title=\"造型\"></a>造型</h2><p>造型：把一个类型的<strong>对象</strong>，赋给另一个类型的<strong>变量</strong></p>\n<p>对象变量的赋值并不是把一个对象赋给另一个对象（注在c++中可以做两个对象之间的赋值）<br>而是让这两个对象的管理者去<strong>管理同一个对象</strong><br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">//原本这个String类型的对象变量s管理着一个对象</span></span><br><span class=\"line\"><span class=\"comment\">//这个对象里面有个&quot;hello&quot;</span></span><br><span class=\"line\">s = <span class=\"string\">&quot;bye&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">//后来s去管理另一个对象，里面有&quot;bye&quot;</span></span><br></pre></td></tr></table></figure><br>并不是将bye替换掉hello，java不能做这种事  </p>\n<p>java中”=“的赋值运算，实际上是在改变指向<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">t</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;bye&quot;</span>;</span><br><span class=\"line\">s = t;</span><br><span class=\"line\"><span class=\"comment\">//原本s和t各管理一个对象，现在s和t管理同一个对象，里面有”hello“</span></span><br></pre></td></tr></table></figure><br>当给一个<strong>对象变量</strong>管理着与它声明（静态）类型<strong>不符</strong>的对象时，就发生了<strong>造型</strong><br><figure class=\"highlight java\"><figcaption><span>CD是Item的子类</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cd</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>);</span><br><span class=\"line\"><span class=\"type\">Item</span> <span class=\"variable\">item</span> <span class=\"operator\">=</span> cd;</span><br><span class=\"line\"><span class=\"comment\">//把子类的对象赋给父类的变量，让父类的对象变量去管理子类的对象</span></span><br></pre></td></tr></table></figure><br>父类对象是不能直接赋给子类对象变量的<br>但可以强制把父类对象当成子类的对象，然后去造型<br><figure class=\"highlight java\"><figcaption><span>CD是Item的子类</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cd</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>);</span><br><span class=\"line\"><span class=\"type\">Item</span> <span class=\"variable\">item</span> <span class=\"operator\">=</span> cd;</span><br><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cc</span> <span class=\"operator\">=</span> item;<span class=\"comment\">//不行。父类对象不能直接交给子类对象变量去管理</span></span><br><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cc</span> <span class=\"operator\">=</span> (CD)item;<span class=\"comment\">//行，因为item已经管理着一个CD的对象了</span></span><br><span class=\"line\"><span class=\"comment\">//强制把item的类型当做CD</span></span><br></pre></td></tr></table></figure><br>如果没有Item item = cd;<br><figure class=\"highlight java\"><figcaption><span>CD是Item的子类</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cd</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">//Item item = cd;</span></span><br><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cc</span> <span class=\"operator\">=</span> (CD)item;<span class=\"comment\">//编译可以通过，但运行会出错</span></span><br></pre></td></tr></table></figure><br>将一个变量强制造型成另一个类型，然后赋给另一个变量<br>CD cc = (CD)item;<br>只有当item这个变量<strong>实际管理</strong>着CD类型的对象才不会出错  </p>\n<p>在C语言中，有类似写法，但是是类型转换（对于基本类型int、double，java也能强制类型转换）<br>int i = (int)10.2;//强制类型转换<br>这与造型是不同的<br>类型转换是将10.2变成了10<br>但造型只是把item当做CD类型来看待<br>item本身还是Item类型  </p>\n<p>(类型名)对象名：将一个对象当做这个类型来看待  </p>\n<h3 id=\"向上造型\"><a href=\"#向上造型\" class=\"headerlink\" title=\"向上造型\"></a>向上造型</h3><p>向上造型是特殊的造型，无需写(父类类型)<br>拿一个子类的对象，当作父类的对象来用<br>向上造型总是安全的  </p>\n<h2 id=\"方法调用的绑定\"><a href=\"#方法调用的绑定\" class=\"headerlink\" title=\"方法调用的绑定\"></a>方法调用的绑定</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">list</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (Item item : listItem)&#123;</span><br><span class=\"line\">        item.print();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>item每次循环管理的对象不一样，甚至管理的对象的类型也不一样，可以是CD或是DVD<br>当item管理CD(DVD)类型的对象时，去调用print方法，调用的是CD(DVD)类型里的print  </p>\n<p>当通过对象变量调用方法的时候，调用哪个方法这件事情叫做绑定<br>-静态绑定：根据变量的声明类型来决定<br>-动态绑定：根据变量的动态类型来决定<br>在成员函数中调用其他成员函数也是通过this这个对象变量来调用的  </p>\n<p>java默认所有的绑定都是动态绑定  </p>\n<h3 id=\"覆盖\"><a href=\"#覆盖\" class=\"headerlink\" title=\"覆盖\"></a>覆盖</h3><p>子类和父类中存在<strong>名称和参数表</strong>完全相同的函数，这一对函数构成<strong>覆盖</strong>关系<br>通过父类的变量调用存在覆盖关系的函数时，调用变量当时所<strong>管理的对象</strong>所属的类的函数<br>这是一种动态绑定  </p>\n<h2 id=\"多态总结\"><a href=\"#多态总结\" class=\"headerlink\" title=\"多态总结\"></a>多态总结</h2><p>多态性是对象多种表现形式的体现  </p>\n<p>通过一个变量去调用一个函数，我们不去判断变量运行中实际类型是什么，我们只想它能print<br>多态是<strong>同一个行为</strong>具有多个<strong>不同表现形式或形态</strong>的能力<br>item是CD类型时它这样print，是DVD类型时那样print，但都是print行为  </p>\n<hr>\n<h1 id=\"类型系统\"><a href=\"#类型系统\" class=\"headerlink\" title=\"类型系统\"></a>类型系统</h1><h2 id=\"Object类\"><a href=\"#Object类\" class=\"headerlink\" title=\"Object类\"></a>Object类</h2><p>java中所有类都是Object类型的子类<br>这是一种单根结构  </p>\n<div><img src=https://cdn.chuckle.top/images/7-6.webp width=\"70%\" height=\"70%\"></div>\n\n<p>发生继承时，父类所有public的东西子类都会得到<br>所以java中所有的类，都从Object类中得到了两个函数<br>-toString()<br>-equals()  </p>\n<h2 id=\"toString-NaN\"><a href=\"#toString-NaN\" class=\"headerlink\" title=\"toString()\"></a>toString()</h2><p>toString()会返回一个字符串，用来表达对象  </p>\n<p>当一个类中没有toString()方法时，会调用继承自Object类的toString()<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cd</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>);</span><br><span class=\"line\">System.out.println(cd.toString());</span><br><span class=\"line\">System.out.println(cd);<span class=\"comment\">//和上面的效果一个月，编译器会知道这个地方需要调用toString()</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;aa&quot;</span>+cd;<span class=\"comment\">//编译器知道这个地方需要调用toString()</span></span><br><span class=\"line\">System.out.println(s);</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">CD@3d075dc0</span><br><span class=\"line\"><span class=\"comment\">//类型名+一个类似地址、编号的东西</span></span><br><span class=\"line\">CD@3d075dc0</span><br><span class=\"line\">aaCD@3d075dc0</span><br></pre></td></tr></table></figure><br>显然，默认的表达这个对象的toString(),是返回一个类型名+一个类似地址、编号的东西  </p>\n<p>我们可以在类中自定义一个toString()<br>即设计一个表达对象的toString()<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;CD&#123;&quot;</span> +</span><br><span class=\"line\">            <span class=\"string\">&quot;artist=&#x27;&quot;</span> + artist + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">            <span class=\"string\">&quot;, numofTracks=&quot;</span> + numofTracks +</span><br><span class=\"line\">            <span class=\"string\">&#x27;&#125;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">CD&#123;artist=<span class=\"string\">&#x27;aaa&#x27;</span>, numofTracks=<span class=\"number\">4</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"equals\"><a href=\"#equals\" class=\"headerlink\" title=\"equals()\"></a>equals()</h2><p>==<strong>无法</strong>比较两个对象的内容是否相同，只能比较这两个对象变量是否管理着同一个对象<br>我们需要使用equals()去比较内容  </p>\n<p>当类中没有equals()，会调用继承自Object类的equals()<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cd1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>);</span><br><span class=\"line\"><span class=\"type\">CD</span> <span class=\"variable\">cd2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CD</span>(<span class=\"string\">&quot;abc&quot;</span>,<span class=\"string\">&quot;aaa&quot;</span>,<span class=\"number\">4</span>,<span class=\"number\">60</span>,<span class=\"string\">&quot;bb&quot;</span>);</span><br><span class=\"line\">System.out.println(cd1.equals(cd2));</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">false</span></span><br></pre></td></tr></table></figure><br>Object这个公共父类的equals()无法知道它的子类长什么样子，所以也无法比较这两个对象内容是否相等<br>Object的equals()实际上也是在比较两个对象变量是否管理着同一个对象</p>\n<p>我们需要使用自定义的equals()去比较内容<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">equals</span><span class=\"params\">(Object o)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">CD</span> <span class=\"variable\">cc</span> <span class=\"operator\">=</span> (CD) o;<span class=\"comment\">//将Object o看作是CD类型的</span></span><br><span class=\"line\">    <span class=\"type\">return</span> <span class=\"variable\">numofTracks</span> <span class=\"operator\">=</span>= cc.numofTracks &amp;&amp; artist.equals(cc.artist);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Override\"><a href=\"#Override\" class=\"headerlink\" title=\"@Override\"></a>@Override</h2><p>作用：告诉编译器，这个函数覆盖了父类的同属性、同名、同参方法<br>也可能会在代码界面报错，如果这个函数没有和父类的同名方法有相同属性、参数</p>\n<p>不带@Override，如果自定义的equals()和父类的同属性、同名、同参<br>那么也会覆盖掉父类的，@Override只是起帮助检查作用  </p>\n<hr>\n<h1 id=\"可扩展性\"><a href=\"#可扩展性\" class=\"headerlink\" title=\"可扩展性\"></a>可扩展性</h1><p>现在要往Database这个资料库里增加新的媒体类型，是一件非常容易的事情<br><figure class=\"highlight java\"><figcaption><span>VideoGame.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">VideoGame</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Item</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> numberofPlayers;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">VideoGame</span><span class=\"params\">(String title, <span class=\"type\">int</span> playingTime, <span class=\"type\">boolean</span> gotIt, String comment, <span class=\"type\">int</span> numberofPlayers)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(title, playingTime, gotIt, comment);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.numberofPlayers = numberofPlayers;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">print</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;VideoGame:&quot;</span>);</span><br><span class=\"line\">        <span class=\"built_in\">super</span>.print();</span><br><span class=\"line\">        System.out.println(numberofPlayers);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<div><img src=https://cdn.chuckle.top/images/7-7.webp width=\"70%\" height=\"70%\"></div>\n\n<p>只需要增加一个子类，然后构造一下，覆盖下方法，父类完全不需要去动<br>这种特性叫<strong>可扩展性</strong>：代码无需修改即可扩展去适应新的数据、新的内容  </p>\n<p>如果需要修改去适应新的数据、新的内容，则叫<strong>可维护性</strong>  </p>\n<hr>\n<blockquote>\n<p>下接<a href=\"/article/9f2dc6c7.html\">JAVA/面向对象学习笔记(2)</a></p>\n</blockquote>\n","categories":["学习笔记"],"tags":["JAVA","JavaSE"]},{"title":"Butterfly魔改","url":"/article/ab2d75d5.html","content":"<h1 id=\"最新文章标志\"><a href=\"#最新文章标志\" class=\"headerlink\" title=\"最新文章标志\"></a>最新文章标志</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"给首页文章卡片加上最新文章标志\" href=\"/article/2ed7d622.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">给首页文章卡片加上最新文章标志</p><p class=\"url\">/article/2ed7d622.html</p></div></a></div><img src=https://cdn.chuckle.top/images/20-1.webp width=\"30%\" height=\"30%\"></p>\n<h1 id=\"首页第一个卡片加个class\"><a href=\"#首页第一个卡片加个class\" class=\"headerlink\" title=\"首页第一个卡片加个class\"></a>首页第一个卡片加个class</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"首页第一个卡片加个class\" href=\"/article/dbde845d.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">首页第一个卡片加个class</p><p class=\"url\">/article/dbde845d.html</p></div></a></div><img src=https://cdn.chuckle.top/images/21-1.webp width=\"40%\" height=\"40%\"></p>\n<h1 id=\"加载进度条\"><a href=\"#加载进度条\" class=\"headerlink\" title=\"加载进度条\"></a>加载进度条</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"一个加载进度条\" href=\"/article/13d6481a.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">一个加载进度条</p><p class=\"url\">/article/13d6481a.html</p></div></a></div><img src=https://cdn.chuckle.top/images/10-1.webp width=\"40%\" height=\"40%\"></p>\n<h1 id=\"控制单页背景样式\"><a href=\"#控制单页背景样式\" class=\"headerlink\" title=\"控制单页背景样式\"></a>控制单页背景样式</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"给指定单页加个class以控制其背景样式\" href=\"/article/eb3a4679.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">给指定单页加个class以控制其背景样式</p><p class=\"url\">/article/eb3a4679.html</p></div></a></div><img src=https://cdn.chuckle.top/images/22-1.webp width=\"40%\" height=\"40%\"></p>\n<h1 id=\"归档、分类、标签页文章卡片加上所属分类和标签\"><a href=\"#归档、分类、标签页文章卡片加上所属分类和标签\" class=\"headerlink\" title=\"归档、分类、标签页文章卡片加上所属分类和标签\"></a>归档、分类、标签页文章卡片加上所属分类和标签</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"给归档、分类、标签页文章卡片的标题下方加上所属分类和标签\" href=\"/article/a19bb7fb.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">给归档、分类、标签页文章卡片的标题下方加上所属分类和标签</p><p class=\"url\">/article/a19bb7fb.html</p></div></a></div><img src=https://cdn.chuckle.top/images/23-2.webp width=\"80%\" height=\"80%\"></p>\n<h1 id=\"添加音乐页面\"><a href=\"#添加音乐页面\" class=\"headerlink\" title=\"添加音乐页面\"></a>添加音乐页面</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"添加音乐页面\" href=\"/article/3322c8a8.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">添加音乐页面</p><p class=\"url\">/article/3322c8a8.html</p></div></a></div><img src=https://cdn.chuckle.top/images/24-1.webp width=\"40%\" height=\"40%\"></p>\n<h1 id=\"给网站增加悬浮伸缩侧边栏\"><a href=\"#给网站增加悬浮伸缩侧边栏\" class=\"headerlink\" title=\"给网站增加悬浮伸缩侧边栏\"></a>给网站增加悬浮伸缩侧边栏</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"给网站增加悬浮伸缩侧边栏\" href=\"/article/fab5c3df.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">给网站增加悬浮伸缩侧边栏</p><p class=\"url\">/article/fab5c3df.html</p></div></a></div><img src=https://cdn.chuckle.top/images/25-1.webp width=\"40%\" height=\"40%\"></p>\n<h1 id=\"老旧浏览器弹窗提醒\"><a href=\"#老旧浏览器弹窗提醒\" class=\"headerlink\" title=\"老旧浏览器弹窗提醒\"></a>老旧浏览器弹窗提醒</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"老旧浏览器弹窗提醒\" href=\"/article/e61f6567.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">老旧浏览器弹窗提醒</p><p class=\"url\">/article/e61f6567.html</p></div></a></div><img src=https://cdn.chuckle.top/images/29-1.webp width=\"50%\" height=\"50%\"></p>\n<h1 id=\"使用MiniSandbox前端代码可视化\"><a href=\"#使用MiniSandbox前端代码可视化\" class=\"headerlink\" title=\"使用MiniSandbox前端代码可视化\"></a>使用MiniSandbox前端代码可视化</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"使用MiniSandbox前端代码可视化\" href=\"/article/b827db53.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">使用MiniSandbox前端代码可视化</p><p class=\"url\">/article/b827db53.html</p></div></a></div><img src=https://cdn.chuckle.top/images/30-3.webp width=\"50%\"></p>\n<h1 id=\"BF添加输入页数跳转\"><a href=\"#BF添加输入页数跳转\" class=\"headerlink\" title=\"BF添加输入页数跳转\"></a>BF添加输入页数跳转</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"BF添加输入页数跳转\" href=\"/article/8e0b4c43.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">BF添加输入页数跳转</p><p class=\"url\">/article/8e0b4c43.html</p></div></a></div><img src=https://cdn.chuckle.top/images/34-2.webp width=\"50%\" height=\"50%\"></p>\n<h1 id=\"给文章添加自定义文本锚点\"><a href=\"#给文章添加自定义文本锚点\" class=\"headerlink\" title=\"给文章添加自定义文本锚点\"></a>给文章添加自定义文本锚点</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"给文章添加自定义文本锚点\" href=\"/article/6f237a88.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">给文章添加自定义文本锚点</p><p class=\"url\">/article/6f237a88.html</p></div></a></div><img src=https://cdn.chuckle.top/images/36-2.gif width=\"70%\"></p>\n<h1 id=\"页面链接二维码-扫一扫-卡片\"><a href=\"#页面链接二维码-扫一扫-卡片\" class=\"headerlink\" title=\"页面链接二维码(扫一扫)卡片\"></a>页面链接二维码(扫一扫)卡片</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"页面链接二维码(扫一扫)卡片\" href=\"/article/59995f0e.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">页面链接二维码(扫一扫)卡片</p><p class=\"url\">/article/59995f0e.html</p></div></a></div><img src=https://cdn.chuckle.top/images/37-4.gif width=\"40%\"></p>\n<h1 id=\"网站添加点赞、踩功能\"><a href=\"#网站添加点赞、踩功能\" class=\"headerlink\" title=\"网站添加点赞、踩功能\"></a>网站添加点赞、踩功能</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"网站添加点赞、踩功能\" href=\"/article/5de26c08.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">网站添加点赞、踩功能</p><p class=\"url\">/article/5de26c08.html</p></div></a></div><img src=https://cdn.chuckle.top/images/39-3.webp width=\"70%\"></p>\n<h1 id=\"博客添加待办清单页\"><a href=\"#博客添加待办清单页\" class=\"headerlink\" title=\"博客添加待办清单页\"></a>博客添加待办清单页</h1><p><div class=\"tag link\"><a class=\"link-card\" title=\"博客添加待办清单页\" href=\"/article/9875347c.html\"><div class=\"left\"><img src=\"https://cdn.chuckle.top/img/head.webp\"/></div><div class=\"right\"><p class=\"text\">博客添加待办清单页</p><p class=\"url\">/article/9875347c.html</p></div></a></div><img src=/images/40-1.webp width=\"60%\"></p>\n<hr>\n<blockquote>\n<p>咕咕咕~~</p>\n</blockquote>\n<hr>\n","categories":["Hexo"],"tags":["Butterfly","Hexo"]},{"title":"JAVA/面向对象学习笔记(3)","url":"/article/8636f786.html","content":"<blockquote>\n<p>所看教程（视频）：《浙江大学-翁恺-Java-面向对象程序设计》<br>作为我自己的复习笔记，也可以当做该视频的同步笔记<br>上接<a href=\"/article/9f2dc6c7.html\">JAVA/面向对象学习笔记(2)</a></p>\n</blockquote>\n<h1 id=\"Swing\"><a href=\"#Swing\" class=\"headerlink\" title=\"Swing\"></a>Swing</h1><p><strong>Swing</strong>是一个为Java设计的GUI工具包，是java的基础类（import javax.swing.<em>;）<br>在Swing中，所有我们在界面中看到的东西都是<em>*部件</em></em>（组件）  </p>\n<p>其中容器是一种特殊的部件<br>部件可以被放进容器中，当然容器也能放进容器中  </p>\n<p>Swing提供了一个底层容器类JFrame，即整个窗口<br><figure class=\"highlight java\"><figcaption><span>JFrame中常用的方法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//创建一个无标题的窗口</span></span><br><span class=\"line\">JFrame()</span><br><span class=\"line\"><span class=\"comment\">//创建标题为s的窗口</span></span><br><span class=\"line\">JFrame(String s)</span><br><span class=\"line\"><span class=\"comment\">//设置窗口的初始位置是(a,b),即距屏幕左面a个像素，距屏幕上方b个像素，窗口的宽是width,高是height。</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setBounds</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> width,<span class=\"type\">int</span> height)</span></span><br><span class=\"line\"><span class=\"comment\">//设置窗口的大小。</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setSize</span><span class=\"params\">(<span class=\"type\">int</span> width,<span class=\"type\">int</span> height)</span></span><br><span class=\"line\"><span class=\"comment\">//设置窗口的位置，默认位置是(0,0)。</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setLocation</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span></span><br><span class=\"line\"><span class=\"comment\">//设置窗口是否可见，窗口默认是不可见的。</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setVisible</span><span class=\"params\">(<span class=\"type\">boolean</span> b)</span></span><br><span class=\"line\"><span class=\"comment\">//设置窗口是否可调整大小，默认可调整大小。public voiddispose()撤销当前窗口，并释放当前窗口所使用的资源。</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setResizable</span><span class=\"params\">(<span class=\"type\">boolean</span> b)</span></span><br><span class=\"line\"><span class=\"comment\">//撤销当前窗口，并释放当前窗口所使用的全部资源</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dispose</span><span class=\"params\">()</span></span><br><span class=\"line\"><span class=\"comment\">//设置窗口的扩展状态</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setExtendedState</span><span class=\"params\">(<span class=\"type\">int</span> state)</span></span><br><span class=\"line\"><span class=\"comment\">//其中参数state取JFrame类中的下列类常量:</span></span><br><span class=\"line\">MAXIMIZED_HORIZ (水平方向最大化)，</span><br><span class=\"line\">MAXIMIZED_VERT (垂直方向最大化)，</span><br><span class=\"line\">MAXIMIZED_BOTH (水平、垂直方向都最大化)。</span><br><span class=\"line\"><span class=\"comment\">//该方法用来设置单击窗体右上角的关闭图标后，程序会做出怎样的处理，</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setDefaultCloseOperation</span><span class=\"params\">(<span class=\"type\">int</span> operation)</span></span><br><span class=\"line\"><span class=\"comment\">//其中的参数operation取JFrame类中的下列int型static常量，程序根据参数operation取值做出不同的处理:</span></span><br><span class=\"line\">DO_NOTHING_ON_CLOSE(什么也不做)，</span><br><span class=\"line\">HIDE_ON_CLOSE (隐藏当前窗口)，</span><br><span class=\"line\">DISPOSE_ON_CLOSE (隐藏当前窗口，并释放窗体占有的其他资源)，</span><br><span class=\"line\">EXIT_ON_CLOSE (结束窗口所在的应用程序)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"add\"><a href=\"#add\" class=\"headerlink\" title=\"add\"></a>add</h2><p>通过add把一个部件加到一个容器中<br>部件被加到容器后，就受这个容器所管理<br>容器管理部件的方式叫<strong>布局管理器</strong><br>JFrame默认采用的布局管理器叫<strong>BorderLayout</strong>,默认把部件放到CENTER<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">theView = <span class=\"keyword\">new</span> <span class=\"title class_\">View</span>(theField);<span class=\"comment\">//theView是一个容器</span></span><br><span class=\"line\"><span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();<span class=\"comment\">//创建一个底层容器</span></span><br><span class=\"line\">frame.add(theView);<span class=\"comment\">//把theView容器加到底层容器中。默认为中间</span></span><br><span class=\"line\"><span class=\"type\">JButton</span> <span class=\"variable\">btnstep</span> <span class=\"operator\">=</span><span class=\"keyword\">new</span> <span class=\"title class_\">JButton</span>(<span class=\"string\">&quot;单步&quot;</span>);<span class=\"comment\">//btnstep是一个按钮部件</span></span><br><span class=\"line\">frame.add(btnstep, BorderLayout.SOUTH);<span class=\"comment\">//把btnstep部件加到底层容器中，且放到南边（窗口最下面）</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"BorderLayout\"><a href=\"#BorderLayout\" class=\"headerlink\" title=\"BorderLayout\"></a>BorderLayout</h2><p>BorderLayout把整个容器划分为五个部分  </p>\n<div><img src=https://cdn.chuckle.top/images/7-13.webp width=\"60%\" height=\"60%\"></div>\n\n<p>后面放进去的部件会替换掉相同位置的部件（这就是为什么之前界面中只剩下一个按钮了）<br>当有部分没有部件时，其他部分会膨胀，将那个位置所占据  </p>\n<p>BorderLayout会根据部件里面的东西来帮我们计算，这个部件需要占据多大的空间 </p>\n<h2 id=\"消息机制\"><a href=\"#消息机制\" class=\"headerlink\" title=\"消息机制\"></a>消息机制</h2><p>现在我们有了一个按下去没反应的按钮<br>如何让按钮按下去有反应？程序如何知道按钮被按下去了？<br>用户在图形界面做了一些操作，通过一些路径让程序知道，这个路径叫做<strong>消息机制</strong>  </p>\n<p>Java的Swing类实现了一个有意思的消息机制<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">JButton</span> <span class=\"variable\">btnstep</span> <span class=\"operator\">=</span><span class=\"keyword\">new</span> <span class=\"title class_\">JButton</span>(<span class=\"string\">&quot;单步&quot;</span>);</span><br><span class=\"line\">frame.add(btnstep, BorderLayout.SOUTH);</span><br><span class=\"line\">btnstep.addActionListener(<span class=\"keyword\">new</span> <span class=\"title class_\">ActionListener</span>()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">actionPerformed</span><span class=\"params\">(ActionEvent e)</span> &#123;</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">&quot;成功按下!&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><br>运行一下，当我们点击一次按钮，控制台都会输出一次“成功按下!”</p>\n<p>现在程序已经知道按钮被按下，且在上面的古怪代码中能成功做一些我们期望程序做的事（输出点东西）<br>我们可以把输出点东西换成其它事情，在狐狸和兔子中，step()函数控制单步<br>我们只需要做下面一些动作，就能让按钮控制单步<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> JFrame frame;<span class=\"comment\">//把frame从FoxAndRabbit()中拿出来，让它变为FoxAndRabbit类中的成员变量</span></span><br><span class=\"line\">···</span><br><span class=\"line\"><span class=\"comment\">//JFrame frame = new JFrame();</span></span><br><span class=\"line\">frame = <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();</span><br><span class=\"line\">···</span><br><span class=\"line\">btnstep.addActionListener(<span class=\"keyword\">new</span> <span class=\"title class_\">ActionListener</span>()&#123;</span><br><span class=\"line\">    <span class=\"comment\">//实现了ActionListener这个接口的匿名类</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">actionPerformed</span><span class=\"params\">(ActionEvent e)</span> &#123;</span><br><span class=\"line\">\t\tstep();</span><br><span class=\"line\">        frame.repaint();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">···</span><br><span class=\"line\"><span class=\"comment\">//fab.start(500);把main里的这句去掉，不让程序主动地开始</span></span><br></pre></td></tr></table></figure><br>现在每按一次按钮，程序就会运行一步  </p>\n<p>按钮自己有代码，知道自己被按下去了，但按钮作为一个早已经定好的类不可能有代码去调用step()<br>但实际效果就是，每按一次按钮，step()就会被调用一次，这是怎么做到的？  </p>\n<div><img src=https://cdn.chuckle.top/images/7-14.webp width=\"90%\" height=\"90%\"></div>\n\n<p>JButton类提供了一个接口，只要实现了这个接口的类的对象，都可以通过<strong>addActionListener()</strong>方法<strong>注册</strong>给JButton，当按钮发现自己被按下去了，就会检查有没有东西注册在按钮那，接着找到重写的<strong>actionPerformed()</strong>，这样JButton就知道step()了<br>注册进去的东西，是运行时候一个动态的对象  </p>\n<p>这就是<strong>反转控制</strong>（Swing的消息机制）：<br>·由按钮公布一个守听者接口和一对注册/注销函数<br>·你的代码实现那个接口，将守听者对象注册在按钮上<br>·一旦按钮被按下，就会反过来调用你的守听者对象的某个函数   </p>\n<h2 id=\"内部类、匿名类\"><a href=\"#内部类、匿名类\" class=\"headerlink\" title=\"内部类、匿名类\"></a>内部类、匿名类</h2><p>刚刚实现接口的代码看起来十分奇怪<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">btnstep.addActionListener(<span class=\"keyword\">new</span> <span class=\"title class_\">ActionListener</span>()&#123;</span><br><span class=\"line\">    <span class=\"comment\">//实现了ActionListener这个接口的匿名类</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">actionPerformed</span><span class=\"params\">(ActionEvent e)</span> &#123;</span><br><span class=\"line\">\t\tstep();</span><br><span class=\"line\">        frame.repaint();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><br>可以换种写法<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//在类中新增这个类</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">class</span> <span class=\"title class_\">stepListener</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">ActionListener</span> &#123;</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">actionPerformed</span><span class=\"params\">(ActionEvent e)</span> &#123;</span><br><span class=\"line\">\t\tstep();</span><br><span class=\"line\">\t\tframe.repaint();\t\t\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">···</span><br><span class=\"line\"><span class=\"comment\">//原来的代码替换为这句</span></span><br><span class=\"line\">btnstep.addActionListener(<span class=\"keyword\">new</span> <span class=\"title class_\">stepListener</span>());</span><br></pre></td></tr></table></figure><br>在一个类的内部，再定义一个类，这个类就叫<strong>内部类</strong><br>内部类可以<strong>直接访问</strong>其所处类的<strong>所有</strong>成员<br>java的内部类也是类的成员<br>外部是函数时，只能访问那个函数里<strong>final</strong>的变量   </p>\n<p>用匿名类实现接口<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">ActionListener</span>()&#123;</span><br><span class=\"line\">    <span class=\"comment\">//实现了ActionListener这个接口的匿名类</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">actionPerformed</span><span class=\"params\">(ActionEvent e)</span> &#123;</span><br><span class=\"line\">\t\tstep();</span><br><span class=\"line\">        frame.repaint();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>在<strong>new对象</strong>的时候给出的<strong>类的定义</strong>形成了匿名类<br>匿名类可以<strong>继承某类</strong>，也可以<strong>实现某接口</strong><br>Swingl的消息机制广泛使用匿名类<br>外部是函数时，只能访问那个函数里<strong>final</strong>的变量  </p>\n<p>为什么需要匿名类？<br>Swing的消息机制决定了，每个部件发出的消息，都需要新的类去实现接口，然后去接收消息，当部件很多时，给每个类起名字非常麻烦   </p>\n<hr>\n<h1 id=\"一个课程表\"><a href=\"#一个课程表\" class=\"headerlink\" title=\"一个课程表\"></a>一个课程表</h1><p>做一个课程表程序，它有8行7列，有表头表示7天，每个格子用户能自己编辑内容<br>效果是这样：  </p>\n<div><img src=https://cdn.chuckle.top/images/7-15.webp width=\"60%\" height=\"60%\"></div>\n\n<p>有前面Swing的基础，我们知道想要有一个窗口，需要用到JFrame类，来创建一个底层窗口<br><figure class=\"highlight java\"><figcaption><span>KCB.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> kcb;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">KCB</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();<span class=\"comment\">//声明一个窗口</span></span><br><span class=\"line\">        frame.pack();<span class=\"comment\">//自动调整窗口大小</span></span><br><span class=\"line\">        frame.setVisible(<span class=\"literal\">true</span>);<span class=\"comment\">//显示窗口</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>现在运行，只有一个空空的窗口，一个空空的容器，我们需要往里面放部件<br>想要一个表格，那就放一个表格进去<br><figure class=\"highlight java\"><figcaption><span>KCB.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> kcb;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">KCB</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();<span class=\"comment\">//声明一个窗口</span></span><br><span class=\"line\">\t\t<span class=\"type\">JTable</span> <span class=\"variable\">table</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JTable</span>());<span class=\"comment\">//声明一个表格</span></span><br><span class=\"line\">        frame.add(table);<span class=\"comment\">//把表格放进去</span></span><br><span class=\"line\">        frame.pack();<span class=\"comment\">//自动调整窗口大小</span></span><br><span class=\"line\">        frame.setVisible(<span class=\"literal\">true</span>);<span class=\"comment\">//显示窗口</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>运行一下，还是啥都没有，因为我们还没初始化表格，还没给表格它要的数据  </p>\n<p>用JTable类可以以表格的形式显示和编辑数据。<br>JTable类的对象并不存储数据，它只是数据的表现。<br>JTable实现了数据与表现的分离  </p>\n<p>新建一个KCBData类，作为表格的数据<br>让这个类实现一个叫TableModel的接口<br><figure class=\"highlight java\"><figcaption><span>KCBData.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> kcb;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.event.TableModelListener;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.table.TableModel;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">KCBData</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">TableModel</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getRowCount</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getColumnCount</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getColumnName</span><span class=\"params\">(<span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Class&lt;?&gt; getColumnClass(<span class=\"type\">int</span> columnIndex) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isCellEditable</span><span class=\"params\">(<span class=\"type\">int</span> rowIndex, <span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Object <span class=\"title function_\">getValueAt</span><span class=\"params\">(<span class=\"type\">int</span> rowIndex, <span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setValueAt</span><span class=\"params\">(Object aValue, <span class=\"type\">int</span> rowIndex, <span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addTableModelListener</span><span class=\"params\">(TableModelListener l)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">removeTableModelListener</span><span class=\"params\">(TableModelListener l)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>TableModel接口是由JTable提供给我们的<br>TableModel告诉我们，只要实现了它，就能作为数据交给JTable  </p>\n<p>完善一下KCBData<br><figure class=\"highlight java\"><figcaption><span>KCBData.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> kcb;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.event.TableModelListener;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.table.TableModel;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">KCBData</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">TableModel</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String[] title = &#123;<span class=\"string\">&quot;周一&quot;</span>, <span class=\"string\">&quot;周二&quot;</span>, <span class=\"string\">&quot;周三&quot;</span>, <span class=\"string\">&quot;周四&quot;</span>, <span class=\"string\">&quot;周五&quot;</span>, <span class=\"string\">&quot;周六&quot;</span>, <span class=\"string\">&quot;周日&quot;</span>&#125;;<span class=\"comment\">//表格标题</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String[][] data = <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>[<span class=\"number\">8</span>][<span class=\"number\">7</span>];<span class=\"comment\">//真正放7天8节课的数据结构</span></span><br><span class=\"line\">    <span class=\"comment\">//这个data数组里面都是String类型的管理者，所以需要初始化每个管理者去管理一个String类型的空数据</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">KCBData</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//构造方法,初始化数据,每一行的数据都是空的,即没有数据,这样才能显示表格,否则会报错</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; data.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class=\"line\">                data[i][j] = <span class=\"string\">&quot;&quot;</span>;<span class=\"comment\">//让每一个单元格都是空的</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getRowCount</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">8</span>;<span class=\"comment\">//表格有8行</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getColumnCount</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">7</span>;<span class=\"comment\">//表格有7列</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getColumnName</span><span class=\"params\">(<span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> title[columnIndex];<span class=\"comment\">//返回一个表头</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Class&lt;?&gt; getColumnClass(<span class=\"type\">int</span> columnIndex) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> String.class;<span class=\"comment\">//告诉表格每列的数据类型,每一个都是String类型</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isCellEditable</span><span class=\"params\">(<span class=\"type\">int</span> rowIndex, <span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;<span class=\"comment\">//每个单元格都可以编辑</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Object <span class=\"title function_\">getValueAt</span><span class=\"params\">(<span class=\"type\">int</span> rowIndex, <span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> data[rowIndex][columnIndex];<span class=\"comment\">//将每一个单元格的数据返回，让表格拿到</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setValueAt</span><span class=\"params\">(Object aValue, <span class=\"type\">int</span> rowIndex, <span class=\"type\">int</span> columnIndex)</span> &#123;</span><br><span class=\"line\">        data[rowIndex][columnIndex] = (String) aValue;<span class=\"comment\">//将每一个单元格的数据设置为aValue,即用户输入的数据</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addTableModelListener</span><span class=\"params\">(TableModelListener l)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//添加监听器</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">removeTableModelListener</span><span class=\"params\">(TableModelListener l)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//移除监听器</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>现在表格能拿到数据了，它知道该怎么画一个表格<br>但运行一下，还是没有表头  </p>\n<p>这是因为JTable组件显示数据时，如果直接将其放置在Frame的contentPane中则表头一行会显示不出来，如果将其放置在JScrollPane中显示数据的话，表头会自动显示出来。<br>暂时无需关心为什么  </p>\n<p>再完善下KCB类，一个课程表就完成了<br><figure class=\"highlight java\"><figcaption><span>KCB.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> kcb;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">KCB</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();<span class=\"comment\">//声明一个窗口</span></span><br><span class=\"line\">        <span class=\"type\">JTable</span> <span class=\"variable\">table</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JTable</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">KCBData</span>());<span class=\"comment\">//声明一个表格</span></span><br><span class=\"line\">        <span class=\"type\">JScrollPane</span> <span class=\"variable\">pane</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JScrollPane</span>(table);<span class=\"comment\">//声明一个滚动面板</span></span><br><span class=\"line\">        frame.add(pane);<span class=\"comment\">//将滚动面板添加到窗口</span></span><br><span class=\"line\">        frame.pack();<span class=\"comment\">//自动调整窗口大小</span></span><br><span class=\"line\">        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<span class=\"comment\">//设置窗口关闭方式</span></span><br><span class=\"line\">        frame.setVisible(<span class=\"literal\">true</span>);<span class=\"comment\">//显示窗口</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"MVC设计模式\"><a href=\"#MVC设计模式\" class=\"headerlink\" title=\"MVC设计模式\"></a>MVC设计模式</h2><p>刚刚的课程表结构是这样的  </p>\n<div><img src=https://cdn.chuckle.top/images/7-16.webp width=\"85%\" height=\"85%\"></div>\n\n<p>当JTable决定显示多少列时会调用getColumnCount，当它要显示表头时会调用getColumnName<br>程序运行过程中JTable反过来调用我们自己的KCBData里的方法  </p>\n<p>数据由我们自己实现了TableModel的对象来维护，JTable只管表现不管数据  </p>\n<p><strong>MVC</strong>:数据、表现和控制三者分离，各负其责<br>·M=Model（模型)<br>·V=View(表现)<br>·C=Control(控制)  </p>\n<p>模型：保存和维护数据，提供接口让外部修改数据，通知表现需要刷新<br>表现：从模型获得数据，根据数据画出表现<br>控制：从用户得到输入，根据输入调整数据  </p>\n<div><img src=https://cdn.chuckle.top/images/7-17.webp width=\"85%\" height=\"85%\"></div>\n\n<p>不是由接收到用户输入的代码去修改界面上的显示，而是去修改内部的数据，内部的数据去触发界面的更新  </p>\n<p>这样做的好处：每一部分都很单纯，尤其是View表现，只管拿到想要的数据去表现，至于数据是怎么更新，怎么生成的，它统统不管  </p>\n<p>在代码实现中，View和Control通常在同个表达界面的类中实现，因为表现和用户控制都是在界面中完成的，这和MVC并不矛盾，只是在具体实现MVC模式时的技巧  </p>\n<hr>\n<h1 id=\"Exception异常\"><a href=\"#Exception异常\" class=\"headerlink\" title=\"Exception异常\"></a>Exception异常</h1><p>异常是程序中的一些错误，但并不是所有的错误都是异常，并且错误有时候是可以避免的。<br>比如说，你的代码少了一个分号，那么运行出来结果是提示是错误 java.lang.Error；如果你用System.out.println(11/0)，那么你是因为你用0做了除数，会抛出 java.lang.ArithmeticException 的异常。  </p>\n<p>写出下面的程序，idea的编辑器不会指出数组越界的错误，但运行程序控制台会抛出异常<br><figure class=\"highlight java\"><figcaption><span>ArrayIndex.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        a[<span class=\"number\">10</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight java\"><figcaption><span>异常</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">Exception in thread <span class=\"string\">&quot;main&quot;</span> java.lang.ArrayIndexOutOfBoundsException: Index <span class=\"number\">10</span> out of bounds <span class=\"keyword\">for</span> length <span class=\"number\">10</span></span><br><span class=\"line\">\tat ArrayIndex.main(ArrayIndex.java:<span class=\"number\">4</span>)</span><br></pre></td></tr></table></figure>\n<p>在main里面有Exception异常，问题出在在ArrayIndex的第四行，问题叫做ArrayIndexOutOfBoundsException，即数组越界  </p>\n<h2 id=\"两种类型的异常与错误\"><a href=\"#两种类型的异常与错误\" class=\"headerlink\" title=\"两种类型的异常与错误\"></a>两种类型的异常与错误</h2><p>检查性异常：最具代表的检查性异常是用户错误或问题引起的异常，这是程序员无法预见的。例如要打开一个不存在文件时，一个异常就发生了，这些异常在编译时不能被简单地忽略。<br>运行时异常： 运行时异常是可能被程序员避免的异常。与检查性异常相反，运行时异常可以在编译时被忽略。<br>错误： 错误不是异常，而是脱离程序员控制的问题。错误在代码中通常被忽略。例如，当栈溢出时，一个错误就发生了，它们在编译也检查不到的。  </p>\n<p>异常和错误的区别：异常能被程序本身可以处理，错误是无法处理。  </p>\n<h2 id=\"捕获异常\"><a href=\"#捕获异常\" class=\"headerlink\" title=\"捕获异常\"></a>捕获异常</h2><p>当代码某一处可能出现问题、可能出现异常，就可以将这块代码放在一个用于捕捉异常的代码块中<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   <span class=\"comment\">// 可能出现异常的程序代码</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(ExceptionName e1)<span class=\"comment\">//可以多个catch</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   <span class=\"comment\">//处理异常的代码</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(ExceptionName e2)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   <span class=\"comment\">//处理异常的代码</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//无论是否发生异常，finally 代码块中的代码总会被执行。</span></span><br><span class=\"line\">  <span class=\"comment\">// 程序代码</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>使用 try 和 catch 关键字可以捕获异常。try/catch 代码块放在异常可能发生的地方。try/catch代码块中的代码称为保护代码  </p>\n<p>Catch 语句包含要捕获异常类型的声明。当保护代码块中发生一个异常时，try 后面的 catch 块就会被检查。<br>如果发生的异常包含在 catch 块中，异常会被传递到该 catch 块，这和传递一个参数到方法是一样.  </p>\n<p>将刚刚数组越界的代码用捕捉异常处理<br><figure class=\"highlight java\"><figcaption><span>ArrayIndex.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        a[<span class=\"number\">10</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>运行一下<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">error</span><br></pre></td></tr></table></figure></p>\n<p>异常是程序运行过程中可能出现的问题，现在这个代码是一定会出错的，我们改造一下<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">idx</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        idx = in.nextInt();</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            a[idx] = <span class=\"number\">10</span>;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"number\">2</span></span><br><span class=\"line\">hello</span><br><span class=\"line\">输入：<span class=\"number\">12</span></span><br><span class=\"line\">error</span><br></pre></td></tr></table></figure>\n<h2 id=\"异常处理机制\"><a href=\"#异常处理机制\" class=\"headerlink\" title=\"异常处理机制\"></a>异常处理机制</h2><p>把可能发出异常的代码放到try里，在try后面用catch去匹配可能出现的异常类型。<br>当try里的代码没有异常，catch里的代码不会被运行，当try里的代码出现异常，try里后续的代码都不会被执行，会直接调到catch里，在catch里处理完异常，会继续往下运行整个程序，而不会回到try。<br>当匹配到一个catch之后，异常就已经被处理完了，不会再去匹配另一个异常。  </p>\n<p>运行下面的代码<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        a[<span class=\"number\">10</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            f();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;main&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">error</span><br><span class=\"line\">main</span><br></pre></td></tr></table></figure><br>当给数组赋值出现异常后，f方法后面的代码都不会被执行，然后回到调用f方法的地方，try会捕捉到f方法的异常，然后传递给catch  </p>\n<p>当有异常被抛出时，可以遵循下面的图来判断该在哪个地方处理这个异常  </p>\n<div><img src=https://cdn.chuckle.top/images/7-18.webp width=\"92%\" height=\"92%\"></div>\n\n<figure class=\"highlight java\"><figcaption><span>示例</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        a[<span class=\"number\">10</span>] = <span class=\"number\">10</span>;<span class=\"comment\">//抛出ArrayIndexOutOfBoundsException异常</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;hello&quot;</span>);<span class=\"comment\">//异常后面的代码不会被执行</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">g</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        f();<span class=\"comment\">//f方法抛出异常，异常没有try捕捉，所处是函数，返回调用者</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">h</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i &lt; <span class=\"number\">100</span>)&#123;</span><br><span class=\"line\">            g();<span class=\"comment\">//所处不是函数，跳出一层</span></span><br><span class=\"line\">        &#125;<span class=\"comment\">//异常没有try捕捉，所处是函数，返回调用者</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">k</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            h();<span class=\"comment\">//有try捕捉异常</span></span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(NullPointerException e)&#123;<span class=\"comment\">//没有对应catch匹配，退出到外层</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;k error&quot;</span>);</span><br><span class=\"line\">        &#125;<span class=\"comment\">//所处是函数</span></span><br><span class=\"line\">        <span class=\"comment\">//返回调用者</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            k();<span class=\"comment\">//有try捕捉异常</span></span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;<span class=\"comment\">//有对应catch匹配</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);<span class=\"comment\">//处理异常</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;main&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">error</span><br><span class=\"line\">main</span><br></pre></td></tr></table></figure>\n<h2 id=\"Java-内置异常类\"><a href=\"#Java-内置异常类\" class=\"headerlink\" title=\"Java 内置异常类\"></a>Java 内置异常类</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>异常</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ArithmeticException</td>\n<td>当出现异常的运算条件时，抛出此异常。例如，一个整数”除以零”时，抛出此类的一个实例</td>\n</tr>\n<tr>\n<td>ArrayIndexOutOfBoundsException</td>\n<td>用非法索引访问数组时抛出的异常。如果索引为负或大于等于数组大小，则该索引为非法索引</td>\n</tr>\n<tr>\n<td>ArrayStoreException</td>\n<td>试图将错误类型的对象存储到一个对象数组时抛出的异常</td>\n</tr>\n<tr>\n<td>ClassCastException</td>\n<td>当试图将对象强制转换为不是实例的子类时，抛出该异常</td>\n</tr>\n<tr>\n<td>IllegalArgumentException</td>\n<td>抛出的异常表明向方法传递了一个不合法或不正确的参数</td>\n</tr>\n<tr>\n<td>IllegalMonitorStateException</td>\n<td>抛出的异常表明某一线程已经试图等待对象的监视器，或者试图通知其他正在等待对象的监视器而本身没有指定监视器的线程</td>\n</tr>\n<tr>\n<td>IllegalStateException</td>\n<td>在非法或不适当的时间调用方法时产生的信号。换句话说，即 Java 环境或 Java 应用程序没有处于请求操作所要求的适当状态下</td>\n</tr>\n<tr>\n<td>IllegalThreadStateException</td>\n<td>线程没有处于请求操作所要求的适当状态时抛出的异常</td>\n</tr>\n<tr>\n<td>IndexOutOfBoundsException</td>\n<td>指示某排序索引（例如对数组、字符串或向量的排序）超出范围时抛出</td>\n</tr>\n<tr>\n<td>NegativeArraySizeException</td>\n<td>如果应用程序试图创建大小为负的数组，则抛出该异常</td>\n</tr>\n<tr>\n<td>NullPointerException</td>\n<td>当应用程序试图在需要对象的地方使用 null 时，抛出该异常</td>\n</tr>\n<tr>\n<td>NumberFormatException</td>\n<td>当应用程序试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常</td>\n</tr>\n<tr>\n<td>SecurityException</td>\n<td>由安全管理器抛出的异常，指示存在安全侵犯</td>\n</tr>\n<tr>\n<td>StringIndexOutOfBoundsException</td>\n<td>此异常由 String 方法抛出，指示索引或者为负，或者超出字符串的大小</td>\n</tr>\n<tr>\n<td>UnsupportedOperationException</td>\n<td>当不支持请求的操作时，抛出该异常</td>\n</tr>\n<tr>\n<td>下面是Java 定义在 java.lang 包中的检查性异常类：</td>\n<td></td>\n</tr>\n<tr>\n<td>ClassNotFoundException</td>\n<td>应用程序试图加载类时，找不到相应的类，抛出该异常</td>\n</tr>\n<tr>\n<td>CloneNotSupportedException</td>\n<td>当调用 Object 类中的 clone 方法克隆对象，但该对象的类无法实现 Cloneable 接口时，抛出该异常</td>\n</tr>\n<tr>\n<td>IllegalAccessException</td>\n<td>拒绝访问一个类的时候，抛出该异常</td>\n</tr>\n<tr>\n<td>InstantiationException</td>\n<td>当试图使用 Class 类中的 newInstance 方法创建一个类的实例，而指定的类对象因为是一个接口或是一个抽象类而无法实例化时，抛出该异常</td>\n</tr>\n<tr>\n<td>InterruptedException</td>\n<td>一个线程被另一个线程中断，抛出该异常</td>\n</tr>\n<tr>\n<td>NoSuchFieldException</td>\n<td>请求的变量不存在</td>\n</tr>\n<tr>\n<td>NoSuchMethodException</td>\n<td>请求的方法不存在</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"异常方法\"><a href=\"#异常方法\" class=\"headerlink\" title=\"异常方法\"></a>异常方法</h2><p>当catch匹配到了异常，实际上是拿到了一个异常类型的对象，我们可以让对象做事情<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">a</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            a[<span class=\"number\">10</span>] = <span class=\"number\">20</span>;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">            System.out.println(e.getMessage());</span><br><span class=\"line\">            System.out.println();</span><br><span class=\"line\">            System.out.println(e);</span><br><span class=\"line\">            System.out.println();</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">error</span><br><span class=\"line\">Index <span class=\"number\">10</span> out of bounds <span class=\"keyword\">for</span> length <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\">java.lang.ArrayIndexOutOfBoundsException: Index <span class=\"number\">10</span> out of bounds <span class=\"keyword\">for</span> length <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\">java.lang.ArrayIndexOutOfBoundsException: Index <span class=\"number\">10</span> out of bounds <span class=\"keyword\">for</span> length <span class=\"number\">10</span></span><br><span class=\"line\">\tat a.main(a.java:<span class=\"number\">5</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>异常方法</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>String getMessage()</td>\n<td>返回关于发生的异常的详细信息。这个消息在Throwable 类的构造函数中初始化了</td>\n</tr>\n<tr>\n<td>Throwable getCause()</td>\n<td>返回一个 Throwable 对象代表异常原因</td>\n</tr>\n<tr>\n<td>String toString()</td>\n<td>返回此 Throwable 的简短描述</td>\n</tr>\n<tr>\n<td>void printStackTrace()</td>\n<td>将此 Throwable 及其回溯打印到标准错误流</td>\n</tr>\n<tr>\n<td>StackTraceElement [] getStackTrace()</td>\n<td>返回一个包含堆栈层次的数组。下标为0的元素代表栈顶，最后一个元素代表方法调用堆栈的栈底</td>\n</tr>\n<tr>\n<td>Throwable fillInStackTrace()</td>\n<td>用当前的调用栈层次填充Throwable 对象栈层次，添加到栈层次任何先前信息中</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"throw再度抛出\"><a href=\"#throw再度抛出\" class=\"headerlink\" title=\"throw再度抛出\"></a>throw再度抛出</h2><p>当一个异常已经被处理了，将不会再次被捕捉<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">k</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">            a[<span class=\"number\">10</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;<span class=\"comment\">//k中已经处理了异常</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;k error&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            k();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;<span class=\"comment\">//不会再次处理</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;main&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">k error</span><br><span class=\"line\">main</span><br></pre></td></tr></table></figure><br>但可以通过throw主动地再次抛出这个异常<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ArrayIndex</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">k</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span>[] a = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">            a[<span class=\"number\">10</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;k error&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> e;<span class=\"comment\">//捕捉到后在此抛出该异常</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            k();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;main&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">k error</span><br><span class=\"line\">error</span><br><span class=\"line\">main</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"为什么要异常机制\"><a href=\"#为什么要异常机制\" class=\"headerlink\" title=\"为什么要异常机制\"></a>为什么要异常机制</h2><p>我们希望程序能够根据运行过程中可能出现的各种情况进行处理<br>早期，函数都有特定的返回值，通过函数内很多的if-else来判断返回什么，以返回值来做相应处理  </p>\n<p>函数内出现很多与功能无关的if-else，会导致函数可读性很差，而且不利于增加新的功能<br>异常机制将业务逻辑与异常处理在代码上分开<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//业务逻辑都放在一起</span></span><br><span class=\"line\">    open the file;</span><br><span class=\"line\">    determine its size;</span><br><span class=\"line\">    allocate that much memory;</span><br><span class=\"line\">    read the file into memory;</span><br><span class=\"line\">    close the file;</span><br><span class=\"line\">    <span class=\"comment\">//如果上面的业务逻辑出了问题，就用下面的catch去处理对应的问题</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(fileOpenFailed)&#123;</span><br><span class=\"line\">    doSomething;</span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(sizeDeterminationFailed)&#123;</span><br><span class=\"line\">    doSomething;</span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(memoryAllocationFailed )&#123;</span><br><span class=\"line\">    doSomething;</span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(readFailed )&#123;</span><br><span class=\"line\">    doSomething;</span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(fileCloseFailed )&#123;</span><br><span class=\"line\">    doSomething;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>异常机制最大的好处就是清晰地分开了正常的业务逻辑代码和遇到情况时的处理代码  </p>\n<h2 id=\"异常的抛出和声明\"><a href=\"#异常的抛出和声明\" class=\"headerlink\" title=\"异常的抛出和声明\"></a>异常的抛出和声明</h2><p>在Java中可以自定义异常。<br>1、所有异常都必须是 Throwable 的子类。<br>2、如果希望写一个检查性异常类，则需要继承 Exception 类。<br>3、如果你想写一个运行时异常类，那么需要继承 RuntimeException 类。<br>RuntimeException继承自Exception  </p>\n<figure class=\"highlight java\"><figcaption><span>声明一个异常类型</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Exception</span>&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>声明一个可能会抛出异常的方法</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException&#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyException</span>();<span class=\"comment\">//抛出一个MyException异常</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>所有调用这个方法的地方都必须套上try-catch，来处理可能发生的异常<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        f();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">catch</span>(MyException e)&#123;<span class=\"comment\">//必须catch该方法会抛出的异常类型</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>可以声明并不会真的抛出的异常,但调用该方法的地方必须处理全部可能抛出的异常<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException,YouException&#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyException</span>();<span class=\"comment\">//抛出一个MyException异常</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        f();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">catch</span>(MyException e)&#123;<span class=\"comment\">//必须catch该方法会抛出的异常类型</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;MyError&quot;</span>);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">catch</span>(YouException e)&#123;<span class=\"comment\">//必须catch该方法会抛出的异常类型</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;YouError&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>任何继承了Throwable类的对象都可以被throw<br>Exception类继承了Throwable，我们通常让自定义的异常类从Exception类得到继承  </p>\n<figure class=\"highlight java\"><figcaption><span>Exception类的两种构造</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//我们在自定义异常类时也通常会有这两种构造</span></span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>();  </span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(<span class=\"string\">&quot;HELP&quot;</span>);<span class=\"comment\">//可以用这个字符串来表达一些东西  </span></span><br></pre></td></tr></table></figure>\n<h2 id=\"catch的匹配机制\"><a href=\"#catch的匹配机制\" class=\"headerlink\" title=\"catch的匹配机制\"></a>catch的匹配机制</h2><p>抛出子类的异常会被捕捉父类异常的catch给捉到<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//声明两个异常类，YouException继承自MyException</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Exception</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">YouException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">MyException</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Test</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException, YouException &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">YouException</span>();<span class=\"comment\">//抛出一个YouException异常</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">YouException</span>();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span>(MyException e)&#123;<span class=\"comment\">//MyException匹配到了它的子类YouException</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;YouException&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>如果同时捕捉父类子类两个异常，子类catch要写在父类前面，否则会报错<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">YouException</span>();</span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(YouException e)&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;YouException&quot;</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span>(MyException e)&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;YouException&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>捕捉任何异常<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">catch</span>(Exception e)&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"运行时刻异常\"><a href=\"#运行时刻异常\" class=\"headerlink\" title=\"运行时刻异常\"></a>运行时刻异常</h3><p>像ArrayIndexOutOfBoundsException这样java本身提供的异常是不需要声明的，如果需要去声明这些异常，那么每个方法都将带上一长串的声明<br>但是如果没有适当的机制来捕捉，就会最终导致程序终止  </p>\n<h2 id=\"异常遇到继承\"><a href=\"#异常遇到继承\" class=\"headerlink\" title=\"异常遇到继承\"></a>异常遇到继承</h2><p>当覆盖一个方法的时候，子类不能声明抛出比父类的版本更多的异常<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Exception</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">YouException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">MyException</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NewException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Exception</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Test</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NewClass</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Test</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//NewClass&#x27;中的f()&#x27;与&#x27; Test&#x27;中的&#x27;f()&#x27;冲突；重写的方法未抛出NewException&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> NewException &#123;&#125;</span><br><span class=\"line\">    <span class=\"comment\">//正确的</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> YouException &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException &#123;&#125; </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">f</span><span class=\"params\">()</span> &#123;&#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>在子类的构造方法中，必须声明父类可能抛出的全部异常，可以抛出更多异常,可以是父类抛出异常的父类异常<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Exception</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">YouException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">MyException</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NewException</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Exception</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Test</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Test</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> YouException&#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NewClass</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Test</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//允许</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">NewClass</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> YouException&#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">NewClass</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException&#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">NewClass</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MyException,NewException&#123;&#125;</span><br><span class=\"line\">    <span class=\"comment\">//不允许</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">NewClass</span><span class=\"params\">()</span>&#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">NewClass</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> NewException&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"Stream流\"><a href=\"#Stream流\" class=\"headerlink\" title=\"Stream流\"></a>Stream流</h1><p>任何程序都有输入输出，会向用户那读点东西，也会向用户那输出点东西<br>所以，任何一个编程语言都给程序员提供了输入输出的方式，让这个程序可以和外界打交道  </p>\n<p>对于java语言，以及之后的新语言，处理输入输出的手段叫做<strong>流</strong>  </p>\n<p>流是一个抽象、动态的概念，是一连串连续动态的数据集合。<br>流给数据源和程序之间提供了数据信息传输的通道，编程语言提供了多种流用于数据传输  </p>\n<h2 id=\"Hallo-World\"><a href=\"#Hallo-World\" class=\"headerlink\" title=\"Hallo World\"></a>Hallo World</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> IOException &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Hello World!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这个程序就用到了输出流，把Hallo World输出给用户看<br><strong>System</strong>是一个类，<strong>out</strong>是这个类的一个静态成员，<strong>println</strong>是这个成员能做的事情<br>实际上，<strong>out</strong>这个成员就是用于做输出的流  </p>\n<h2 id=\"流的基础\"><a href=\"#流的基础\" class=\"headerlink\" title=\"流的基础\"></a>流的基础</h2><p>在java的基础类库中，所有的输出都基于<strong>OutputStream</strong>类，所有的输入都基于<strong>InputStream</strong>类，这两个类构成了输入和输出的基础  </p>\n<p>但这两个类是抽象的，具体使用时应该用它们的子类<br>在这里可以看到java系统类库中所有的包<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/index.html\">Java®平台、标准版和Java开发工具包第18版API规范</a><br>在其中的java.base中有<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/package-summary.html\">java.io</a>，这里面有java输入输出所有相关的东西<br>在里面可以找到<strong>InputStream</strong>和<strong>OutputStream</strong>类，当然这里面还有很多的类，以及其它的东西  </p>\n<p>点击InputStream，可以看到这个类的描述，以及它所有的方法  </p>\n<div><img src=https://cdn.chuckle.top/images/7-19.webp width=\"100%\" height=\"100%\"></div>\n\n<p><strong>InputStream</strong>把外界的输入当做<strong>字节</strong>的流来看待，<strong>OutputStream</strong>也同理，当我们使用这两个类，只能做字节层面上的读和写  </p>\n<p>尝试一下：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Hello World!&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"title class_\">byte</span>[<span class=\"number\">1024</span>];<span class=\"comment\">//一个1k字节的butter</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;<span class=\"comment\">//让系统读取输入流，并将读取到的内容存储到buffer中，返回读取到的字节数</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;<span class=\"comment\">//所有io的操作都存在风险，所以要捕获异常</span></span><br><span class=\"line\">            len = System.in.read(buffer);</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>(buffer, <span class=\"number\">0</span>, len);<span class=\"comment\">//将buffer中从0开始到len的这么多个字节构造一个字符串</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;读到了：&quot;</span>+len+<span class=\"string\">&quot;字节&quot;</span>);<span class=\"comment\">//输出读取到的字节数</span></span><br><span class=\"line\">            System.out.println(s);<span class=\"comment\">//输出字符串</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;s的长度：&quot;</span>+s.length());<span class=\"comment\">//输出字符串有多少个字符</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">Hello World!</span><br><span class=\"line\">输入:123abc</span><br><span class=\"line\">读到了：<span class=\"number\">7</span>字节</span><br><span class=\"line\">123abc</span><br><span class=\"line\"></span><br><span class=\"line\">s的长度：<span class=\"number\">7</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>123abc是6个字节，但后面还有个回车，所以读到7个字节，且输出s时，把回车也输出了  </p>\n<p>换个输入：<br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">Hello World!</span><br><span class=\"line\">输入：<span class=\"number\">123</span>汉字abc</span><br><span class=\"line\">读到了：<span class=\"number\">13</span>字节</span><br><span class=\"line\"><span class=\"number\">123</span>汉字abc</span><br><span class=\"line\"></span><br><span class=\"line\">s的长度：<span class=\"number\">9</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>在UTF-8编码中,一个中文字符等于三个字节，所以一共读到13个字节  </p>\n<h2 id=\"文件流\"><a href=\"#文件流\" class=\"headerlink\" title=\"文件流\"></a>文件流</h2><p><strong>System.in</strong>和<strong>System.in</strong>是标准输入和标准输出的流<br>如果想要直接写文件，就需要使用到<strong>文件流</strong>：<strong>FileInputStream</strong>、<strong>FileOutputStream</strong>  </p>\n<p>实际工程中已经较少直接对文件进行读写（除了在造轮子）<br>更常用的是以在内存数据或通信数据上建立的流，如数据库的二进制数据读写或网络端口通信<br>具体的文件读写往往有更专业的类，比如配置文件和日志文件  </p>\n<p>尝试一下<strong>FileOutputStream</strong>：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">test</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>  &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Hello World!&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">byte</span>[] buf = <span class=\"keyword\">new</span> <span class=\"title class_\">byte</span>[<span class=\"number\">10</span>];<span class=\"comment\">//10个字节的数组</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;buf.length; i++)&#123;</span><br><span class=\"line\">            buf[i] = (<span class=\"type\">byte</span>)i;<span class=\"comment\">//让buf中的每个元素都是i，而且是byte类型</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">FileOutputStream</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">FileOutputStream</span>(<span class=\"string\">&quot;a.dat&quot;</span>);<span class=\"comment\">//如果文件不存在，则创建，存在则覆盖</span></span><br><span class=\"line\">            out.write(buf);<span class=\"comment\">//将buf中的数据写入文件</span></span><br><span class=\"line\">            out.close();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>用<strong>Hexdump</strong>打开这个16进制文件<br><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">  Offset: 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F \t</span><br><span class=\"line\">00000000: 00 01 02 03 04 05 06 07 08 09                      ..........</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>1到9都已经被写入  </p>\n<h2 id=\"流过滤器\"><a href=\"#流过滤器\" class=\"headerlink\" title=\"流过滤器\"></a>流过滤器</h2><p>无论是System.in和out还是文件流，都只能处理单个字节，一个个字节地读，一个个字节地写<br>如果要把一个10进制地整数写入到一个文件中，就要同时读写4个字节，显然前面介绍的流无法做到  </p>\n<p><strong>流过滤器</strong>可以在已存在的流的基础上，去增加一层层的过滤器，每一层的过滤器都可以做点事情，其中一些过滤器就可以做int、double这些基础类型数据的读和写  </p>\n<p>尝试一下：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.BufferedOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.DataOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">test</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>  &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Hello World!&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">byte</span>[] buf = <span class=\"keyword\">new</span> <span class=\"title class_\">byte</span>[<span class=\"number\">10</span>];<span class=\"comment\">//10个字节的数组</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;buf.length; i++)&#123;</span><br><span class=\"line\">            buf[i] = (<span class=\"type\">byte</span>)i;<span class=\"comment\">//让buf中的每个元素都是i，而且是byte类型</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">DataOutputStream</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">DataOutputStream</span>(</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">BufferedOutputStream</span>(<span class=\"comment\">//缓冲输出流</span></span><br><span class=\"line\">                            <span class=\"keyword\">new</span> <span class=\"title class_\">FileOutputStream</span>(<span class=\"string\">&quot;a.dat&quot;</span>)));</span><br><span class=\"line\">            <span class=\"comment\">//打开这个文件之后，在上面接了一个缓冲流，缓冲流外面还有一个流，最终得到的是一个DataOutputStream的对象</span></span><br><span class=\"line\">            <span class=\"comment\">//我们可以往DataOutputStream这个流里面写入数据，数据会被缓冲到缓冲流里面，缓冲流里面的数据会被写入到文件里面</span></span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0xcafebabe</span>;</span><br><span class=\"line\">            out.writeInt(i);<span class=\"comment\">//写入一个int类型的数据,DataOutputStream流的writeInt方法可以写入一个int类型的数据</span></span><br><span class=\"line\">            out.close();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">  Offset: <span class=\"number\">00</span> <span class=\"number\">01</span> <span class=\"number\">02</span> <span class=\"number\">03</span> <span class=\"number\">04</span> <span class=\"number\">05</span> <span class=\"number\">06</span> <span class=\"number\">07</span> 08 09 0A 0B 0C <span class=\"number\">0D</span> 0E <span class=\"number\">0F</span> \t</span><br><span class=\"line\"><span class=\"number\">00000000</span>: CA FE BA BE                                        J~:&gt;</span><br></pre></td></tr></table></figure><br>0xcafebabe这个16进制数已经被写入<br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">Hello World!</span><br><span class=\"line\">-<span class=\"number\">889275714</span></span><br></pre></td></tr></table></figure><br>0xcafebabe这个16进制的数对应的10进制数是-889275714  </p>\n<p>每一层过滤器都可以起到一定的作用，在上面的程序中，BufferedOutputStream起到了缓冲垫作用，DataOutputStream起到了读写基本数据类型的作用  </p>\n<h2 id=\"文本的输入和输出\"><a href=\"#文本的输入和输出\" class=\"headerlink\" title=\"文本的输入和输出\"></a>文本的输入和输出</h2><p>加上了DataOutputStream也只能以二进制处理基本数据类型，如何处理文本？  </p>\n<p>二进制数据采用InputStream/OutputStream<br>文本数据采用Reader/Writer  </p>\n<p>但Reader/Writer本身是处理Unicode编码的字符的，如果文件是Unicode编码，可以直接用Reader/Writer处理文件，但一般情况下，文件本身并不是Unicode编码，它可能是GBK，可能是UTF-8<br>在这种情况下，我们需要借助Stream，用字节形式打开文件，再在Stream流的基础上，用过滤器的方式去建立Reader/Writer ，来做文本的输入和输出，<strong>StreamReader</strong>可以将字节流转换为字符流，然后交给Reader/Writer，当然中间可以加上Buffered实现缓冲  </p>\n<p>尝试一下：<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">test</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>  &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Hello World!&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">byte</span>[] buf = <span class=\"keyword\">new</span> <span class=\"title class_\">byte</span>[<span class=\"number\">10</span>];<span class=\"comment\">//10个字节的数组</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;buf.length; i++)&#123;</span><br><span class=\"line\">            buf[i] = (<span class=\"type\">byte</span>)i;<span class=\"comment\">//让buf中的每个元素都是i，而且是byte类型</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">PrintWriter</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">PrintWriter</span>(<span class=\"comment\">//创建一个输出流,PrintWriter可以通过连接BufferedWriter实现的缓冲功能</span></span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">BufferedWriter</span>(<span class=\"comment\">//创建一个缓冲流</span></span><br><span class=\"line\">                            <span class=\"keyword\">new</span> <span class=\"title class_\">OutputStreamWriter</span>(<span class=\"comment\">//将字节流转换为字符流</span></span><br><span class=\"line\">                                <span class=\"keyword\">new</span> <span class=\"title class_\">FileOutputStream</span>(<span class=\"string\">&quot;a.txt&quot;</span>))));<span class=\"comment\">//创建一个文件输出流</span></span><br><span class=\"line\">            <span class=\"comment\">//我们做了一个文件流，但它只能处理字节</span></span><br><span class=\"line\">            <span class=\"comment\">// 在此基础上再做一个桥梁：OutputStreamWriter</span></span><br><span class=\"line\">            <span class=\"comment\">// 它构建起了Stream和Writer的桥梁，它的输入是OutputStream，输出是Writer</span></span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">123456</span>;</span><br><span class=\"line\">            out.println(i);<span class=\"comment\">//在PrintWriter的基础上，我们可以用println方法来输出数据</span></span><br><span class=\"line\">            out.close();</span><br><span class=\"line\">            <span class=\"comment\">//和上面输出一样，如果要读取一个文件，我们需要做一个桥梁：InputStreamReader</span></span><br><span class=\"line\">            <span class=\"comment\">//它构建起了Stream和Reader的桥梁，它的输入是InputStream，输出是Reader</span></span><br><span class=\"line\">            <span class=\"type\">BufferedReader</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BufferedReader</span>(<span class=\"comment\">// BufferedReader类从字符输入流中读取文本并缓冲字符</span></span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">InputStreamReader</span>(<span class=\"comment\">//将字节流转换为字符流</span></span><br><span class=\"line\">                        <span class=\"keyword\">new</span> <span class=\"title class_\">FileInputStream</span>(<span class=\"string\">&quot;src/test.java&quot;</span>)));<span class=\"comment\">//创建一个文件输入流，打开这个程序的源码文件</span></span><br><span class=\"line\">            <span class=\"comment\">//readLine()方法从字符输入流中读取一行，并返回该行。</span></span><br><span class=\"line\">            String line;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> ((line = in.readLine()) != <span class=\"literal\">null</span>)&#123;<span class=\"comment\">//当读取到的行不为空时，执行循环，就可以读取整个文件</span></span><br><span class=\"line\">                System.out.println(line);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>运行：在a.tet文件中有123456字符,控制台也将这整个源码输出了出来  </p>\n<p>除了BufferedReader，还有LineNumberReader，里面的getLineNumber()可以读取指定的行  </p>\n<p><strong>FileReader</strong>是InputStreamReader类的子类，所有方法都从父类中继承而来，它可以直接读取一个二进制文件，建立起一个流，然后形成一个Reader<br>FileReader(File file)在给定从中读取数据的Fe的情况下创建一个新FileReader<br>FileReader(String fileName)在给定从中读取数据的文件名的情况下创建一个新FileReader<br>FileReader不能指定编码转换方式  </p>\n<h2 id=\"汉字编码问题\"><a href=\"#汉字编码问题\" class=\"headerlink\" title=\"汉字编码问题\"></a>汉字编码问题</h2><p>FileOutputStream(“a.txt”)可以以二进制形式打开一个文件<br>OutputStreamWriter(FileOutputStream(“a.txt”))将字节流转换为字符流,如果不指定编码，那么它优先使用程序源码文件的编码去转换这个字节流为字符流，这就很容易导致汉字乱码  </p>\n<p>我们可以指定编码进行转换OutputStreamWriter(FileOutputStream(“a.txt”),”utf8”)<br>用utf8去将这个字节流转换成字符流 </p>\n<p>当然还有其它方法，这里不展开讲</p>\n<h2 id=\"格式化输入输出\"><a href=\"#格式化输入输出\" class=\"headerlink\" title=\"格式化输入输出\"></a>格式化输入输出</h2><p>格式化输出：使用printf(“格式”, );用法和C语言的基本一样，这里不展开讲，博主同样有篇C语言学习笔记  </p>\n<p>格式化输入：如果想从一个文本中读取出一些数字，可以在流上构建一个Scanner，然后用next系列的方法去读取数字、单词等等  </p>\n<h2 id=\"Stream-Reader-Scanner的选择\"><a href=\"#Stream-Reader-Scanner的选择\" class=\"headerlink\" title=\"Stream/Reader/Scanner的选择\"></a>Stream/Reader/Scanner的选择</h2><div><img src=https://cdn.chuckle.top/images/7-20.webp width=\"92%\" height=\"92%\"></div>\n\n<h2 id=\"流的应用\"><a href=\"#流的应用\" class=\"headerlink\" title=\"流的应用\"></a>流的应用</h2><p>现在已经很少有程序需要用流的方式去打开一个文件，裸地去进行文件读和写的操作，更多地是从某个地方得到了一个流  </p>\n<h3 id=\"服务器通信\"><a href=\"#服务器通信\" class=\"headerlink\" title=\"服务器通信\"></a>服务器通信</h3><p>下面这个程序将从本地服务器得到一个流，并向这个流写入东西<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">socket</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">Socket</span> <span class=\"variable\">socket</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Socket</span>(InetAddress.getByName(<span class=\"string\">&quot;localhost&quot;</span>), <span class=\"number\">12345</span>);<span class=\"comment\">//创建一个Socket对象，指定服务器地址和端口号</span></span><br><span class=\"line\">            <span class=\"type\">PrintWriter</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">PrintWriter</span>(</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">BufferedWriter</span>(</span><br><span class=\"line\">                            <span class=\"keyword\">new</span> <span class=\"title class_\">OutputStreamWriter</span>(</span><br><span class=\"line\">                                    <span class=\"comment\">//getOutputStream()方法获取Socket对象的输出流，并构造一个BufferedWriter对象</span></span><br><span class=\"line\">                                    socket.getOutputStream())));<span class=\"comment\">//创建一个PrintWriter对象，用于向服务器发送信息</span></span><br><span class=\"line\">            out.println(<span class=\"string\">&quot;Hello, world!&quot;</span>);<span class=\"comment\">//向服务器发送一行文本</span></span><br><span class=\"line\">            out.close();<span class=\"comment\">//关闭PrintWriter对象</span></span><br><span class=\"line\">            socket.close();<span class=\"comment\">//关闭Socket对象</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>当然，直接运行这个程序一定报错，因为本地没有任何服务器程序在12345端口上听着，连接建立不起来  </p>\n<p>使用netcat可以实现监听<br>从<a href=\"https://eternallybored.org/misc/netcat/\">netcat</a>下载netcat1.12<br>解压后把nc.exe移动到C:\\Windows\\System32目录，压缩包内其它东西用不上<br>然后打开cmd，运行nc -l -p -12345</p>\n<p>现在再运行程序，cmd窗口就会输出Hello, world!  </p>\n<p>还可以接收服务端的数据<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">socket</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">Socket</span> <span class=\"variable\">socket</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Socket</span>(InetAddress.getByName(<span class=\"string\">&quot;localhost&quot;</span>), <span class=\"number\">12345</span>);<span class=\"comment\">//创建一个Socket对象，指定服务器地址和端口号</span></span><br><span class=\"line\">            <span class=\"type\">PrintWriter</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">PrintWriter</span>(</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">BufferedWriter</span>(</span><br><span class=\"line\">                            <span class=\"keyword\">new</span> <span class=\"title class_\">OutputStreamWriter</span>(</span><br><span class=\"line\">                                    <span class=\"comment\">//getOutputStream()方法获取Socket对象的输出流，并构造一个BufferedWriter对象</span></span><br><span class=\"line\">                                    socket.getOutputStream())));<span class=\"comment\">//创建一个PrintWriter对象，用于向服务器发送信息</span></span><br><span class=\"line\">            out.println(<span class=\"string\">&quot;Hello, world!&quot;</span>);<span class=\"comment\">//向服务器发送一行文本</span></span><br><span class=\"line\">            out.flush();<span class=\"comment\">//刷新缓冲区，将缓冲区中的数据立即发送出去</span></span><br><span class=\"line\">            <span class=\"type\">BufferedReader</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BufferedReader</span>(</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">InputStreamReader</span>(</span><br><span class=\"line\">                            <span class=\"comment\">//getInputStream()方法获取Socket对象的输入流，并构造一个BufferedReader对象</span></span><br><span class=\"line\">                            socket.getInputStream()));<span class=\"comment\">//创建一个BufferedReader对象，用于接收服务器端的信息</span></span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">line</span> <span class=\"operator\">=</span> in.readLine();<span class=\"comment\">//读取服务器端的一行文本</span></span><br><span class=\"line\">            System.out.println(line);<span class=\"comment\">//输出读取的文本</span></span><br><span class=\"line\">            out.close();<span class=\"comment\">//关闭PrintWriter对象</span></span><br><span class=\"line\">            socket.close();<span class=\"comment\">//关闭Socket对象</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>在cmd窗口输入任意文本，idea的控制台也会输出这个文本  </p>\n<h3 id=\"对象串行化\"><a href=\"#对象串行化\" class=\"headerlink\" title=\"对象串行化\"></a>对象串行化</h3><p>写入和读取一个对象，使用ObjectOutputStream和ObjectInputStream，被读写的类要实现Serializable接口<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileNotFoundException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.Serializable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Student</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Serializable</span> &#123;<span class=\"comment\">//可以串行化的类</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> grade;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Student</span><span class=\"params\">(String name, <span class=\"type\">int</span> age, <span class=\"type\">int</span> grade)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.age = age;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.grade = grade;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;Student: &quot;</span> + name + <span class=\"string\">&quot; &quot;</span> + age+ <span class=\"string\">&quot; &quot;</span> + grade;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">chh</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">Student</span> <span class=\"variable\">s1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>(<span class=\"string\">&quot;zhangsan&quot;</span>, <span class=\"number\">20</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"type\">ObjectOutputStream</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectOutputStream</span>(</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">FileOutputStream</span>(<span class=\"string\">&quot;obj.dat&quot;</span>));</span><br><span class=\"line\">            out.writeObject(s1);</span><br><span class=\"line\">            out.close();</span><br><span class=\"line\">            <span class=\"type\">ObjectInputStream</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectInputStream</span>(</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> <span class=\"title class_\">FileInputStream</span>(<span class=\"string\">&quot;obj.dat&quot;</span>));</span><br><span class=\"line\">            <span class=\"type\">Student</span> <span class=\"variable\">s2</span> <span class=\"operator\">=</span> (Student) in.readObject();</span><br><span class=\"line\">            System.out.println(s2);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException | ClassNotFoundException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>obj.bat</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">  Offset: <span class=\"number\">00</span> <span class=\"number\">01</span> <span class=\"number\">02</span> <span class=\"number\">03</span> <span class=\"number\">04</span> <span class=\"number\">05</span> <span class=\"number\">06</span> <span class=\"number\">07</span> 08 09 0A 0B 0C <span class=\"number\">0D</span> 0E <span class=\"number\">0F</span> \t</span><br><span class=\"line\"><span class=\"number\">00000000</span>: AC ED <span class=\"number\">00</span> <span class=\"number\">05</span> <span class=\"number\">73</span> <span class=\"number\">72</span> <span class=\"number\">00</span> <span class=\"number\">07</span> <span class=\"number\">53</span> <span class=\"number\">74</span> <span class=\"number\">75</span> <span class=\"number\">64</span> <span class=\"number\">65</span> 6E <span class=\"number\">74</span> <span class=\"number\">98</span>    ,m..sr..Student.</span><br><span class=\"line\"><span class=\"number\">00000010</span>: <span class=\"number\">61</span> <span class=\"number\">28</span> <span class=\"number\">66</span> C5 BE <span class=\"number\">55</span> BC <span class=\"number\">02</span> <span class=\"number\">00</span> <span class=\"number\">03</span> <span class=\"number\">49</span> <span class=\"number\">00</span> <span class=\"number\">03</span> <span class=\"number\">61</span> <span class=\"number\">67</span> <span class=\"number\">65</span>    a(fE&gt;U&lt;...I..age</span><br><span class=\"line\"><span class=\"number\">00000020</span>: <span class=\"number\">49</span> <span class=\"number\">00</span> <span class=\"number\">05</span> <span class=\"number\">67</span> <span class=\"number\">72</span> <span class=\"number\">61</span> <span class=\"number\">64</span> <span class=\"number\">65</span> 4C <span class=\"number\">00</span> <span class=\"number\">04</span> 6E <span class=\"number\">61</span> <span class=\"number\">6D</span> <span class=\"number\">65</span> <span class=\"number\">74</span>    I..gradeL..namet</span><br><span class=\"line\"><span class=\"number\">00000030</span>: <span class=\"number\">00</span> <span class=\"number\">12</span> 4C 6A <span class=\"number\">61</span> <span class=\"number\">76</span> <span class=\"number\">61</span> <span class=\"number\">2F</span> 6C <span class=\"number\">61</span> 6E <span class=\"number\">67</span> <span class=\"number\">2F</span> <span class=\"number\">53</span> <span class=\"number\">74</span> <span class=\"number\">72</span>    ..Ljava/lang/Str</span><br><span class=\"line\"><span class=\"number\">00000040</span>: <span class=\"number\">69</span> 6E <span class=\"number\">67</span> 3B <span class=\"number\">78</span> <span class=\"number\">70</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">14</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">01</span> <span class=\"number\">74</span> <span class=\"number\">00</span>    ing;xp........t.</span><br><span class=\"line\"><span class=\"number\">00000050</span>: 08 7A <span class=\"number\">68</span> <span class=\"number\">61</span> 6E <span class=\"number\">67</span> <span class=\"number\">73</span> <span class=\"number\">61</span> 6E                         .zhangsan</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">Student: zhangsan <span class=\"number\">20</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<blockquote>\n<p>完结撒花！<br>javase的学习暂且告一段落，但学习的步伐永不停歇<br>翁恺老师讲的课循序渐进，简洁明了，好评，但课程上只学到流，刚步入javase的高级部分<br>后面还有一个重要部分：线程<br>过段时间实操一个java的管理系统（万物起源管理系统），暂且咕咕咕吧</p>\n</blockquote>\n","categories":["学习笔记"],"tags":["JAVA","JavaSE"]},{"title":"基于UptimeRobot的监控面板","url":"/article/8f1fedc5.html","content":"<blockquote>\n<p>演示：<a href=\"https://status.chuckle.top/\">轻笑的网站监控面板</a></p>\n</blockquote>\n<h1 id=\"注册UptimeRobot\"><a href=\"#注册UptimeRobot\" class=\"headerlink\" title=\"注册UptimeRobot\"></a>注册UptimeRobot</h1><p>填写邮箱以完成注册  </p>\n<blockquote>\n<p><a href=\"https://uptimerobot.com/signUp?ref=website-header\">跳转至注册</a></p>\n</blockquote>\n<h1 id=\"新建监视器\"><a href=\"#新建监视器\" class=\"headerlink\" title=\"新建监视器\"></a>新建监视器</h1><p>点击左上角Add New Monitor  </p>\n<div><img src=https://cdn.chuckle.top/images/9-1.webp width=\"70%\" height=\"70%\"></div>\n\n<p>在弹出窗口填写需要需要监控的站点的相关信息  </p>\n<div><img src=https://cdn.chuckle.top/images/9-2.webp width=\"70%\" height=\"70%\"></div>\n\n<p>点击Create Monitor完成创建   </p>\n<h1 id=\"创建API密钥\"><a href=\"#创建API密钥\" class=\"headerlink\" title=\"创建API密钥\"></a>创建API密钥</h1><p>点击My Settings</p>\n<div><img src=https://cdn.chuckle.top/images/9-3.webp width=\"70%\" height=\"70%\"></div>\n为监视器创建一个api密钥（也可选择第三个，为所有监视器创建一个密钥）  \n<div><img src=https://cdn.chuckle.top/images/9-4.webp width=\"70%\" height=\"70%\"></div>\n\n<h1 id=\"fork监控面板仓库\"><a href=\"#fork监控面板仓库\" class=\"headerlink\" title=\"fork监控面板仓库\"></a>fork监控面板仓库</h1><p>选择其中一个fork<br><a href=\"https://github.com/yb/uptime-status\">yb/uptime-status</a><br><a href=\"https://github.com/Ice-Hazymoon/status\">Ice-Hazymoon/status</a>  </p>\n<h1 id=\"修改config-js\"><a href=\"#修改config-js\" class=\"headerlink\" title=\"修改config.js\"></a>修改config.js</h1><p>进入刚fork的仓库，打开/public/config.js<br>添加监视器的api密钥  </p>\n<blockquote>\n<p>需要监控的站点较多，也可为所有监控器创建一个api密钥填入</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">ApiKeys: [</span><br><span class=\"line\">   &#x27;在这里粘贴api密钥&#x27;,</span><br><span class=\"line\"> ],</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>还可以选择在ApiDomain修改自定义反代域名，详见<a href=\"https://github.com/yb/uptime-status/\">https://github.com/yb/uptime-status/</a></p>\n</blockquote>\n<h1 id=\"vercel部署\"><a href=\"#vercel部署\" class=\"headerlink\" title=\"vercel部署\"></a>vercel部署</h1><p>新建一个项目<br>import监控面板仓库<br>等待几分钟创建完成，点击vist，一个监控面板就完成了  </p>\n<div><img src=https://cdn.chuckle.top/images/9-5.webp width=\"70%\" height=\"70%\"></div>\n\n<div><img src=https://cdn.chuckle.top/images/9-6.webp width=\"70%\" height=\"70%\"></div>\n\n","categories":["教程"],"tags":["教程"]},{"title":"JAVA/面向对象学习笔记(2)","url":"/article/9f2dc6c7.html","content":"<blockquote>\n<p>所看教程（视频）：《浙江大学-翁恺-Java-面向对象程序设计》<br>作为我自己的复习笔记，也可以当做该视频的同步笔记<br>上接<a href=\"/article/bfb663c6.html\">JAVA/面向对象学习笔记(1)</a></p>\n</blockquote>\n<h1 id=\"城堡游戏（可扩展性）\"><a href=\"#城堡游戏（可扩展性）\" class=\"headerlink\" title=\"城堡游戏（可扩展性）\"></a>城堡游戏（可扩展性）</h1><p>整体思路：用Room先初始化5个房间，Room类中有房间名称、四个方向所连接的房间，currentRoom = outside;设置出生点<br>进入goRoom方法，匹配用户输入的方向，让nextroom指向下一个房间，然后让currentRoom = outside;并输出房间信息。<br>大致以此循环  </p>\n<figure class=\"highlight java\"><figcaption><span>Room.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Room</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//房间名称</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String description;</span><br><span class=\"line\">    <span class=\"comment\">//房间四个方向连接的房间</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room northExit;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room southExit;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room eastExit;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room westExit;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Room</span><span class=\"params\">(String description)</span><span class=\"comment\">//初始化房间名</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.description = description;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setExits</span><span class=\"params\">(Room north, Room east, Room south, Room west)</span><span class=\"comment\">//设置房间的四个方向的连接</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (north != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            northExit = north;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (east != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            eastExit = east;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (south != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            southExit = south;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (west != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            westExit = west;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> description;<span class=\"comment\">//输出房间名</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Game.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Game</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room currentRoom;<span class=\"comment\">//创建一个Room对象，用于保存当前房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Game</span><span class=\"params\">()</span><span class=\"comment\">//构造函数</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        creatRooms();<span class=\"comment\">//创建房间</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">creatRooms</span><span class=\"params\">()</span><span class=\"comment\">//创建一个房间</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Room outside, lobby,pub,study,bedroom;<span class=\"comment\">//创建5种房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 制造5种房间</span></span><br><span class=\"line\">        outside = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;城堡外&quot;</span>);</span><br><span class=\"line\">        lobby = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;大堂&quot;</span>);</span><br><span class=\"line\">        pub = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;小酒吧&quot;</span>);</span><br><span class=\"line\">        study = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;书房&quot;</span>);</span><br><span class=\"line\">        bedroom = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;卧室&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 初始化房间的出口</span></span><br><span class=\"line\">        outside.setExits(<span class=\"literal\">null</span>,lobby,study,pub);</span><br><span class=\"line\">        lobby.setExits(<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,outside);</span><br><span class=\"line\">        pub.setExits(<span class=\"literal\">null</span>,outside,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>);</span><br><span class=\"line\">        study.setExits(outside,bedroom,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>);</span><br><span class=\"line\">        bedroom.setExits(<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,study);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        currentRoom = outside; <span class=\"comment\">//从城堡门外开始</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printWelcome</span><span class=\"params\">()</span><span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;欢迎来到城堡!&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;这是一个超级无聊的游戏。&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如果需要帮助，请输入&#x27;help&#x27;&quot;</span>);</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;现在你在:&quot;</span> + currentRoom);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;出口有：&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">//输出当前房间的出口</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(currentRoom.northExit !=<span class=\"literal\">null</span>)</span><br><span class=\"line\">            System.out.print(<span class=\"string\">&quot;north &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(currentRoom.eastExit !=<span class=\"literal\">null</span>)</span><br><span class=\"line\">            System.out.print(<span class=\"string\">&quot;east &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(currentRoom.southExit !=<span class=\"literal\">null</span>)</span><br><span class=\"line\">            System.out.print(<span class=\"string\">&quot;south &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(currentRoom.westExit !=<span class=\"literal\">null</span>)</span><br><span class=\"line\">            System.out.print(<span class=\"string\">&quot;west &quot;</span>);</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  以下为用户命令</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printHelp</span><span class=\"params\">()</span><span class=\"comment\">//帮助菜单</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;迷路了吗？你可以做的命令有：go bye help&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如：\\tgo east&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">goRoom</span><span class=\"params\">(String direction)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">Room</span> <span class=\"variable\">nextRoom</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;<span class=\"comment\">//创建一个Room对象，用于保存下一个房间</span></span><br><span class=\"line\">        <span class=\"comment\">// 在当前房间的出口中查找与用户输入的方向相同的房间</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(direction.equals(<span class=\"string\">&quot;north&quot;</span>))&#123;</span><br><span class=\"line\">            nextRoom = currentRoom.northExit;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(direction.equals(<span class=\"string\">&quot;east&quot;</span>))&#123;</span><br><span class=\"line\">            nextRoom = currentRoom.eastExit;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(direction.equals(<span class=\"string\">&quot;south&quot;</span>))&#123;</span><br><span class=\"line\">            nextRoom = currentRoom.southExit;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(direction.equals(<span class=\"string\">&quot;west&quot;</span>))&#123;</span><br><span class=\"line\">            nextRoom = currentRoom.westExit;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果找到了下一个房间，则进入下一个房间</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nextRoom == <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;那里没有门！&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            currentRoom = nextRoom;<span class=\"comment\">//让当前房间等于下一个房间</span></span><br><span class=\"line\">            <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;你在&quot;</span>+ currentRoom);</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;出口有：&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(currentRoom.northExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;north&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(currentRoom.eastExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;east&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(currentRoom.southExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;south&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(currentRoom.westExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;west&quot;</span>);</span><br><span class=\"line\">            System.out.println();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"comment\">//通过new Scanner(System.in)创建一个Scanner，控制台会一直等待输入，直到敲回车键结束，把所输入的内容传给Scanner，作为扫描对象。</span></span><br><span class=\"line\">        <span class=\"type\">Game</span> <span class=\"variable\">game</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Game</span>();</span><br><span class=\"line\">        game.printWelcome();<span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)<span class=\"comment\">//进入游戏主体，游戏结束时退出循环</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">line</span> <span class=\"operator\">=</span> in.nextLine();<span class=\"comment\">//控制台输入一行</span></span><br><span class=\"line\">            String[] words = line.split(<span class=\"string\">&quot; &quot;</span>);<span class=\"comment\">//以空格为分隔符，把用户输入的字符串分割成字符串数组</span></span><br><span class=\"line\">            <span class=\"comment\">//判断是go还是help</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;help&quot;</span>))&#123;</span><br><span class=\"line\">                game.printHelp();<span class=\"comment\">//输出帮助信息</span></span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;go&quot;</span>))&#123;</span><br><span class=\"line\">                game.goRoom(words[<span class=\"number\">1</span>]);<span class=\"comment\">//将用户输入的方向传给goRoom方法</span></span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;bye&quot;</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;<span class=\"comment\">//如果用户数据为bye，则退出游戏</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;感谢您的光临。再见！&quot;</span>);</span><br><span class=\"line\">        in.close();<span class=\"comment\">//关闭Scanner</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>输出</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\">欢迎来到城堡!</span><br><span class=\"line\">这是一个超级无聊的游戏。</span><br><span class=\"line\">如果需要帮助，请输入<span class=\"string\">&#x27;help&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">你在城堡外</span><br><span class=\"line\">出口有：</span><br><span class=\"line\">east</span><br><span class=\"line\">south</span><br><span class=\"line\">west</span><br><span class=\"line\"></span><br><span class=\"line\">go south</span><br><span class=\"line\">你在书房</span><br><span class=\"line\">出口有：</span><br><span class=\"line\">north</span><br><span class=\"line\">east</span><br><span class=\"line\"></span><br><span class=\"line\">go east</span><br><span class=\"line\">你在卧室</span><br><span class=\"line\">出口有：</span><br><span class=\"line\">west</span><br><span class=\"line\"></span><br><span class=\"line\">help</span><br><span class=\"line\">迷路了吗？你可以做的命令有：go bye help</span><br><span class=\"line\">如：\tgo east</span><br><span class=\"line\">bye</span><br><span class=\"line\">感谢您的光临。再见！</span><br></pre></td></tr></table></figure>\n<h2 id=\"消除代码复制\"><a href=\"#消除代码复制\" class=\"headerlink\" title=\"消除代码复制\"></a>消除代码复制</h2><p>在printWelcome和goRoom方法中都有一段相同的输出出口方向的代码<br>将这段代码提取出来，做成一个方法，在需要输出房间信息的地方调用即可<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">showPrompt</span><span class=\"params\">()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;你在&quot;</span>+ currentRoom);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;出口有：&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(currentRoom.northExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;north&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(currentRoom.eastExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;east&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(currentRoom.southExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;south&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(currentRoom.westExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;west&quot;</span>);</span><br><span class=\"line\">    System.out.println();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"封装\"><a href=\"#封装\" class=\"headerlink\" title=\"封装\"></a>封装</h2><p>这个程序没有bug，能正常运行，但不见得是一个好的代码<br>评价一个代码质量的好坏是多元的，尤其是这个代码是否能适应将来的需要  </p>\n<p><strong>可扩展性</strong>：代码是否易于将来增加新的东西</p>\n<p>我们想在这个游戏里给每个房间增加两个方向down和up<br>我们需要改的地方很多<br>Room.java里需要增加两个房间对象public Room downExit;和public Room upExit; setExits方法需要增加两个参数并进行判断<br>Game.java里很多方法也要增加if判断，还要改每个房间的初始化  </p>\n<p>总之，想增加一个方向，代码几乎每个地方都要改变  </p>\n<p>要想增加可扩展性，首先要降低类和类之间的耦合  </p>\n<h3 id=\"用封装来降低耦合\"><a href=\"#用封装来降低耦合\" class=\"headerlink\" title=\"用封装来降低耦合\"></a>用封装来降低耦合</h3><p>Room类和Game类都有大量的代码和出口相关<br>尤其是Game类中大量使用了Room类的成员变量<br>类和类之间的关系称作<strong>耦合</strong><br>耦合<strong>越低越好</strong>，保持距离是形成良好代码的关键  </p>\n<p>我们可以让Room自己告诉Game有哪些出口，出口连接的房间<br><figure class=\"highlight java\"><figcaption><span>Room.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Room</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//房间名称</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String description;</span><br><span class=\"line\">    <span class=\"comment\">//public String description;</span></span><br><span class=\"line\">    <span class=\"comment\">//房间四个方向连接的房间</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room northExit;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room southExit;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room eastExit;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room westExit;</span><br><span class=\"line\">    <span class=\"comment\">/*public Room northExit;</span></span><br><span class=\"line\"><span class=\"comment\">    public Room southExit;</span></span><br><span class=\"line\"><span class=\"comment\">    public Room eastExit;</span></span><br><span class=\"line\"><span class=\"comment\">    public Room westExit;*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Room</span><span class=\"params\">(String description)</span><span class=\"comment\">//初始化房间名</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.description = description;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setExits</span><span class=\"params\">(Room north, Room east, Room south, Room west)</span><span class=\"comment\">//设置房间的四个方向的连接</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (north != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            northExit = north;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (east != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            eastExit = east;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (south != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            southExit = south;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (west != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            westExit = west;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> description;<span class=\"comment\">//输出房间名</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getExitDesc</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回一个字符串，来表达房间的出口</span></span><br><span class=\"line\">        <span class=\"comment\">/*String returnString = &quot;Exits:&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        if (northExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            returnString += &quot;north &quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        if (eastExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            returnString += &quot;east &quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        if (southExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            returnString += &quot;south &quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        if (westExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            returnString += &quot;west &quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        return returnString;*/</span></span><br><span class=\"line\">        <span class=\"comment\">//一般我们不使用String去做拼接，因为每次加都会产生一个新的String类型的对象，系统开销会很大，而是使用StringBuilder</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">builder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>(<span class=\"string\">&quot;出口有：&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (northExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            builder.append(<span class=\"string\">&quot;north &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (eastExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            builder.append(<span class=\"string\">&quot;east &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (southExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            builder.append(<span class=\"string\">&quot;south &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (westExit != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            builder.append(<span class=\"string\">&quot;west &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room <span class=\"title function_\">getExit</span><span class=\"params\">(String direction)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回指定方向的连接房间</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (direction.equals(<span class=\"string\">&quot;north&quot;</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> northExit;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (direction.equals(<span class=\"string\">&quot;east&quot;</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> eastExit;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (direction.equals(<span class=\"string\">&quot;south&quot;</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> southExit;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (direction.equals(<span class=\"string\">&quot;west&quot;</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> westExit;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>Game.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Game</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room currentRoom;<span class=\"comment\">//创建一个Room对象，用于保存当前房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Game</span><span class=\"params\">()</span><span class=\"comment\">//构造函数</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        creatRooms();<span class=\"comment\">//创建房间</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">creatRooms</span><span class=\"params\">()</span><span class=\"comment\">//创建一个房间</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Room outside, lobby,pub,study,bedroom;<span class=\"comment\">//创建5种房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 制造5种房间</span></span><br><span class=\"line\">        outside = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;城堡外&quot;</span>);</span><br><span class=\"line\">        lobby = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;大堂&quot;</span>);</span><br><span class=\"line\">        pub = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;小酒吧&quot;</span>);</span><br><span class=\"line\">        study = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;书房&quot;</span>);</span><br><span class=\"line\">        bedroom = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;卧室&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 初始化房间的出口</span></span><br><span class=\"line\">        outside.setExits(<span class=\"literal\">null</span>,lobby,study,pub);</span><br><span class=\"line\">        lobby.setExits(<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,outside);</span><br><span class=\"line\">        pub.setExits(<span class=\"literal\">null</span>,outside,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>);</span><br><span class=\"line\">        study.setExits(outside,bedroom,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>);</span><br><span class=\"line\">        bedroom.setExits(<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,study);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        currentRoom = outside; <span class=\"comment\">//从城堡门外开始</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printWelcome</span><span class=\"params\">()</span><span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;欢迎来到城堡!&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;这是一个超级无聊的游戏。&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如果需要帮助，请输入&#x27;help&#x27;&quot;</span>);</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        showPrompt();</span><br><span class=\"line\">        <span class=\"comment\">/*System.out.println(&quot;现在你在:&quot; + currentRoom);</span></span><br><span class=\"line\"><span class=\"comment\">        System.out.println(&quot;出口有：&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        //输出当前房间的出口</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.northExit !=null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.print(&quot;north &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.eastExit !=null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.print(&quot;east &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.southExit !=null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.print(&quot;south &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.westExit !=null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.print(&quot;west &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        System.out.println();*/</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  以下为用户命令</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printHelp</span><span class=\"params\">()</span><span class=\"comment\">//帮助菜单</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;迷路了吗？你可以做的命令有：go bye help&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如：\\tgo east&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">goRoom</span><span class=\"params\">(String direction)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">Room</span> <span class=\"variable\">nextRoom</span> <span class=\"operator\">=</span> currentRoom.getExit(direction);<span class=\"comment\">//创建一个Room对象，用于保存下一个房间</span></span><br><span class=\"line\">        <span class=\"comment\">// 在当前房间的出口中查找与用户输入的方向相同的房间</span></span><br><span class=\"line\">        <span class=\"comment\">/*if(direction.equals(&quot;north&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">            nextRoom = currentRoom.northExit;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        if(direction.equals(&quot;east&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">            nextRoom = currentRoom.eastExit;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        if(direction.equals(&quot;south&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">            nextRoom = currentRoom.southExit;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        if(direction.equals(&quot;west&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">            nextRoom = currentRoom.westExit;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;*/</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果找到了下一个房间，则进入下一个房间</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nextRoom == <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;那里没有门！&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            currentRoom = nextRoom;<span class=\"comment\">//让当前房间等于下一个房间</span></span><br><span class=\"line\">            <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">            showPrompt();</span><br><span class=\"line\">            <span class=\"comment\">/*System.out.println(&quot;你在&quot;+ currentRoom);</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.println(&quot;出口有：&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">            if(currentRoom.northExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">                System.out.println(&quot;north&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">            if(currentRoom.eastExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">                System.out.println(&quot;east&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">            if(currentRoom.southExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">                System.out.println(&quot;south&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">            if(currentRoom.westExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">                System.out.println(&quot;west&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.println();*/</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">showPrompt</span><span class=\"params\">()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;你在&quot;</span>+ currentRoom);</span><br><span class=\"line\">        <span class=\"comment\">//调用房间的getExitString()方法，输出当前房间的出口</span></span><br><span class=\"line\">        System.out.println(currentRoom.getExitDesc());</span><br><span class=\"line\">        <span class=\"comment\">/*System.out.println(&quot;出口有：&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.northExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.println(&quot;north&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.eastExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.println(&quot;east&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.southExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.println(&quot;south&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if(currentRoom.westExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            System.out.println(&quot;west&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        System.out.println();*/</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"comment\">//通过new Scanner(System.in)创建一个Scanner，控制台会一直等待输入，直到敲回车键结束，把所输入的内容传给Scanner，作为扫描对象。</span></span><br><span class=\"line\">        <span class=\"type\">Game</span> <span class=\"variable\">game</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Game</span>();</span><br><span class=\"line\">        game.printWelcome();<span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)<span class=\"comment\">//进入游戏主体，游戏结束时退出循环</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">line</span> <span class=\"operator\">=</span> in.nextLine();<span class=\"comment\">//控制台输入一行</span></span><br><span class=\"line\">            String[] words = line.split(<span class=\"string\">&quot; &quot;</span>);<span class=\"comment\">//以空格为分隔符，把用户输入的字符串分割成字符串数组</span></span><br><span class=\"line\">            <span class=\"comment\">//判断是go还是help</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;help&quot;</span>))&#123;</span><br><span class=\"line\">                game.printHelp();<span class=\"comment\">//输出帮助信息</span></span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;go&quot;</span>))&#123;</span><br><span class=\"line\">                game.goRoom(words[<span class=\"number\">1</span>]);<span class=\"comment\">//将用户输入的方向传给goRoom方法</span></span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;bye&quot;</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;<span class=\"comment\">//如果用户数据为bye，则退出游戏</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;感谢您的光临。再见！&quot;</span>);</span><br><span class=\"line\">        in.close();<span class=\"comment\">//关闭Scanner</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"用接口来实现聚合\"><a href=\"#用接口来实现聚合\" class=\"headerlink\" title=\"用接口来实现聚合\"></a>用接口来实现聚合</h3><p>原本Room有什么出口，连接着什么房间，Game是能直接获取使用的<br>现在我们在Room中实现了两个接口getExitDesc和getExit,把方向的细节彻底隐藏在Room类内部<br>今后方向如何实现就和外部无关了  </p>\n<h3 id=\"用容器来实现灵活性\"><a href=\"#用容器来实现灵活性\" class=\"headerlink\" title=\"用容器来实现灵活性\"></a>用容器来实现灵活性</h3><p>在Room当中，有四个Room对象，用于保存这个房间连接着的四个房间（null，或者房间名）<br>这种一一对应的关系，可以使用HashMap去实现<br><figure class=\"highlight java\"><figcaption><span>Room.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.HashMap;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Room</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//描述</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String description;</span><br><span class=\"line\">    <span class=\"comment\">//用HashMap来保存这个房间连接着的四个房间</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> HashMap&lt;String, Room&gt; exits = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;String, Room&gt;();</span><br><span class=\"line\">    <span class=\"comment\">/*private Room northExit;</span></span><br><span class=\"line\"><span class=\"comment\">    private Room southExit;</span></span><br><span class=\"line\"><span class=\"comment\">    private Room eastExit;</span></span><br><span class=\"line\"><span class=\"comment\">    private Room westExit;*/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Room</span><span class=\"params\">(String description)</span><span class=\"comment\">//初始化房间名</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.description = description;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setExits</span><span class=\"params\">(String direction, Room room)</span> &#123;</span><br><span class=\"line\">        exits.put(direction, room);<span class=\"comment\">//将出口方向和连接的房间放进容器中</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*public void setExits(Room north, Room east, Room south, Room west)//设置房间的四个方向的连接</span></span><br><span class=\"line\"><span class=\"comment\">    &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        if (north != null)</span></span><br><span class=\"line\"><span class=\"comment\">            northExit = north;</span></span><br><span class=\"line\"><span class=\"comment\">        if (east != null)</span></span><br><span class=\"line\"><span class=\"comment\">            eastExit = east;</span></span><br><span class=\"line\"><span class=\"comment\">        if (south != null)</span></span><br><span class=\"line\"><span class=\"comment\">            southExit = south;</span></span><br><span class=\"line\"><span class=\"comment\">        if (west != null)</span></span><br><span class=\"line\"><span class=\"comment\">            westExit = west;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;*/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> description;<span class=\"comment\">//输出房间名</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getExitDesc</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回一个字符串，来表达房间的出口</span></span><br><span class=\"line\">        <span class=\"comment\">//一般我们不使用String去做拼接，因为每次加都会产生一个新的String类型的对象，系统开销会很大，而是使用StringBuilder</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">builder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>(<span class=\"string\">&quot;出口有：&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (String direction : exits.keySet()) &#123;</span><br><span class=\"line\">            builder.append(direction);</span><br><span class=\"line\">            builder.append(<span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">/*if (northExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            builder.append(&quot;north &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if (eastExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            builder.append(&quot;east &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if (southExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            builder.append(&quot;south &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        if (westExit != null)</span></span><br><span class=\"line\"><span class=\"comment\">            builder.append(&quot;west &quot;);*/</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room <span class=\"title function_\">getExit</span><span class=\"params\">(String direction)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回指定方向的连接房间</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> exits.get(direction);<span class=\"comment\">//直接从HashMap中获取房间，如果没有容器会自动返回null</span></span><br><span class=\"line\">        <span class=\"comment\">/*if (direction.equals(&quot;north&quot;))</span></span><br><span class=\"line\"><span class=\"comment\">            return northExit;</span></span><br><span class=\"line\"><span class=\"comment\">        if (direction.equals(&quot;east&quot;))</span></span><br><span class=\"line\"><span class=\"comment\">            return eastExit;</span></span><br><span class=\"line\"><span class=\"comment\">        if (direction.equals(&quot;south&quot;))</span></span><br><span class=\"line\"><span class=\"comment\">            return southExit;</span></span><br><span class=\"line\"><span class=\"comment\">        if (direction.equals(&quot;west&quot;))</span></span><br><span class=\"line\"><span class=\"comment\">            return westExit;</span></span><br><span class=\"line\"><span class=\"comment\">        return null;*/</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><figure class=\"highlight java\"><figcaption><span>Game.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Game</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room currentRoom;<span class=\"comment\">//创建一个Room对象，用于保存当前房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Game</span><span class=\"params\">()</span><span class=\"comment\">//构造函数</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        creatRooms();<span class=\"comment\">//创建房间</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">creatRooms</span><span class=\"params\">()</span><span class=\"comment\">//创建一个房间</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Room outside, lobby,pub,study,bedroom;<span class=\"comment\">//创建5种房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 制造5种房间</span></span><br><span class=\"line\">        outside = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;城堡外&quot;</span>);</span><br><span class=\"line\">        lobby = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;大堂&quot;</span>);</span><br><span class=\"line\">        pub = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;小酒吧&quot;</span>);</span><br><span class=\"line\">        study = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;书房&quot;</span>);</span><br><span class=\"line\">        bedroom = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;卧室&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 初始化房间的出口</span></span><br><span class=\"line\">        outside.setExits(<span class=\"string\">&quot;east&quot;</span>, lobby);</span><br><span class=\"line\">        outside.setExits(<span class=\"string\">&quot;south&quot;</span>, study);</span><br><span class=\"line\">        outside.setExits(<span class=\"string\">&quot;west&quot;</span>, pub);</span><br><span class=\"line\">        lobby.setExits(<span class=\"string\">&quot;west&quot;</span>, outside);</span><br><span class=\"line\">        pub.setExits(<span class=\"string\">&quot;east&quot;</span>, outside);</span><br><span class=\"line\">        study.setExits(<span class=\"string\">&quot;north&quot;</span>, outside);</span><br><span class=\"line\">        study.setExits(<span class=\"string\">&quot;east&quot;</span>, bedroom);</span><br><span class=\"line\">        bedroom.setExits(<span class=\"string\">&quot;west&quot;</span>, study);</span><br><span class=\"line\">        <span class=\"comment\">//现在当我们想增加出口方向，很简单</span></span><br><span class=\"line\">        lobby.setExits(<span class=\"string\">&quot;up&quot;</span>, pub);</span><br><span class=\"line\">        pub.setExits(<span class=\"string\">&quot;down&quot;</span>, lobby);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/*outside.setExits(null,lobby,study,pub);</span></span><br><span class=\"line\"><span class=\"comment\">        lobby.setExits(null,null,null,outside);</span></span><br><span class=\"line\"><span class=\"comment\">        pub.setExits(null,outside,null,null);</span></span><br><span class=\"line\"><span class=\"comment\">        study.setExits(outside,bedroom,null,null);</span></span><br><span class=\"line\"><span class=\"comment\">        bedroom.setExits(null,null,null,study);*/</span></span><br><span class=\"line\"></span><br><span class=\"line\">        currentRoom = outside; <span class=\"comment\">//从城堡门外开始</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printWelcome</span><span class=\"params\">()</span><span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;欢迎来到城堡!&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;这是一个超级无聊的游戏。&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如果需要帮助，请输入&#x27;help&#x27;&quot;</span>);</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        showPrompt();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  以下为用户命令</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printHelp</span><span class=\"params\">()</span><span class=\"comment\">//帮助菜单</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;迷路了吗？你可以做的命令有：go bye help&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如：\\tgo east&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">goRoom</span><span class=\"params\">(String direction)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">Room</span> <span class=\"variable\">nextRoom</span> <span class=\"operator\">=</span> currentRoom.getExit(direction);<span class=\"comment\">//创建一个Room对象，用于保存下一个房间</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果找到了下一个房间，则进入下一个房间</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nextRoom == <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;那里没有门！&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            currentRoom = nextRoom;<span class=\"comment\">//让当前房间等于下一个房间</span></span><br><span class=\"line\">            <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">            showPrompt();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">showPrompt</span><span class=\"params\">()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;你在&quot;</span>+ currentRoom);</span><br><span class=\"line\">        <span class=\"comment\">//调用房间的getExitString()方法，输出当前房间的出口</span></span><br><span class=\"line\">        System.out.println(currentRoom.getExitDesc());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"comment\">//通过new Scanner(System.in)创建一个Scanner，控制台会一直等待输入，直到敲回车键结束，把所输入的内容传给Scanner，作为扫描对象。</span></span><br><span class=\"line\">        <span class=\"type\">Game</span> <span class=\"variable\">game</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Game</span>();</span><br><span class=\"line\">        game.printWelcome();<span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)<span class=\"comment\">//进入游戏主体，游戏结束时退出循环</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">line</span> <span class=\"operator\">=</span> in.nextLine();<span class=\"comment\">//控制台输入一行</span></span><br><span class=\"line\">            String[] words = line.split(<span class=\"string\">&quot; &quot;</span>);<span class=\"comment\">//以空格为分隔符，把用户输入的字符串分割成字符串数组</span></span><br><span class=\"line\">            <span class=\"comment\">//判断是go还是help</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;help&quot;</span>))&#123;</span><br><span class=\"line\">                game.printHelp();<span class=\"comment\">//输出帮助信息</span></span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;go&quot;</span>))&#123;</span><br><span class=\"line\">                game.goRoom(words[<span class=\"number\">1</span>]);<span class=\"comment\">//将用户输入的方向传给goRoom方法</span></span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( words[<span class=\"number\">0</span>].equals(<span class=\"string\">&quot;bye&quot;</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;<span class=\"comment\">//如果用户数据为bye，则退出游戏</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;感谢您的光临。再见！&quot;</span>);</span><br><span class=\"line\">        in.close();<span class=\"comment\">//关闭Scanner</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>//现在当我们想增加出口方向，很简单<br>lobby.setExits(“up”, pub);<br>pub.setExits(“down”, lobby);  </p>\n<p>这里发生了什么？<br>将lobby的出口方向和对应房间传给它的setExits的方法后<br>lobby里面的容器就会多一对出口和房间的对应关系<br>lobby里面的getExitDesc、getExit方法以及未来可能加入的新方法，都遍历这个容器<br>所以，增加出口和连接的房间，只需要调用setExits方法，去往lobby里的容器写入东西即可  </p>\n<p>现在，对于增加出口来说，已经具有了可扩展性</p>\n<h3 id=\"以框架-数据来提高可扩展性\"><a href=\"#以框架-数据来提高可扩展性\" class=\"headerlink\" title=\"以框架+数据来提高可扩展性\"></a>以框架+数据来提高可扩展性</h3><p>我们原来用硬编码去保存room的出口<br>现在我们用容器，HashMap和对应的方法（接口方法）组成了一个框架，数据就是放在HashMap里的东西<br>在这个框架中要增加出口很容易  </p>\n<p>启发：<br>命令的解析是否可以脱离if-else<br>定义一个Handler来处理命令<br>用Hash表来保存命令和Handler之间的关系  </p>\n<p>现在我们可以用相同的思路去解决用户命令（help，go，bye）的硬编码问题<br>一个字符串对应调用一个方法，这显然也是一一对应的关系<br>但容器<strong>只能放对象</strong>，一个方法不能放进容器中  </p>\n<h3 id=\"如何把方法放进容器中\"><a href=\"#如何把方法放进容器中\" class=\"headerlink\" title=\"如何把方法放进容器中\"></a>如何把方法放进容器中</h3><p>创建一个Handler类，然后把每个命令创建为Handler的子类<br>将命令字符串和Handler子类的对象一一对应放入HashMap中<br>将功能在Handler的子类的doCmd方法中实现<br>在game中通过父类对象管理者去管理子类对象（从HashMap中获取子类对象），管理者调用doCmd方法即可  </p>\n<figure class=\"highlight java\"><figcaption><span>Room.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.HashMap;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Room</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//描述</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String description;</span><br><span class=\"line\">    <span class=\"comment\">//用HashMap来保存这个房间连接着的四个房间</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> HashMap&lt;String, Room&gt; exits = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;String, Room&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Room</span><span class=\"params\">(String description)</span><span class=\"comment\">//初始化房间名</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.description = description;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setExits</span><span class=\"params\">(String direction, Room room)</span> &#123;</span><br><span class=\"line\">        exits.put(direction, room);<span class=\"comment\">//将出口方向和连接的房间放进容器中</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> description;<span class=\"comment\">//输出房间名</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getExitDesc</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回一个字符串，来表达房间的出口</span></span><br><span class=\"line\">        <span class=\"comment\">//一般我们不使用String去做拼接，因为每次加都会产生一个新的String类型的对象，系统开销会很大，而是使用StringBuilder</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">builder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>(<span class=\"string\">&quot;出口有：&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (String direction : exits.keySet()) &#123;</span><br><span class=\"line\">            builder.append(direction);</span><br><span class=\"line\">            builder.append(<span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Room <span class=\"title function_\">getExit</span><span class=\"params\">(String direction)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//返回指定方向的连接房间</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> exits.get(direction);<span class=\"comment\">//直接从HashMap中获取房间，如果没有容器会自动返回null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Game.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Game</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Room currentRoom;<span class=\"comment\">//创建一个Room对象，用于保存当前房间</span></span><br><span class=\"line\">    <span class=\"comment\">//创建一个HashMap对象，用于保存所有的命令处理器</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> HashMap&lt;String, Handler&gt; handlers = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;String, Handler&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Game</span><span class=\"params\">()</span><span class=\"comment\">//构造函数</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//将字符串和命令处理器对应</span></span><br><span class=\"line\">        handlers.put(<span class=\"string\">&quot;go&quot;</span>,<span class=\"keyword\">new</span> <span class=\"title class_\">HandlerGo</span>(<span class=\"built_in\">this</span>));<span class=\"comment\">//把game对象作为参数传入HandlerGo类，让HandlerGo能管理game</span></span><br><span class=\"line\">        handlers.put(<span class=\"string\">&quot;help&quot;</span>,<span class=\"keyword\">new</span> <span class=\"title class_\">HandlerHelp</span>(<span class=\"built_in\">this</span>));</span><br><span class=\"line\">        handlers.put(<span class=\"string\">&quot;bye&quot;</span>,<span class=\"keyword\">new</span> <span class=\"title class_\">HandlerBye</span>(<span class=\"built_in\">this</span>));</span><br><span class=\"line\">        creatRooms();<span class=\"comment\">//创建房间</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">creatRooms</span><span class=\"params\">()</span><span class=\"comment\">//创建一个房间</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Room outside, lobby,pub,study,bedroom;<span class=\"comment\">//创建5种房间</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 制造5种房间</span></span><br><span class=\"line\">        outside = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;城堡外&quot;</span>);</span><br><span class=\"line\">        lobby = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;大堂&quot;</span>);</span><br><span class=\"line\">        pub = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;小酒吧&quot;</span>);</span><br><span class=\"line\">        study = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;书房&quot;</span>);</span><br><span class=\"line\">        bedroom = <span class=\"keyword\">new</span> <span class=\"title class_\">Room</span>(<span class=\"string\">&quot;卧室&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 初始化房间的出口</span></span><br><span class=\"line\">        outside.setExits(<span class=\"string\">&quot;east&quot;</span>, lobby);</span><br><span class=\"line\">        outside.setExits(<span class=\"string\">&quot;south&quot;</span>, study);</span><br><span class=\"line\">        outside.setExits(<span class=\"string\">&quot;west&quot;</span>, pub);</span><br><span class=\"line\">        lobby.setExits(<span class=\"string\">&quot;west&quot;</span>, outside);</span><br><span class=\"line\">        pub.setExits(<span class=\"string\">&quot;east&quot;</span>, outside);</span><br><span class=\"line\">        study.setExits(<span class=\"string\">&quot;north&quot;</span>, outside);</span><br><span class=\"line\">        study.setExits(<span class=\"string\">&quot;east&quot;</span>, bedroom);</span><br><span class=\"line\">        bedroom.setExits(<span class=\"string\">&quot;west&quot;</span>, study);</span><br><span class=\"line\">        <span class=\"comment\">//现在当我们想增加出口方向，很简单</span></span><br><span class=\"line\">        lobby.setExits(<span class=\"string\">&quot;up&quot;</span>, pub);</span><br><span class=\"line\">        pub.setExits(<span class=\"string\">&quot;down&quot;</span>, lobby);</span><br><span class=\"line\"></span><br><span class=\"line\">        currentRoom = outside; <span class=\"comment\">//从城堡门外开始</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">printWelcome</span><span class=\"params\">()</span><span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;欢迎来到城堡!&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;这是一个超级无聊的游戏。&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如果需要帮助，请输入&#x27;help&#x27;&quot;</span>);</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">        showPrompt();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  以下为用户命令</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*private void printHelp()//帮助菜单</span></span><br><span class=\"line\"><span class=\"comment\">    &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        System.out.println(&quot;迷路了吗？你可以做的命令有：go bye help&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">        System.out.println(&quot;如：\\tgo east&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;*/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">goRoom</span><span class=\"params\">(String direction)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">Room</span> <span class=\"variable\">nextRoom</span> <span class=\"operator\">=</span> currentRoom.getExit(direction);<span class=\"comment\">//创建一个Room对象，用于保存下一个房间</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果找到了下一个房间，则进入下一个房间</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nextRoom == <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;那里没有门！&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            currentRoom = nextRoom;<span class=\"comment\">//让当前房间等于下一个房间</span></span><br><span class=\"line\">            <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">            showPrompt();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">showPrompt</span><span class=\"params\">()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 输出当前房间的描述</span></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;你在&quot;</span>+ currentRoom);</span><br><span class=\"line\">        <span class=\"comment\">//调用房间的getExitString()方法，输出当前房间的出口</span></span><br><span class=\"line\">        System.out.println(currentRoom.getExitDesc());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">play</span><span class=\"params\">()</span>&#123;<span class=\"comment\">//游戏开始</span></span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)<span class=\"comment\">//进入游戏主体，游戏结束时退出循环</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">line</span> <span class=\"operator\">=</span> in.nextLine();<span class=\"comment\">//控制台输入一行</span></span><br><span class=\"line\">            String[] words = line.split(<span class=\"string\">&quot; &quot;</span>);<span class=\"comment\">//以空格为分隔符，把用户输入的字符串分割成字符串数组</span></span><br><span class=\"line\">            <span class=\"type\">Handler</span> <span class=\"variable\">handler</span> <span class=\"operator\">=</span> handlers.get(words[<span class=\"number\">0</span>]);<span class=\"comment\">//获取用户输入的命令,从HashMap中获取对应的子类对象,让handler管理这个对象</span></span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">value</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span>;<span class=\"comment\">//保存命令的字符串</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(words.length &gt; <span class=\"number\">1</span>)<span class=\"comment\">//判断是不是bye命令</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                value = words[<span class=\"number\">1</span>];<span class=\"comment\">//获取参数</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(handler != <span class=\"literal\">null</span>)&#123;<span class=\"comment\">//如果命令存在</span></span><br><span class=\"line\">                handler.doCmd(value);<span class=\"comment\">//调用命令处理器</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> ( handler.isBye() ) &#123;<span class=\"comment\">//如果命令处理器返回true，则退出游戏</span></span><br><span class=\"line\">                    System.out.println(<span class=\"string\">&quot;感谢您的光临。再见！&quot;</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        in.close();<span class=\"comment\">//关闭Scanner</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">/*Scanner in = new Scanner(System.in);*/</span></span><br><span class=\"line\">        <span class=\"comment\">//通过new Scanner(System.in)创建一个Scanner，控制台会一直等待输入，直到敲回车键结束，把所输入的内容传给Scanner，作为扫描对象。</span></span><br><span class=\"line\">        <span class=\"type\">Game</span> <span class=\"variable\">game</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Game</span>();</span><br><span class=\"line\">        game.printWelcome();<span class=\"comment\">//输出欢迎信息</span></span><br><span class=\"line\">        game.play();</span><br><span class=\"line\">        <span class=\"comment\">/*while (true)//进入游戏主体，游戏结束时退出循环</span></span><br><span class=\"line\"><span class=\"comment\">        &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            String line = in.nextLine();//控制台输入一行</span></span><br><span class=\"line\"><span class=\"comment\">            String[] words = line.split(&quot; &quot;);//以空格为分隔符，把用户输入的字符串分割成字符串数组</span></span><br><span class=\"line\"><span class=\"comment\">            //判断是go还是help</span></span><br><span class=\"line\"><span class=\"comment\">            if ( words[0].equals(&quot;help&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">                game.printHelp();//输出帮助信息</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;else if ( words[0].equals(&quot;go&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">                game.goRoom(words[1]);//将用户输入的方向传给goRoom方法</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;else if ( words[0].equals(&quot;bye&quot;))&#123;</span></span><br><span class=\"line\"><span class=\"comment\">                break;//如果用户数据为bye，则退出游戏</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;*/</span></span><br><span class=\"line\">        <span class=\"comment\">//System.out.println(&quot;感谢您的光临。再见！&quot;);</span></span><br><span class=\"line\">        <span class=\"comment\">//in.close();//关闭Scanner</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Handler.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Handler</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Game game;<span class=\"comment\">//创建一个Game对象的管理者，为了方便设为protected</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Handler</span><span class=\"params\">(Game game)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.game = game;<span class=\"comment\">//两个game管理者管理同一个Game对象</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">doCmd</span><span class=\"params\">(String word)</span> &#123;&#125;<span class=\"comment\">//一个接口，用于运行命令</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isBye</span><span class=\"params\">()</span> &#123; <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>HandlerBye.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HandlerBye</span>  <span class=\"keyword\">extends</span> <span class=\"title class_\">Handler</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//必要的构造器</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">HandlerBye</span><span class=\"params\">(Game game)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(game);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isBye</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>HandlerHelp.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HandlerHelp</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Handler</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//必要的构造器</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">HandlerHelp</span><span class=\"params\">(Game game)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(game);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">doCmd</span><span class=\"params\">(String word)</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;迷路了吗？你可以做的命令有：go bye help&quot;</span>);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;如：\\tgo east&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>HandlerGo.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> castle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HandlerGo</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Handler</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">HandlerGo</span><span class=\"params\">(Game game)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(game);<span class=\"comment\">//现在HandlerGo能管理game对象了</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//help和bye都与game无关，但go需要调用goRoom方法，所以需要拿到game对象的管理者</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">doCmd</span><span class=\"params\">(String word)</span> &#123;</span><br><span class=\"line\">        game.goRoom(word);<span class=\"comment\">//调用game的goRoom方法</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>HandlerGo在未来有更好的方法去实现，现在还是用管理者吧</p>\n</blockquote>\n<p>如果要加入新的命令，也非常简单<br>创建一个新的Handler子类，在里面实现命令的功能<br>在Game的构造器中将命令字符串和Handler的子类对象放进去  </p>\n<p>现在这个城堡游戏已经有极高的可扩展性了  </p>\n<blockquote>\n<p>这个城堡游戏例子非常全面，偶尔回来看看这个例子，是个不错的选择</p>\n</blockquote>\n<hr>\n<h1 id=\"抽象abstract\"><a href=\"#抽象abstract\" class=\"headerlink\" title=\"抽象abstract\"></a>抽象abstract</h1><p>关键字：<strong>abstract</strong><br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Shape</span> &#123;<span class=\"comment\">//抽象类</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g)</span>;<span class=\"comment\">//抽象方法不带&#123;&#125;，即不带方法体</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>抽象方法：表达概念，但无法实现具体功能（代码）的方法<br>抽象类：表达概念而无法构造出实体（对象）的类  </p>\n<p>有抽象方法的类<strong>一定</strong>是抽象类<br>抽象类不能<strong>制造</strong>对象，但是可以<strong>定义</strong>类变量（任何继承了抽象类的非抽象类的对象可以使用赋给这个类变量，即任何抽象类的子类的对象都可以由这个类变量来管理）<br>抽象类除了不能实例化对象之外，类的其它功能依然存在，成员变量、成员方法和构造方法的访问方式和普通类一样。  </p>\n<p>继承自抽象类的子类必须覆盖父类中的抽象方法，否则自己成为抽象类（即子类必须实现抽象父类的抽象方法）</p>\n<h2 id=\"两种抽象\"><a href=\"#两种抽象\" class=\"headerlink\" title=\"两种抽象\"></a>两种抽象</h2><p>与具体相对<br>·表示一种概念而非实体<br>与细节相对<br>·表示在一定程度上忽略细节而着眼大局  </p>\n<hr>\n<h1 id=\"细胞自动机\"><a href=\"#细胞自动机\" class=\"headerlink\" title=\"细胞自动机\"></a>细胞自动机</h1><p>死亡：如果活着的邻居的数量小于2或大于3，则死亡<br>新生：如果正好有3个邻居活着，则新生其他情况则保持原状  </p>\n<figure class=\"highlight java\"><figcaption><span>Cell.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Cell</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"variable\">alive</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;<span class=\"comment\">//默认为死亡状态</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">die</span><span class=\"params\">()</span> &#123; alive = <span class=\"literal\">false</span>; &#125;<span class=\"comment\">//让细胞死亡</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">reborn</span><span class=\"params\">()</span> &#123; alive = <span class=\"literal\">true</span>; &#125;<span class=\"comment\">//让细胞重生</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isAlive</span><span class=\"params\">()</span> &#123; <span class=\"keyword\">return</span> alive; &#125;<span class=\"comment\">//返回细胞状态,判断细胞是否存活</span></span><br><span class=\"line\">\t<span class=\"comment\">//绘制细胞</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g, <span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> size)</span> &#123;</span><br><span class=\"line\">\t\tg.drawRect(x, y, size, size);<span class=\"comment\">//画个空心矩形</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> ( alive ) &#123;<span class=\"comment\">//如果细胞存活</span></span><br><span class=\"line\">\t\t\tg.fillRect(x, y, size, size);<span class=\"comment\">//画个实心矩形</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>CellMachine.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> cellmachine;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.JFrame;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"><span class=\"keyword\">import</span> field.Field;</span><br><span class=\"line\"><span class=\"keyword\">import</span> field.View;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CellMachine</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//数据准备阶段,画出一个细胞网格</span></span><br><span class=\"line\">\t\t<span class=\"type\">Field</span> <span class=\"variable\">field</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Field</span>(<span class=\"number\">30</span>,<span class=\"number\">30</span>);<span class=\"comment\">//一个30*30的网格</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//遍历网格，每个网格都有一个细胞</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row&lt;field.getHeight(); row++ ) &#123;<span class=\"comment\">//遍历每一行</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col&lt;field.getWidth(); col++ ) &#123;<span class=\"comment\">//遍历每一列</span></span><br><span class=\"line\">\t\t\t\tfield.place(row, col, <span class=\"keyword\">new</span> <span class=\"title class_\">Cell</span>());<span class=\"comment\">//每个细胞都有一个状态，初始状态为死亡</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">//遍历每个细胞，设置初始细胞的生存状态</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row&lt;field.getHeight(); row++ ) &#123;<span class=\"comment\">//遍历每一行</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col&lt;field.getWidth(); col++ ) &#123;<span class=\"comment\">//遍历每一列</span></span><br><span class=\"line\">\t\t\t\t<span class=\"type\">Cell</span> <span class=\"variable\">cell</span> <span class=\"operator\">=</span> field.get(row, col);<span class=\"comment\">//获取(row,col)位置上的细胞</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">//利用随机数让整个网格的五分之一的细胞生存</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> ( Math.random() &lt; <span class=\"number\">0.2</span> ) &#123; <span class=\"comment\">//Math.random()返回0~1之间的随机数</span></span><br><span class=\"line\">\t\t\t\t\tcell.reborn();<span class=\"comment\">//reborn()方法设置细胞的生存状态为true</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//在窗口中显示细胞网格</span></span><br><span class=\"line\">\t\t<span class=\"type\">View</span> <span class=\"variable\">view</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">View</span>(field);<span class=\"comment\">//将网格传入View类中</span></span><br><span class=\"line\">\t\t<span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();<span class=\"comment\">//创建一个JFrame对象,是java当中的窗口,用来显示细胞网格</span></span><br><span class=\"line\">\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<span class=\"comment\">//设置窗口关闭时的操作</span></span><br><span class=\"line\">\t\tframe.setResizable(<span class=\"literal\">false</span>);<span class=\"comment\">//设置窗口不可改变大小</span></span><br><span class=\"line\">\t\tframe.setTitle(<span class=\"string\">&quot;Cells&quot;</span>);<span class=\"comment\">//设置窗口的标题</span></span><br><span class=\"line\">\t\tframe.add(view);<span class=\"comment\">//将网格添加到窗口中</span></span><br><span class=\"line\">\t\tframe.pack();<span class=\"comment\">//设置窗口的大小</span></span><br><span class=\"line\">\t\tframe.setVisible(<span class=\"literal\">true</span>);<span class=\"comment\">//设置窗口可见,即显示出来</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">//模拟细胞网格的运行</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//遍历整个网格,取出每个细胞</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">1000</span>; i++ ) &#123;<span class=\"comment\">//进行1000次模拟</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row&lt;field.getHeight(); row++ ) &#123;<span class=\"comment\">//遍历每一行</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col&lt;field.getWidth(); col++ ) &#123;<span class=\"comment\">//遍历每一列</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"type\">Cell</span> <span class=\"variable\">cell</span> <span class=\"operator\">=</span> field.get(row, col);<span class=\"comment\">//获取(row,col)位置上的细胞</span></span><br><span class=\"line\">\t\t\t\t\tCell[] neighbour = field.getNeighbour(row, col);<span class=\"comment\">//获取(row,col)位置上的细胞的邻居</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"type\">int</span> <span class=\"variable\">numOfLive</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;<span class=\"comment\">//计数器，记录邻居中活细胞的个数</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">//遍历邻居，计算邻居中有多少个细胞是活的</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">for</span> ( Cell c : neighbour ) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> ( c.isAlive() ) &#123;<span class=\"comment\">//如果邻居中有一个细胞是活的</span></span><br><span class=\"line\">\t\t\t\t\t\t\tnumOfLive++;<span class=\"comment\">//让计数器加一</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">//控制台输出当前细胞的状态</span></span><br><span class=\"line\">\t\t\t\t\tSystem.out.print(<span class=\"string\">&quot;[&quot;</span>+row+<span class=\"string\">&quot;][&quot;</span>+col+<span class=\"string\">&quot;]:&quot;</span>);<span class=\"comment\">//打印细胞的位置</span></span><br><span class=\"line\">\t\t\t\t\tSystem.out.print(cell.isAlive()?<span class=\"string\">&quot;live&quot;</span>:<span class=\"string\">&quot;dead&quot;</span>);<span class=\"comment\">//打印细胞的状态</span></span><br><span class=\"line\">\t\t\t\t\tSystem.out.print(<span class=\"string\">&quot;:&quot;</span>+numOfLive+<span class=\"string\">&quot;--&gt;&quot;</span>);<span class=\"comment\">//打印细胞的邻居中有多少个细胞是活的</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">//写入下一次的细胞状态</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> ( cell.isAlive() ) &#123;<span class=\"comment\">//如果当前细胞是活的</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> ( numOfLive &lt;<span class=\"number\">2</span> || numOfLive &gt;<span class=\"number\">3</span> ) &#123;<span class=\"comment\">//判断是否满足让细胞死的条件条件</span></span><br><span class=\"line\">\t\t\t\t\t\t\tcell.die();<span class=\"comment\">//让细胞死</span></span><br><span class=\"line\">\t\t\t\t\t\t\tSystem.out.print(<span class=\"string\">&quot;die&quot;</span>);</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ( numOfLive == <span class=\"number\">3</span> ) &#123;<span class=\"comment\">//如果当前细胞是死的，判断是否满足让细胞活的条件条件</span></span><br><span class=\"line\">\t\t\t\t\t\tcell.reborn();<span class=\"comment\">//让细胞活</span></span><br><span class=\"line\">\t\t\t\t\t\tSystem.out.print(<span class=\"string\">&quot;reborn&quot;</span>);</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\tSystem.out.println();</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tSystem.out.println(<span class=\"string\">&quot;UPDATE&quot;</span>);</span><br><span class=\"line\">\t\t\tframe.repaint();<span class=\"comment\">//整个Field都更新好后，画出棋盘</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">//延时</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\t\tThread.sleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">\t\t\t\te.printStackTrace();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Field.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> field;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Field</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> width;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> height;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Cell[][] field;<span class=\"comment\">//一个二维数组field，存放每个格子（细胞）</span></span><br><span class=\"line\">\t<span class=\"comment\">//构造器，初始化棋盘</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Field</span><span class=\"params\">(<span class=\"type\">int</span> width, <span class=\"type\">int</span> height)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.width = width;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.height = height;</span><br><span class=\"line\">\t\tfield = <span class=\"keyword\">new</span> <span class=\"title class_\">Cell</span>[height][width];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getWidth</span><span class=\"params\">()</span> &#123; <span class=\"keyword\">return</span> width; &#125;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getHeight</span><span class=\"params\">()</span> &#123; <span class=\"keyword\">return</span> height; &#125;</span><br><span class=\"line\">\t<span class=\"comment\">//添加细胞</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell <span class=\"title function_\">place</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col, Cell o)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Cell</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> field[row][col];</span><br><span class=\"line\">\t\tfield[row][col] = o;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">//获取某个格子</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell <span class=\"title function_\">get</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> field[row][col];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">//获取周围细胞</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell[] getNeighbour(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col) &#123;</span><br><span class=\"line\">\t\tArrayList&lt;Cell&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Cell&gt;();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> i=-<span class=\"number\">1</span>; i&lt;<span class=\"number\">2</span>; i++ ) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> j=-<span class=\"number\">1</span>; j&lt;<span class=\"number\">2</span>; j++ ) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">int</span> <span class=\"variable\">r</span> <span class=\"operator\">=</span> row+i;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">int</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> col+j;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> ( r &gt;-<span class=\"number\">1</span> &amp;&amp; r&lt;height &amp;&amp; c&gt;-<span class=\"number\">1</span> &amp;&amp; c&lt;width &amp;&amp; !(r== row &amp;&amp; c == col) ) &#123;</span><br><span class=\"line\">\t\t\t\t\tlist.add(field[r][c]);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        <span class=\"comment\">//toArray会自动把一个Cell[]数组装好，让返回这个数组</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> list.toArray(<span class=\"keyword\">new</span> <span class=\"title class_\">Cell</span>[list.size()]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">//清空所有格子</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">clear</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;height; i++ ) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> j=<span class=\"number\">0</span>; j&lt;width; j++ ) &#123;</span><br><span class=\"line\">\t\t\t\tfield[i][j] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>View.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> field;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Dimension;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.JFrame;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.JPanel;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">View</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">JPanel</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">long</span> <span class=\"variable\">serialVersionUID</span> <span class=\"operator\">=</span> -<span class=\"number\">5258995676212660595L</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">GRID_SIZE</span> <span class=\"operator\">=</span> <span class=\"number\">16</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Field theField;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">//构造器</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">View</span><span class=\"params\">(Field field)</span> &#123;</span><br><span class=\"line\">\t\ttheField = field;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">//每次当窗口被重绘时调用，被调用时会得到一个Graphics对象，即当前要画的对象</span></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">paint</span><span class=\"params\">(Graphics g)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.paint(g);<span class=\"comment\">//调用父类的paint方法</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//绘制网格</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row&lt;theField.getHeight(); row++ ) &#123;<span class=\"comment\">//行</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col&lt;theField.getWidth(); col++ ) &#123;<span class=\"comment\">//列</span></span><br><span class=\"line\">\t\t\t\t<span class=\"type\">Cell</span> <span class=\"variable\">cell</span> <span class=\"operator\">=</span> theField.get(row, col);<span class=\"comment\">//得到每个格子的对象</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> ( cell != <span class=\"literal\">null</span> ) &#123;<span class=\"comment\">//如果该格子有对象</span></span><br><span class=\"line\">\t\t\t\t\tcell.draw(g, col*GRID_SIZE, row*GRID_SIZE, GRID_SIZE);<span class=\"comment\">//绘制该格子</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Dimension <span class=\"title function_\">getPreferredSize</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Dimension</span>(theField.getWidth()*GRID_SIZE+<span class=\"number\">1</span>, theField.getHeight()*GRID_SIZE+<span class=\"number\">1</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Field</span> <span class=\"variable\">field</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Field</span>(<span class=\"number\">10</span>,<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row&lt;field.getHeight(); row++ ) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> ( <span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col&lt;field.getWidth(); col++ ) &#123;</span><br><span class=\"line\">\t\t\t\tfield.place(row, col, <span class=\"keyword\">new</span> <span class=\"title class_\">Cell</span>());</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"type\">View</span> <span class=\"variable\">view</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">View</span>(field);</span><br><span class=\"line\">\t\t<span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();</span><br><span class=\"line\">\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class=\"line\">\t\tframe.setResizable(<span class=\"literal\">false</span>);</span><br><span class=\"line\">\t\tframe.setTitle(<span class=\"string\">&quot;Cells&quot;</span>);</span><br><span class=\"line\">\t\tframe.add(view);</span><br><span class=\"line\">\t\tframe.pack();</span><br><span class=\"line\">\t\tframe.setVisible(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"Cell、Field、View的关系\"><a href=\"#Cell、Field、View的关系\" class=\"headerlink\" title=\"Cell、Field、View的关系\"></a>Cell、Field、View的关系</h2><p>Field只需要管好数据以及提供数据<br>View只管拿到数据之后按数据把整个网格都重新画一遍<br>而Cell只管自己应该画空心还是实心，Field要就提供给它  </p>\n<p>不去精心设计哪个局部需要更新，需要更新就整个重画<br>这样简化了程序逻辑，是在计算机运算速度提高的基础上实现的  </p>\n<div><img src=https://cdn.chuckle.top/images/7-8.webp width=\"80%\" height=\"80%\"></div>\n\n<h2 id=\"数据与表现分离\"><a href=\"#数据与表现分离\" class=\"headerlink\" title=\"数据与表现分离\"></a>数据与表现分离</h2><p>程序的业务逻辑与表现无关<br>-表现可以是图形的也可以是文本的<br>-表现可以是当地的也可以是远程的  </p>\n<p>需要不同表现，那就用不同表现的代码去取数据，然后表现出来  </p>\n<h2 id=\"责任驱动的设计\"><a href=\"#责任驱动的设计\" class=\"headerlink\" title=\"责任驱动的设计\"></a>责任驱动的设计</h2><p>将程序要实现的功能分配到合适的类/对象中去是设计中非常重要的一环  </p>\n<p>将功能拆分成很多个部分，每个部分只做自己擅长做的、简单的事  </p>\n<h2 id=\"网格化\"><a href=\"#网格化\" class=\"headerlink\" title=\"网格化\"></a>网格化</h2><p>图形界面本身有更高的解析度，但是将画面网格化以后，数据就更容易处理了  </p>\n<p>无需关心x、y轴坐标，只需知道要操作的对象在第几行第几列</p>\n<hr>\n<h1 id=\"狐狸和兔子\"><a href=\"#狐狸和兔子\" class=\"headerlink\" title=\"狐狸和兔子\"></a>狐狸和兔子</h1><p>细胞自动机是细胞在一个网格上，每个细胞都有两种状态  </p>\n<p>现在要模拟一个有狐狸和兔子的农场：<br>·狐狸和兔子都有年龄，且有规律增加<br>·当年龄到了一定的上限就会自然死亡<br>·狐狸可以随机决定在周围的兔子中吃一个，吃了后年龄上限会提高<br>·狐狸和兔子可以随机决定生一个小的，放在旁边的空的格子里<br>·如果不吃也不生，狐狸和兔子可以随机决定向旁边空的格子移一步  </p>\n<p>这比只有细胞，细胞只有两种状态要复杂得多  </p>\n<h2 id=\"源码\"><a href=\"#源码\" class=\"headerlink\" title=\"源码\"></a>源码</h2><p>这个没注释，原理和细胞自动机差不多<br><figure class=\"highlight java\"><figcaption><span>Cell.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Cell</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g, <span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> size)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight java\"><figcaption><span>Animal.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> animal;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"><span class=\"keyword\">import</span> field.Location;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Animal</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> ageLimit;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> breedableAge;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"variable\">isAlive</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Animal</span><span class=\"params\">(<span class=\"type\">int</span> ageLimit, <span class=\"type\">int</span> breedableAge)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.ageLimit = ageLimit;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.breedableAge = breedableAge;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> <span class=\"type\">int</span> <span class=\"title function_\">getAge</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> age;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> <span class=\"type\">double</span> <span class=\"title function_\">getAgePercent</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> (<span class=\"type\">double</span>) age / ageLimit;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Animal <span class=\"title function_\">breed</span><span class=\"params\">()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">grow</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\tage++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (age &gt;= ageLimit) &#123;</span><br><span class=\"line\">\t\t\tdie();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">die</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\tisAlive = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isAlive</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> isAlive;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isBreedable</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> age &gt;= breedableAge;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Location <span class=\"title function_\">move</span><span class=\"params\">(Location[] freeAdj)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Location</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (freeAdj.length &gt; <span class=\"number\">0</span> &amp;&amp; Math.random() &lt; <span class=\"number\">0.02</span>) &#123;</span><br><span class=\"line\">\t\t\tret = freeAdj[(<span class=\"type\">int</span>) (Math.random() * freeAdj.length)];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span> + age + <span class=\"string\">&quot;:&quot;</span> + (isAlive ? <span class=\"string\">&quot;live&quot;</span> : <span class=\"string\">&quot;dead&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Animal <span class=\"title function_\">feed</span><span class=\"params\">(ArrayList&lt;Animal&gt; neighbour)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">longerLife</span><span class=\"params\">(<span class=\"type\">int</span> inc)</span> &#123;</span><br><span class=\"line\">\t\tageLimit += inc;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Fox.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> animal;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Color;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Fox</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Cell</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Fox</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>(<span class=\"number\">20</span>, <span class=\"number\">4</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g, <span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> size)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> <span class=\"variable\">alpha</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span>) ((<span class=\"number\">1</span> - getAgePercent()) * <span class=\"number\">255</span>);</span><br><span class=\"line\">\t\tg.setColor(<span class=\"keyword\">new</span> <span class=\"title class_\">Color</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, alpha));<span class=\"comment\">// (int)((20-getAge())/20.0*255)));</span></span><br><span class=\"line\">\t\tg.fillRect(x, y, size, size);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Animal <span class=\"title function_\">breed</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Animal</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (isBreedable() &amp;&amp; Math.random() &lt; <span class=\"number\">0.05</span>) &#123;</span><br><span class=\"line\">\t\t\tret = <span class=\"keyword\">new</span> <span class=\"title class_\">Fox</span>();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;Fox:&quot;</span> + <span class=\"built_in\">super</span>.toString();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Animal <span class=\"title function_\">feed</span><span class=\"params\">(ArrayList&lt;Animal&gt; neighbour)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Animal</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (Math.random() &lt; <span class=\"number\">0.2</span>) &#123;</span><br><span class=\"line\">\t\t\tret = neighbour.get((<span class=\"type\">int</span>) (Math.random() * neighbour.size()));</span><br><span class=\"line\">\t\t\tlongerLife(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Rabbit.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> animal;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Color;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Rabbit</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Cell</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Rabbit</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>(<span class=\"number\">10</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g, <span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> size)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> <span class=\"variable\">alpha</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span>) ((<span class=\"number\">1</span> - getAgePercent()) * <span class=\"number\">255</span>);</span><br><span class=\"line\">\t\tg.setColor(<span class=\"keyword\">new</span> <span class=\"title class_\">Color</span>(<span class=\"number\">255</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, alpha));</span><br><span class=\"line\">\t\tg.fillRect(x, y, size, size);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Animal <span class=\"title function_\">breed</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Animal</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (isBreedable() &amp;&amp; Math.random() &lt; <span class=\"number\">0.12</span>) &#123;</span><br><span class=\"line\">\t\t\tret = <span class=\"keyword\">new</span> <span class=\"title class_\">Rabbit</span>();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;Rabbit:&quot;</span> + <span class=\"built_in\">super</span>.toString();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Field.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> field;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Field</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Location[] adjacent = &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(-<span class=\"number\">1</span>, -<span class=\"number\">1</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(-<span class=\"number\">1</span>, <span class=\"number\">0</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(-<span class=\"number\">1</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(<span class=\"number\">0</span>, -<span class=\"number\">1</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(<span class=\"number\">0</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(<span class=\"number\">1</span>, -<span class=\"number\">1</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(<span class=\"number\">1</span>, <span class=\"number\">0</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(<span class=\"number\">1</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> width;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> height;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Cell[][] field;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Field</span><span class=\"params\">(<span class=\"type\">int</span> width, <span class=\"type\">int</span> height)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.width = width;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.height = height;</span><br><span class=\"line\">\t\tfield = <span class=\"keyword\">new</span> <span class=\"title class_\">Cell</span>[height][width];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getWidth</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> width;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getHeight</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> height;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell <span class=\"title function_\">place</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col, Cell o)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Cell</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> field[row][col];</span><br><span class=\"line\">\t\tfield[row][col] = o;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell <span class=\"title function_\">get</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> field[row][col];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell[] getNeighbour(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col) &#123;</span><br><span class=\"line\">\t\tArrayList&lt;Cell&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Cell&gt;();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> -<span class=\"number\">1</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> -<span class=\"number\">1</span>; j &lt; <span class=\"number\">2</span>; j++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">int</span> <span class=\"variable\">r</span> <span class=\"operator\">=</span> row + i;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">int</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> col + j;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (r &gt; -<span class=\"number\">1</span> &amp;&amp; r &lt; height &amp;&amp; c &gt; -<span class=\"number\">1</span> &amp;&amp; c &lt; width &amp;&amp; !(r == row &amp;&amp; c == col)) &#123;</span><br><span class=\"line\">\t\t\t\t\tlist.add(field[r][c]);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> list.toArray(<span class=\"keyword\">new</span> <span class=\"title class_\">Cell</span>[list.size()]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Location[] getFreeNeighbour(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col) &#123;</span><br><span class=\"line\">\t\tArrayList&lt;Location&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Location&gt;();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (Location loc : adjacent) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> <span class=\"variable\">r</span> <span class=\"operator\">=</span> row + loc.getRow();</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> col + loc.getCol();</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (r &gt; -<span class=\"number\">1</span> &amp;&amp; r &lt; height &amp;&amp; c &gt; -<span class=\"number\">1</span> &amp;&amp; c &lt; width &amp;&amp; field[r][c] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">\t\t\t\tlist.add(<span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>(r, c));</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> list.toArray(<span class=\"keyword\">new</span> <span class=\"title class_\">Location</span>[list.size()]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">placeRandomAdj</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col, Cell cell)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">boolean</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\tLocation[] freeAdj = getFreeNeighbour(row, col);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (freeAdj.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> <span class=\"variable\">idx</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span>) (Math.random() * freeAdj.length);</span><br><span class=\"line\">\t\t\tfield[freeAdj[idx].getRow()][freeAdj[idx].getCol()] = cell;</span><br><span class=\"line\">\t\t\tret = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Cell <span class=\"title function_\">remove</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Cell</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> field[row][col];</span><br><span class=\"line\">\t\tfield[row][col] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">remove</span><span class=\"params\">(Cell cell)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row &lt; height; row++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col &lt; width; col++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (field[row][col] == cell) &#123;</span><br><span class=\"line\">\t\t\t\t\tfield[row][col] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">clear</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; height; i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; width; j++) &#123;</span><br><span class=\"line\">\t\t\t\tfield[i][j] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col, Location loc)</span> &#123;</span><br><span class=\"line\">\t\tfield[loc.getRow()][loc.getCol()] = field[row][col];</span><br><span class=\"line\">\t\tremove(row, col);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>Location.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> field;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Location</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> row;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"type\">int</span> col;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Location</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.row = row;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.col = col;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getRow</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> row;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getCol</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> col;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>View.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> field;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Color;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Dimension;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.JPanel;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">View</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">JPanel</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">long</span> <span class=\"variable\">serialVersionUID</span> <span class=\"operator\">=</span> -<span class=\"number\">2417015700213488315L</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">GRID_SIZE</span> <span class=\"operator\">=</span> <span class=\"number\">16</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Field theField;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">View</span><span class=\"params\">(Field field)</span> &#123;</span><br><span class=\"line\">\t\ttheField = field;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">paint</span><span class=\"params\">(Graphics g)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">super</span>.paint(g);</span><br><span class=\"line\">\t\tg.setColor(Color.GRAY);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row &lt; theField.getHeight(); row++) &#123;</span><br><span class=\"line\">\t\t\tg.drawLine(<span class=\"number\">0</span>, row * GRID_SIZE, theField.getWidth() * GRID_SIZE, row * GRID_SIZE);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col &lt; theField.getWidth(); col++) &#123;</span><br><span class=\"line\">\t\t\tg.drawLine(col * GRID_SIZE, <span class=\"number\">0</span>, col * GRID_SIZE, theField.getHeight() * GRID_SIZE);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row &lt; theField.getHeight(); row++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col &lt; theField.getWidth(); col++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">Cell</span> <span class=\"variable\">cell</span> <span class=\"operator\">=</span> theField.get(row, col);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (cell != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tcell.draw(g, col * GRID_SIZE, row * GRID_SIZE, GRID_SIZE);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> Dimension <span class=\"title function_\">getPreferredSize</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Dimension</span>(theField.getWidth() * GRID_SIZE + <span class=\"number\">1</span>, theField.getHeight() * GRID_SIZE + <span class=\"number\">1</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><figcaption><span>FoxAndRabbit.java</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> foxnrabbit;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.JFrame;</span><br><span class=\"line\"><span class=\"keyword\">import</span> animal.Animal;</span><br><span class=\"line\"><span class=\"keyword\">import</span> animal.Fox;</span><br><span class=\"line\"><span class=\"keyword\">import</span> animal.Rabbit;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cell.Cell;</span><br><span class=\"line\"><span class=\"keyword\">import</span> field.Field;</span><br><span class=\"line\"><span class=\"keyword\">import</span> field.Location;</span><br><span class=\"line\"><span class=\"keyword\">import</span> field.View;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">FoxAndRabbit</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Field theField;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> View theView;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">FoxAndRabbit</span><span class=\"params\">(<span class=\"type\">int</span> size)</span> &#123;</span><br><span class=\"line\">\t\ttheField = <span class=\"keyword\">new</span> <span class=\"title class_\">Field</span>(size, size);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row &lt; theField.getHeight(); row++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col &lt; theField.getWidth(); col++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">double</span> <span class=\"variable\">probability</span> <span class=\"operator\">=</span> Math.random();</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (probability &lt; <span class=\"number\">0.05</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\ttheField.place(row, col, <span class=\"keyword\">new</span> <span class=\"title class_\">Fox</span>());</span><br><span class=\"line\">\t\t\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (probability &lt; <span class=\"number\">0.15</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\ttheField.place(row, col, <span class=\"keyword\">new</span> <span class=\"title class_\">Rabbit</span>());</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\ttheView = <span class=\"keyword\">new</span> <span class=\"title class_\">View</span>(theField);</span><br><span class=\"line\">\t\t<span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();</span><br><span class=\"line\">\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class=\"line\">\t\tframe.setResizable(<span class=\"literal\">false</span>);</span><br><span class=\"line\">\t\tframe.setTitle(<span class=\"string\">&quot;Cells&quot;</span>);</span><br><span class=\"line\">\t\tframe.add(theView);</span><br><span class=\"line\">\t\tframe.pack();</span><br><span class=\"line\">\t\tframe.setVisible(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">start</span><span class=\"params\">(<span class=\"type\">int</span> steps)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; steps; i++) &#123;</span><br><span class=\"line\">\t\t\tstep();</span><br><span class=\"line\">\t\t\ttheView.repaint();</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\t\tThread.sleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">\t\t\t\te.printStackTrace();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">step</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; row &lt; theField.getHeight(); row++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">col</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; col &lt; theField.getWidth(); col++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"type\">Cell</span> <span class=\"variable\">cell</span> <span class=\"operator\">=</span> theField.get(row, col);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (cell != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"type\">Animal</span> <span class=\"variable\">animal</span> <span class=\"operator\">=</span> (Animal) cell;</span><br><span class=\"line\">\t\t\t\t\tanimal.grow();</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> (animal.isAlive()) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"type\">Location</span> <span class=\"variable\">loc</span> <span class=\"operator\">=</span> animal.move(theField.getFreeNeighbour(row, col));</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> (loc != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\ttheField.move(row, col, loc);</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// eat</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// animal.eat(theField);</span></span><br><span class=\"line\">\t\t\t\t\t\tCell[] neighbour = theField.getNeighbour(row, col);</span><br><span class=\"line\">\t\t\t\t\t\tArrayList&lt;Animal&gt; listRabbit = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Animal&gt;();</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">for</span> (Cell an : neighbour) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">if</span> (an <span class=\"keyword\">instanceof</span> Rabbit) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\tlistRabbit.add((Rabbit) an);</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> (!listRabbit.isEmpty()) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"type\">Animal</span> <span class=\"variable\">fed</span> <span class=\"operator\">=</span> animal.feed(listRabbit);</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">if</span> (fed != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\ttheField.remove((Cell) fed);</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// breed</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"type\">Animal</span> <span class=\"variable\">baby</span> <span class=\"operator\">=</span> animal.breed();</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> (baby != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\ttheField.placeRandomAdj(row, col, (Cell) baby);</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\ttheField.remove(row, col);</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FoxAndRabbit</span> <span class=\"variable\">fab</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">FoxAndRabbit</span>(<span class=\"number\">50</span>);</span><br><span class=\"line\">\t\tfab.start(<span class=\"number\">500</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"项目结构及分析\"><a href=\"#项目结构及分析\" class=\"headerlink\" title=\"项目结构及分析\"></a>项目结构及分析</h2><div><img src=https://cdn.chuckle.top/images/7-9.webp width=\"40%\" height=\"40%\"></div>\n\n<p>在英文中Cell有两种意思，格子、细胞<br>在刚刚到细胞自动机中，Cell类表达细胞，或者没有细胞的空格子，这很合理  </p>\n<p>狐狸和兔子类有很多相似的属性和动作，所以它们应该有一个父类<br>但这个父类不应该是Cell，Cell在这个程序中应该表达有东西或没东西的格子才合理<br>所以这个父类应该是Animal  </p>\n<p>现在类之间关系是这样的：  </p>\n<div><img src=https://cdn.chuckle.top/images/7-10.webp width=\"100%\" height=\"100%\"></div>\n\n<p>在细胞自动机中我们通过place(r,c,cell)将Cell放进网格中<br>但现在Fox、Rabbit和Cell没有联系，无法将它们放进网格中<br>如果按照之前的思路，Fox、Rabbit应该也是Cell的子类，但多继承是不被允许的（除了C++）  </p>\n<p>如果让Animal从Cell继承，这在语意上是模糊的，动物不应该是一种格子（虽然这样做能实现）  </p>\n<h2 id=\"接口\"><a href=\"#接口\" class=\"headerlink\" title=\"接口\"></a>接口</h2><p>接口是纯抽象类<br>·所有的成员函数都是抽象函数<br>·所有的成员变量都是public static final  </p>\n<p>类表达一个具体的东西，而接口表达一种概念、一种规范<br>接口规定了长什么样，但是不管里面有什么  </p>\n<p>我们可以将Cell类改造成接口：<br><figure class=\"highlight java\"><figcaption><span>Cell</span></figcaption><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.awt.Graphics;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Cell</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g, <span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> size)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>Cell现在的作用：所有实现了Cell这个接口的类，都应该有draw这个方法<br>在这个程序中，只要实现了这个方法的类的对象，都可以直接放到Field中  </p>\n<p>为什么Cell接口只要求实现draw方法？<br>因为将来View只需要拿Cell去draw，所以只需要要求放到Field里的类的对象实现draw方法  </p>\n<p>现在类之间关系是这样的：  </p>\n<div><img src=https://cdn.chuckle.top/images/7-11.webp width=\"100%\" height=\"100%\"></div>\n\n<p>现在Fox、Rabbit的对象都可以放进Field里（Field需要一个Cell，而Fox、Rabbit都实现了Cell）  </p>\n<h3 id=\"implements\"><a href=\"#implements\" class=\"headerlink\" title=\"implements\"></a>implements</h3><p>用关键字implements让类实现接口<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Fox</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Cell</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Fox是一种Animal，它实现了Cell</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>在Field的place方法中,place需要一个Cell类的对象<br>Cell本身是一个接口，它本身是抽象的，不可能有对象<br>但<strong>所有实现了Cell接口</strong>的对象都可以交给Cell对象的管理者<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> Cell <span class=\"title function_\">place</span><span class=\"params\">(<span class=\"type\">int</span> row, <span class=\"type\">int</span> col, Cell o)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Cell</span> <span class=\"variable\">ret</span> <span class=\"operator\">=</span> field[row][col];</span><br><span class=\"line\">\t\tfield[row][col] = o;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure><br>当Fox实现Cell后，就必须重写Cell中的方法<br>把draw方法实际地做出来<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">(Graphics g, <span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> size)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> <span class=\"variable\">alpha</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span>) ((<span class=\"number\">1</span> - getAgePercent()) * <span class=\"number\">255</span>);</span><br><span class=\"line\">\t\tg.setColor(<span class=\"keyword\">new</span> <span class=\"title class_\">Color</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, alpha));</span><br><span class=\"line\">\t\tg.fillRect(x, y, size, size);</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure><br>类用extends,接口用implements<br>类可以实现很多接口<br>接口可以继承接口，但不能继承类<br>接口不能实现接口  </p>\n<h3 id=\"interface\"><a href=\"#interface\" class=\"headerlink\" title=\"interface\"></a>interface</h3><p>声明一个接口<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Cell</span>&#123;<span class=\"comment\">//接口</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Cell</span>&#123;<span class=\"comment\">//类</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>interface是一种特殊的class，它替代掉了class  </p>\n<h3 id=\"面向接口的编程方式\"><a href=\"#面向接口的编程方式\" class=\"headerlink\" title=\"面向接口的编程方式\"></a>面向接口的编程方式</h3><p>在上面的程序中，Field需要一个能draw的类的对象，然后Field提供了一个Cell接口，所有实现了这个接口的东西都可以交给Field，而它不关心这个东西是什么，只需要符合接口即可  </p>\n<p>设计程序时先定义接口，再实现类<br>任何需要在函数间传入传出的一定是接口而不是具体的类<br>是Java成功的关键之一，因为极适合多人同时写一个大程序：每个人只需要用接口去提出要求，其他人根据借口实现具体的类<br>也是Java被批评的要点之一，因为代码量膨胀起来很快，显得程序十分臃肿  </p>\n<h2 id=\"增加一个按钮\"><a href=\"#增加一个按钮\" class=\"headerlink\" title=\"增加一个按钮\"></a>增加一个按钮</h2><p>在狐狸与兔子程序的图形界面中增加一个按钮，按一下执行一步   </p>\n<p>在FoxAndRabbit.java中，这么一段代码生成了一个窗口<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">theView = <span class=\"keyword\">new</span> <span class=\"title class_\">View</span>(theField);</span><br><span class=\"line\"><span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();</span><br><span class=\"line\">frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class=\"line\">frame.setResizable(<span class=\"literal\">false</span>);</span><br><span class=\"line\">frame.setTitle(<span class=\"string\">&quot;Cells&quot;</span>);</span><br><span class=\"line\">frame.add(theView);</span><br><span class=\"line\">frame.pack();</span><br><span class=\"line\">frame.setVisible(<span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure><br>首先要在窗口中增加一个按钮<br><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">theView = <span class=\"keyword\">new</span> <span class=\"title class_\">View</span>(theField);</span><br><span class=\"line\"><span class=\"type\">JFrame</span> <span class=\"variable\">frame</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JFrame</span>();</span><br><span class=\"line\">frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class=\"line\">frame.setResizable(<span class=\"literal\">false</span>);</span><br><span class=\"line\">frame.setTitle(<span class=\"string\">&quot;Cells&quot;</span>);</span><br><span class=\"line\">frame.add(theView);</span><br><span class=\"line\"><span class=\"comment\">//有一个类叫JButton，做一个叫btnstep的对象</span></span><br><span class=\"line\"><span class=\"type\">JButton</span> <span class=\"variable\">btnstep</span> <span class=\"operator\">=</span><span class=\"keyword\">new</span> <span class=\"title class_\">JButton</span>(<span class=\"string\">&quot;单步&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">//把这个按钮加到窗口中</span></span><br><span class=\"line\">frame.add(btnstep);</span><br><span class=\"line\">frame.pack();</span><br><span class=\"line\">frame.setVisible(<span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure><br>运行一下</p>\n<div><img src=https://cdn.chuckle.top/images/7-12.webp width=\"30%\" height=\"30%\"></div>\n\n<p>整个窗口只剩下了我们加进去的这个按钮,解决这个问题我们需要了解Swing  </p>\n<hr>\n<blockquote>\n<p>下接<a href=\"/article/8636f786.html\">JAVA/面向对象学习笔记(3)</a></p>\n</blockquote>\n","categories":["学习笔记"],"tags":["JAVA","JavaSE"]}]